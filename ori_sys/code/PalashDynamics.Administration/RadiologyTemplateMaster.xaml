<UserControl   xmlns:my="clr-namespace:Liquid;assembly=RichTextEditor"  x:Class="PalashDynamics.Administration.RadiologyTemplateMaster"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
    xmlns:dataInput="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input"
    xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"
    xmlns:inputcombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox" 
    xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"  
    xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data" 
                xmlns:dgAdapter="clr-namespace:PalashDynamics.DataGridSelectionAdapter"
                xmlns:CustomCombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
    xmlns:GroupBox="clr-namespace:Groupbox;assembly=Groupbox"         
    mc:Ignorable="d"
    xmlns:c1="http://schemas.componentone.com/winfx/2006/xaml"          
   Height="Auto" Width="Auto" Loaded="RadiologyTemplateMaster_Loaded">


    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
         </ResourceDictionary>
    </UserControl.Resources>
    

    <Grid >
        <Grid.Resources>
            <Style x:Key="DataGridAutoCompleteTemplate1" TargetType="CustomCombo:AutoCompleteComboBox">
                <Setter Property="Background" Value="#FF1F3B53"/>
                <Setter Property="IsTabStop" Value="False" />
                <Setter Property="HorizontalContentAlignment" Value="Left"/>
                <Setter Property="BorderBrush">
                    <Setter.Value>
                        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                            <GradientStop Color="#FFA3AEB9" Offset="0"/>
                            <GradientStop Color="#FF8399A9" Offset="0.375"/>
                            <GradientStop Color="#FF718597" Offset="0.375"/>
                            <GradientStop Color="#FF617584" Offset="1"/>
                        </LinearGradientBrush>
                    </Setter.Value>
                </Setter>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="input:AutoCompleteBox">
                            <Grid Margin="{TemplateBinding Padding}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="PopupStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition GeneratedDuration="0:0:0.2" To="PopupOpened" />
                                            <VisualTransition GeneratedDuration="0:0:0.5" To="PopupClosed" />
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="PopupOpened">
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="PopupBorder" Storyboard.TargetProperty="Opacity" To="1.0" />
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="PopupClosed">
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="PopupBorder" Storyboard.TargetProperty="Opacity" To="0.0" />
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <TextBox IsTabStop="True" x:Name="Text" Style="{TemplateBinding TextBoxStyle}" Margin="0" />
                                <ToggleButton 
                                x:Name="DropDownToggle"                        
                                HorizontalAlignment="Right"
                                VerticalAlignment="Center"
                                Style="{StaticResource ComboToggleButton}"
                                Margin="0"
                                HorizontalContentAlignment="Center" 
                                Background="{TemplateBinding Background}" 
                                BorderThickness="0" 
                                Height="16" Width="16"
                                >


                                    <ToggleButton.Content>
                                        <Path x:Name="BtnArrow" Height="4" Width="8" Stretch="Uniform" Data="F1 M 301.14,-189.041L 311.57,-189.041L 306.355,-182.942L 301.14,-189.041 Z " 
                                          Margin="0,0,6,0" HorizontalAlignment="Right">
                                            <Path.Fill>
                                                <SolidColorBrush x:Name="BtnArrowColor" Color="#FF333333"/>
                                            </Path.Fill>
                                        </Path>
                                    </ToggleButton.Content>
                                </ToggleButton>
                                <Popup x:Name="Popup">
                                    <Border x:Name="PopupBorder" HorizontalAlignment="Stretch" Opacity="0.0" BorderThickness="0" CornerRadius="3">
                                        <Border.RenderTransform>
                                            <TranslateTransform X="2" Y="2" />
                                        </Border.RenderTransform>
                                        <Border.Background>
                                            <SolidColorBrush Color="#11000000" />
                                        </Border.Background>
                                        <Border HorizontalAlignment="Stretch" BorderThickness="0" CornerRadius="3">
                                            <Border.Background>
                                                <SolidColorBrush Color="#11000000" />
                                            </Border.Background>
                                            <Border.RenderTransform>
                                                <TransformGroup>
                                                    <ScaleTransform />
                                                    <SkewTransform />
                                                    <RotateTransform />
                                                    <TranslateTransform X="-1" Y="-1" />
                                                </TransformGroup>
                                            </Border.RenderTransform>
                                            <Border HorizontalAlignment="Stretch" Opacity="1.0" Padding="1" BorderThickness="1" BorderBrush="{TemplateBinding BorderBrush}" CornerRadius="3">
                                                <Border.RenderTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform />
                                                        <SkewTransform />
                                                        <RotateTransform />
                                                        <TranslateTransform X="-2" Y="-2" />
                                                    </TransformGroup>
                                                </Border.RenderTransform>
                                                <Border.Background>
                                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                        <GradientStop Color="#FFDDDDDD" Offset="0"/>
                                                        <GradientStop Color="#AADDDDDD" Offset="1"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                                <dgAdapter:DataGridSelectionAdapter
                                                Width="auto"
                                                x:Name="SelectionAdapter" 
                                                AutoGenerateColumns="False"
                                                IsReadOnly="True">
                                                    <dgAdapter:DataGridSelectionAdapter.Columns>
                                                        <data:DataGridTemplateColumn>
                                                            <data:DataGridTemplateColumn.CellTemplate>
                                                                <DataTemplate >
                                                                    <CheckBox x:Name="chkMultipleDoctors" IsChecked="{Binding Status, Mode=TwoWay}" IsEnabled="{Binding IsEnable, Mode=TwoWay}"></CheckBox>
                                                                </DataTemplate>
                                                            </data:DataGridTemplateColumn.CellTemplate>
                                                        </data:DataGridTemplateColumn>
                                                        <data:DataGridTextColumn IsReadOnly="True" Header="Gender" Width="Auto"  Binding="{Binding Description, Mode=TwoWay}" />
                                                    </dgAdapter:DataGridSelectionAdapter.Columns>
                                                </dgAdapter:DataGridSelectionAdapter>
                                            </Border>
                                        </Border>
                                    </Border>
                                </Popup>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

        </Grid.Resources>

        <controlsToolkit:DockPanel LastChildFill="True">
            <Border BorderBrush="{StaticResource TabControlDarkerBorder}"  Margin="4" controlsToolkit:DockPanel.Dock="Bottom" BorderThickness="1" CornerRadius="3,3,3,3" Background="Transparent" >
                <StackPanel x:Name="Footer" Orientation="Horizontal" VerticalAlignment="Center"   Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                    <StackPanel Orientation="Horizontal"  Margin="1" HorizontalAlignment="Right"  >
                        <ToggleButton x:Name="cmdRadiologist" Content="Define Radiologist"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="cmdRadiologist_Click"  TabIndex="4" Width="126"></ToggleButton>
                        <ToggleButton x:Name="cmdNew" Content="New"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="cmdNew_Click" TabIndex="4"></ToggleButton>
                        <ToggleButton x:Name="cmdSave" Content="Save" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}"  Click="cmdSave_Click" TabIndex="12"></ToggleButton>
                        <ToggleButton Content="Modify" x:Name="cmdModify" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}"  Click="cmdModify_Click" TabIndex="14"></ToggleButton>
                        <ToggleButton Content="Cancel" x:Name="cmdCancel" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}"  Click="cmdCancel_Click" TabIndex="13"></ToggleButton>
                    </StackPanel>
                </StackPanel>
            </Border>

            <Grid x:Name="PageContainer" >

                <Grid Height="AUTO" Visibility="Visible" Width="auto" x:Name="FrontPanel" Grid.Row="0">

                    <controlsToolkit:DockPanel x:Name="docList">


                        <controlsToolkit:DockPanel x:Name="DockTop" controlsToolkit:DockPanel.Dock="Top" HorizontalAlignment="Stretch">
                            <Grid x:Name="LayoutRoot2" Background="White" Margin="4" HorizontalAlignment="Stretch"  >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"></RowDefinition>                                    
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition ></ColumnDefinition>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition ></ColumnDefinition>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition ></ColumnDefinition>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition ></ColumnDefinition>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Row="0"  Grid.Column="0"  Margin="4" Text="Description" />
                                <TextBox x:Name="txtDescriptionFront"  Grid.Row="0"  Grid.Column="1" Margin="4" MaxLength="50" HorizontalAlignment="Stretch"  TabIndex="1" Height="25"></TextBox>


                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center"  Grid.Row="0"  Grid.Column="2"   Margin="4" Text="Radiologist" />
                                <inputcombo:AutoCompleteComboBox x:Name="cmbRadiologistFront" Grid.Row="0"  Grid.Column="3" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID"    Margin="4" TabIndex="9" Height="25"/>

                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center"  Grid.Row="0"  Grid.Column="4"   Margin="4" Text="Gender" />
                                <inputcombo:AutoCompleteComboBox x:Name="cmbGenderFront" Grid.Row="0"  Grid.Column="5" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID"   Margin="4" TabIndex="9" Height="25"/>

                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center"  Grid.Row="0"  Grid.Column="6"   Margin="4" Text="Template Result" />
                                <inputcombo:AutoCompleteComboBox x:Name="cmbTemplateResultFront" Grid.Row="0"  Grid.Column="7" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID"    Margin="4" TabIndex="9" Height="25"/>

                                <Button x:Name="cmdSearch" Click="cmdSearch_Click" Margin="4" ToolTipService.ToolTip="Search Template"  Grid.Row="0" Grid.Column="8" TabIndex="3" >
                                     <Image Source="/PalashDynamics;component/Icons/xmag.png" Margin="2" Width="20" ></Image>
                                </Button>
                            </Grid>
                        </controlsToolkit:DockPanel>


                        <StackPanel controlsToolkit:DockPanel.Dock="Top">
                            <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                                <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Template Details" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                            </Border>
                        </StackPanel>

                        <data:DataPager x:Name="dgDataPager" controlsToolkit:DockPanel.Dock="Bottom" 
                                        DisplayMode="FirstLastPreviousNext" Source="{Binding}" IsEnabled="True"
                                        AutoEllipsis="False" IsTotalItemCountFixed="False"/>

                        <data:DataGrid x:Name="dgTemplateList" AutoGenerateColumns="False" ItemsSource="{Binding}" VerticalScrollBarVisibility="Visible" IsReadOnly="True" Margin="2" HorizontalAlignment="Stretch" TabIndex="4">
                            <data:DataGrid.Columns>
                                <data:DataGridTemplateColumn>
                                    <data:DataGridTemplateColumn.CellTemplate>

                                        <DataTemplate>
                                            <HyperlinkButton VerticalAlignment="Center"  Content="View"  Padding="5,0,5,0"  Click="View_Click"></HyperlinkButton>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                                <data:DataGridTextColumn Binding="{Binding Code}" Header="Code"  />
                                <data:DataGridTextColumn Binding="{Binding Description}" Header="Description" />
                                <!--<data:DataGridTextColumn Binding="{Binding Status}" Header="Status" />-->
                                <data:DataGridTemplateColumn Header="Status">
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <CheckBox HorizontalAlignment="Center" Margin="4" IsChecked="{Binding Status,Mode=TwoWay}" Checked="CheckBox_Checked"  Unchecked="CheckBox_Checked" IsEnabled="False"></CheckBox>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                            </data:DataGrid.Columns>
                        </data:DataGrid>
                    </controlsToolkit:DockPanel>
                </Grid>

                <Grid  Height="AUTO" Width="auto" x:Name="BackPanel" Visibility="Collapsed" Grid.Row="1">
                    <controlsToolkit:DockPanel x:Name="Content" controlsToolkit:DockPanel.Dock="top" LastChildFill="true"  >
                        <Border BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0" Margin="4,4,4,4"  Background="Transparent">
                            <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top" LastChildFill="True">

                                <controlsToolkit:DockPanel x:Name="docHeader" controlsToolkit:DockPanel.Dock="Top" HorizontalAlignment="Stretch">
                                    <Border controlsToolkit:DockPanel.Dock="Top" BorderBrush="{StaticResource TabControlDarkerBorder}"  Margin="0,-1,0,0" BorderThickness="1" CornerRadius="0,0,3,3" Background="Transparent">
                                        <GroupBox:GroupBox  Header="Template Details" Margin="4" Width="Auto" Height="Auto" Grid.Row="0" HorizontalAlignment="Stretch">
                                            <Grid x:Name="grdTemplate">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                    <ColumnDefinition ></ColumnDefinition>
                                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                    <ColumnDefinition ></ColumnDefinition>
                                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                    <ColumnDefinition ></ColumnDefinition>
                                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                    <ColumnDefinition ></ColumnDefinition>

                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                  
                                                        <RowDefinition />
                                                </Grid.RowDefinitions>
                                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Row="0" Grid.Column="0"  Margin="4,10,4,4" Text="Code" />
                                                <TextBox x:Name="txtCode" Text="{Binding Code, Mode=TwoWay}"  Grid.Column="1" Grid.Row="0"  Margin="4,10,4,4"  HorizontalAlignment="Stretch"  TabIndex="0" LostFocus="txtCode_LostFocus" MaxLength="10"></TextBox>

                                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Row="0"  Grid.Column="2"  Margin="4,10,4,4" Text="Description" />
                                                <TextBox x:Name="txtDescription" Text="{Binding Description, Mode=TwoWay}" Grid.Row="0"  Grid.Column="3" Margin="4,10,4,4"  HorizontalAlignment="Stretch"  TabIndex="1" MaxLength="50"  LostFocus="txtDescription_LostFocus" ></TextBox>


                                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center"  Grid.Row="1"  Grid.Column="4"  Margin="4" Text="Radiologist" Visibility="Collapsed" />
                                                <inputcombo:AutoCompleteComboBox x:Name="cmbRadiologist" Grid.Row="1"  Grid.Column="5" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID"   Margin="4" TabIndex="2" Visibility="Collapsed"  />

                                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Top"  Grid.Row="0"  Grid.Column="4"  Margin="4" Text="Gender" />
                                               <!-- <inputcombo:AutoCompleteComboBox x:Name="cmbGender" IsTextCompletionEnabled="False" MinimumPrefixLength="0" MinimumPopulateDelay="200"  Grid.Row="1"  Grid.Column="3" SelectedItemBinding="{Binding MasterListItem, Mode=TwoWay}" SelectedValuePath="ID"   Margin="4" TabIndex="3" DataContext="{Binding}"/>-->

                                                <CustomCombo:AutoCompleteComboBox  x:Name="cmbGender" IsTextCompletionEnabled="False" 
                                                                  MinimumPrefixLength="0" MinimumPopulateDelay="200" 
                                                                  Style="{StaticResource DataGridAutoCompleteTemplate1}" Margin="4" Grid.Row="0"  Grid.Column="5" SelectedItemBinding="{Binding MasterListItem, Mode=TwoWay}" SelectedValuePath="ID" DataContext="{Binding}" />




                                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center"  Grid.Row="0"  Grid.Column="6"  Margin="6" Text="Template Result" />
                                                <inputcombo:AutoCompleteComboBox x:Name="cmbTemplateResult" Grid.Row="0"  Grid.Column="7" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID"   Margin="4" TabIndex="4"/>



                                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Row="2"  Grid.Column="0"  Margin="4" Text="Design Template" />
                                                <!--<Button x:Name="btnDesign" Grid.Row="2"  Grid.Column="1"  Margin="4" Content="Design Template" />-->
                                                <!--<my:RichTextEditor Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="5" Margin ="4"  x:Name="richTextEditor"  TabIndex="5" />-->
                                                <controlsToolkit:DockPanel x:Name="dpC1RTB" Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="7" Margin ="4">
                                                    <c1:C1TabControl Grid.Row="0" Grid.Column="0"  SelectionChanged="OnSelectionChanged" TabStripPlacement="Bottom" Padding="0 0 0 2" c1:C1NagScreen.Nag="True">

                                                        <c1:C1TabItem Header="RichTextBox" Name="richTextBoxTab" c1:C1NagScreen.Nag="True">
                                                            <Grid>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="Auto" />
                                                                    <RowDefinition />
                                                                </Grid.RowDefinitions>
                                                                <c1:C1RichTextBoxToolbar x:Name="richToolbar" RichTextBox="{Binding ElementName=richTextEditor}" Margin="-1,-1,-1,0" c1:C1NagScreen.Nag="True" />
                                                                <c1:C1RichTextBox x:Name="richTextEditor" Grid.Row="1" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                            </Grid>
                                                        </c1:C1TabItem>

                                                        <c1:C1TabItem Header="Html" Name="htmlTab" c1:C1NagScreen.Nag="True" Visibility="Collapsed">
                                                            <c1:C1RichTextBox x:Name="htmlBox" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                        </c1:C1TabItem>

                                                        <c1:C1TabItem Header="Rtf" Name="rtfTab" c1:C1NagScreen.Nag="True" Visibility="Collapsed">
                                                            <c1:C1RichTextBox x:Name="rtfBox" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                        </c1:C1TabItem>
                                                    </c1:C1TabControl>
                                                </controlsToolkit:DockPanel>
                                            </Grid>
                                        </GroupBox:GroupBox>
                                    </Border>
                                </controlsToolkit:DockPanel>
                            </controlsToolkit:DockPanel>
                        </Border>
                    </controlsToolkit:DockPanel>
                    
                </Grid>

              

            </Grid>
        </controlsToolkit:DockPanel>
    </Grid>
</UserControl>
