<controls:ChildWindow x:Class="PalashDynamics.Administration.ChildDoctorPayment"
          xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"
           xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"  
           xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit" 
           xmlns:inputcombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
           xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           xmlns:dataInput="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input"
           xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"
           Width="602" Height="507" 
           Loaded="ChildWindow_Loaded" HasCloseButton="False">
    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>
    <Grid x:Name="LayoutRoot" Margin="2">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />

        </Grid.RowDefinitions>
        <StackPanel Grid.Row="3" x:Name="Footer" Orientation="Horizontal" VerticalAlignment="Center"   Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
            <StackPanel x:Name="SaveCommandPanel" Orientation="Horizontal"  Margin="0,0,0,0">
                <ToggleButton  x:Name="cmdAdd"  Grid.Row="4" Content="Add" Visibility="Collapsed" MinWidth="50" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch"  Style="{StaticResource ToggleButtonStyle}" Click="OKButton_Click" TabIndex="7" />
                <ToggleButton  x:Name="cmdClose"  Grid.Row="4" Content="Cancel" MinWidth="50" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch"  Visibility="Visible"  Style="{StaticResource ToggleButtonStyle}" Click="CancelButton_Click" TabIndex="8"/>
            </StackPanel>
        </StackPanel>
        <controlsToolkit:DockPanel x:Name="docShareList" >
            <StackPanel  x:Name="StackDoc" controlsToolkit:DockPanel.Dock="Top">
                <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="0" CornerRadius="3,3,0,0"  Background="Transparent">
                    <ContentControl  x:Name="ServiceContent" VerticalAlignment="Center" FontSize="12" Content="Service" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                </Border>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <TextBlock x:Name="ServiceContent3"  FontSize="12" Text="Service" Grid.Row="0" Grid.Column="0" Width="225" HorizontalAlignment="Left" />
                    <TextBlock  x:Name="ServiceContent2" FontSize="12" Text="Service2" Grid.Column="3" Width="171" HorizontalAlignment="Left" />

                </Grid>
                <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="0" CornerRadius="3,3,0,0"  Background="Transparent" Width="132"></Border>
            </StackPanel>
            <data:DataGrid  Grid.Row="0" x:Name="dgDoctorPaymentList" AutoGenerateColumns="False" ItemsSource="{Binding}" VerticalScrollBarVisibility="Visible" IsReadOnly="False" Margin="0,0,0,0" HorizontalAlignment="Stretch" TabIndex="2" Width="Auto" CellEditEnded="dgDoctorPaymentList_CellEditEnded" CellEditEnding="dgDoctorPaymentList_CellEditEnding">
                <data:DataGrid.Columns>
                    <!--<data:DataGridTemplateColumn>
                        <data:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox x:Name="chkMultipleServices" IsChecked="{Binding Status, Mode=TwoWay}"></CheckBox>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>-->

                    <!--<data:DataGridTextColumn IsReadOnly="True" Header="Service Name" Width="Auto" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Rate" Width="Auto"  />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Consession Amount" Width="Auto" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Share Amount" Width="Auto" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Share Percentage" Width="Auto" />-->


                    <data:DataGridTextColumn IsReadOnly="True" Header="Service Name" Width="Auto"  Binding="{Binding ServiceName, Mode=TwoWay}" />

                    <data:DataGridTemplateColumn Header ="ServiceID"  Visibility="Collapsed">
                        <data:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox x:Name="ServiceID" IsReadOnly="True" Text="{Binding ServiceID,Mode=TwoWay}" Width="Auto" ></TextBox>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>

                    <data:DataGridTemplateColumn Header ="TariffServiceID"  Visibility="Collapsed">
                        <data:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox x:Name="TariffServiceID" IsReadOnly="True" Text="{Binding TariffServiceID, Mode=TwoWay}" Width="Auto" ></TextBox>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>

                    <data:DataGridTemplateColumn Header ="Rate">
                        <data:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox x:Name="Rate" IsReadOnly="True" Text="{Binding Rate, Mode=TwoWay,StringFormat=0.00}" Width="Auto" ></TextBox>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>

                    <!--<data:DataGridTextColumn IsReadOnly="True" Header="Rate" Width="Auto"  Binding="{Binding Rate, Mode=TwoWay}" />-->
                    <!--<data:DataGridTextColumn  Header="Concession Amount" IsReadOnly="False"     Width="Auto"  Binding="{Binding TotalConcessionAmount, Mode=TwoWay}"/>-->

                    <data:DataGridTemplateColumn Header ="Concession Amount">
                        <data:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox x:Name="TotalConcessionAmount" IsReadOnly="True" Text="{Binding TotalConcessionAmount,StringFormat=0.00, Mode=TwoWay}" Width="Auto" ></TextBox>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>

                    <!--<data:DataGridTextColumn  Header="Share Amount" IsReadOnly="False"  Width="Auto"  Binding="{Binding DoctorShareAmount, Mode=TwoWay}"/>-->

                    <data:DataGridTemplateColumn Header ="Share Percentage">
                        <data:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox x:Name="txtDoctorSharePercentage" IsReadOnly="True" Text="{Binding DoctorSharePercentage,StringFormat=0.00, Mode=TwoWay}" LostFocus="txtDoctorSharePercentage_TextChanged"  Width="Auto" ></TextBox>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>


                    <data:DataGridTemplateColumn Header ="Share Amount">
                        <data:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox x:Name="txtDoctorShareAmount" IsReadOnly="{Binding IsEnable, Mode=TwoWay}"  Text="{Binding DoctorShareAmount,StringFormat=0.00, Mode=TwoWay}" Width="Auto" LostFocus="txtDoctorShareAmount_SelectionChanged" ></TextBox> <!--ToolTipService.ToolTip="((Rate*Share%)/100)-(Conc/2)"-->
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>

                    <!--<data:DataGridTextColumn  Header="Share Percentage" IsReadOnly="False"  Width="Auto"  Binding="{Binding DoctorSharePercentage, Mode=TwoWay}" />-->



                </data:DataGrid.Columns>
            </data:DataGrid>
        </controlsToolkit:DockPanel>

        <!--<Button x:Name="CancelButton" Content="Cancel" Click="CancelButton_Click" Width="75" Height="23" HorizontalAlignment="Right" Margin="0,12,0,0" Grid.Row="1" />
        <Button x:Name="OKButton" Content="OK" Click="OKButton_Click" Width="75" Height="23" HorizontalAlignment="Right" Margin="0,12,79,0" Grid.Row="1" />-->
    </Grid>

</controls:ChildWindow>