<UserControl x:Class="PalashDynamics.Forms.Home.HomeCryoBank"
   xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"                  
                 xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"
                 xmlns:my1="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"  
                 xmlns:my="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit" 
                 xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"  
                 xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit" 
                 xmlns:inputcombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
                 xmlns:Converter="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"
                 xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"          
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
                 xmlns:blacklight="clr-namespace:Blacklight.Silverlight.Controls;assembly=Blacklight.Silverlight.Controls"
             xmlns:ChartToolkit="clr-namespace:System.Windows.Controls.DataVisualization.Charting;assembly=System.Windows.Controls.DataVisualization.Toolkit" 
             Loaded="UserControl_Loaded" Height="Auto" Width="Auto" >
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <Converter:DateTimeConverter x:Key="DateConverter"></Converter:DateTimeConverter>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid x:Name="LayoutRoot" Margin="2" Background="White" Width="Auto" Height="auto">
        <Grid >
            <controlsToolkit:DockPanel x:Name="docAppointment"  LastChildFill="True" Grid.Row="0" controlsToolkit:DockPanel.Dock="Top">


                <controlsToolkit:DockPanel x:Name="docHeader" controlsToolkit:DockPanel.Dock="Top">
                    <Border controlsToolkit:DockPanel.Dock= "Top"  BorderBrush="#FF788678"   Width="auto" BorderThickness="1" CornerRadius="3,3,3,3"  Margin="2">

                        <Grid Width="Auto"  Margin="0" controlsToolkit:DockPanel.Dock="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition ></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>                       

                            <toolkit:DockPanel x:Name="docHeader1" Grid.Row="1" Grid.ColumnSpan="2" controlsToolkit:DockPanel.Dock="Top">
                                <Grid Width="Auto"  Margin="0" my:DockPanel.Dock="Top" DataContext="{Binding BizActionObject}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition />
                                        <ColumnDefinition  Width="Auto"/>
                                        <ColumnDefinition />
                                        <ColumnDefinition  Width="Auto"/>
                                        <ColumnDefinition />

                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock x:Name="chkPatientName"  VerticalAlignment="Center" Grid.Column="0" Grid.Row="0"  Margin="4" Text="First Name" HorizontalAlignment="Right"></TextBlock>
                                    <TextBox TabIndex="1" x:Name="txtFirstName" Text="{Binding FirstName,Mode=TwoWay}"  Grid.Row="0"  Grid.Column="1" Margin="4" LostFocus="txtFirstName_LostFocus" KeyDown="txtMiddleName_KeyDown" MaxLength="50" />

                                    <TextBlock Grid.Column="2" Grid.Row="0"  Margin="4" Text="Middle Name" VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                                    <TextBox TabIndex="2" x:Name="txtMiddleName" Text="{Binding MiddleName,Mode=TwoWay}"  Grid.Row="0"  Grid.Column="3" Margin="4" LostFocus="txtMiddleName_LostFocus" KeyDown="txtMiddleName_KeyDown"  MaxLength="50" />

                                    <TextBlock Grid.Column="4" Grid.Row="0"  Margin="4" Text="Last Name" VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                                    <TextBox TabIndex="3" x:Name="txtLastName" Text="{Binding LastName,Mode=TwoWay}"  Grid.Row="0"  Grid.Column="5" Margin="4" LostFocus="txtLastName_LostFocus" KeyDown="txtMiddleName_KeyDown" MaxLength="50" />

                                    <TextBlock Grid.Column="0" Grid.Row="1"  Margin="4" Text="Family Name" VerticalAlignment="Center" HorizontalAlignment="Right" Visibility="Collapsed"></TextBlock>
                                    <TextBox TabIndex="4" x:Name="txtFamilyName" Text="{Binding FamilyName,Mode=TwoWay}"  Grid.Row="1"  Grid.Column="1" Margin="4"  LostFocus="txtFamilyName_LostFocus" Visibility="Collapsed" MaxLength="50" />

                                    <TextBlock x:Name="chkMrno" Grid.Row="1" Grid.Column="4" VerticalAlignment="Center"  Margin="4" Text="MR. No." HorizontalAlignment="Right"></TextBlock>
                                    <TextBox TabIndex="9" x:Name="txtMrno" Text="{Binding MRNo,Mode=TwoWay}"   Grid.Row="1" KeyDown="txtMiddleName_KeyDown"  Grid.Column="5"   Margin="4"  MaxLength="30"/>

                                    <TextBlock Grid.Column="2" Grid.Row="3" Text="Contact No"  Margin="4" Visibility="Collapsed"  HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>
                                    <TextBox Grid.Column="3" TabIndex="8" Grid.Row="3" x:Name="txtContactNo" Visibility="Collapsed"  Margin="4" Text="{Binding ContactNo, Mode=TwoWay}" MaxLength="15"></TextBox>

                                    <TextBlock Grid.Column="0" Grid.Row="2" Visibility="Collapsed"  Margin="4" Text="Freezing From Date " VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                                    <controls:DatePicker TabIndex="10" SelectedDate="{Binding FromDate,Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}" Style="{StaticResource DatePickerStyle}" x:Name="dtpFromDate" Margin="4" Grid.Row="2" Grid.Column="1" Visibility="Collapsed" />
                                    <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Text="To Date" Grid.Row="2" Grid.Column="2"  Margin="4" Visibility="Collapsed" />
                                    <controls:DatePicker TabIndex="11" SelectedDate="{Binding ToDate,Mode=TwoWay}"  x:Name="dtpToDate" Margin="4" Grid.Row="2" Grid.Column="3" Visibility="Collapsed" />

                                    <TextBlock  x:Name="Donor"  Margin="4" Text="Donor Code"  Grid.Column="6" Grid.Row="0"  VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                                    <TextBox TabIndex="4" x:Name="txtDonorCode" Grid.Row="0"   Grid.Column="7" Text="{Binding DonorCode,Mode=TwoWay}"  Margin="4" KeyDown="txtMiddleName_KeyDown"   MaxLength="50" />
                                    
                                    <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Text="Cane" Grid.Row="1"  Grid.Column="0" Margin="4" />
                                    <inputcombo:AutoCompleteComboBox   x:Name="cmbCane" SelectedValuePath="ID" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" Grid.Row="1" Grid.Column="1"  Margin="4"   HorizontalAlignment="Stretch" TabIndex="5" IsEnabled="True" />
                                 
                                    <StackPanel  Grid.Column="3" Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Grid.ColumnSpan="2" my:DockPanel.Dock="Top" x:Name="SaveCommandPanel" Orientation="Horizontal" Margin="2">
                                        <RadioButton TabIndex="6" VerticalAlignment="Center"  Grid.Column="2" Grid.Row="1" IsChecked="False"  Margin="4" Content="Embryo Bank"  HorizontalAlignment="Right" x:Name="chkEmbryo" Click="chkRadioButton_Click" />
                                        <RadioButton TabIndex="7" VerticalAlignment="Center" IsChecked="False"  Margin="4" Content="Sperm Bank"  HorizontalAlignment="Right" x:Name="chkSperm" Click="chkRadioButton_Click" />
                                        <RadioButton TabIndex="8" VerticalAlignment="Center" IsChecked="True" Margin="4" Content="Total Cryo Bank "  HorizontalAlignment="Right" x:Name="chkBoth" Click="chkRadioButton_Click" />
                                    </StackPanel>
                                  <Button x:Name="btnSearchCriteria" HorizontalAlignment="Right" VerticalAlignment="Center"   Grid.Column="6"  Grid.Row="1" ToolTipService.ToolTip="Find Appointment" Click="btnSearchCriteria_Click" TabIndex="10">
                                        <Button.Content>
                                            <Image Source="/PalashDynamics;component/Icons/xmag.png" Margin="2" Width="20" ></Image>
                                        </Button.Content>
                                    </Button>
                                    <Grid Width="Auto" Height="Auto" Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="6" my:DockPanel.Dock="Bottom">

                                    </Grid>
                                </Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel  Grid.Row="2" MaxHeight="300" Grid.ColumnSpan="3" Name="Embryo" ScrollViewer.VerticalScrollBarVisibility="Visible">
                                <StackPanel my:DockPanel.Dock="Top" Margin="0,4,0,0">
                                    <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                                        <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Embryos In Cryo Bank" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                                    </Border>
                                </StackPanel>
                                <!--<data:DataPager TabIndex="20" x:Name="EmbryoDataPager" my:DockPanel.Dock="Bottom"                     
                        DisplayMode="FirstLastPreviousNext" IsEnabled="True" IsTotalItemCountFixed="True"
                        Source="{Binding }" AutoEllipsis="False"/>-->

                                <data:DataPager x:Name="EmbryoDataPager" toolkit:DockPanel.Dock="Bottom" TabIndex="20" 
                                                DisplayMode="FirstLastPreviousNext" IsEnabled="True" 
                                                Source="{Binding}" 
                                                AutoEllipsis="False" IsTotalItemCountFixed="True"/>

                                <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" TabIndex="11" ItemsSource="{Binding EmbryoList}"  x:Name="EmbryoDataGrid" VerticalAlignment="Stretch" AutoGenerateColumns="False"  VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible" SelectionChanged="EmbryoDataGrid_SelectionChanged">
                                    <data:DataGrid.Columns>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Oocyte No." Binding="{Binding EmbNumber}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Name" Width="150" Binding="{Binding PatientName}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding Tank}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding Can}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Canister No." Binding="{Binding Conistor}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding Straw}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShape}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding ColorCode}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSize}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cell Stage" Binding="{Binding CellStage}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Grade" Binding="{Binding Grade}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Transfer Day" Binding="{Binding TransferDay}" />

                                    </data:DataGrid.Columns>
                                </data:DataGrid>
                            </toolkit:DockPanel >
                            <toolkit:DockPanel  MaxHeight="300" Grid.Row="3" Grid.ColumnSpan="3" Name="Sperms" ScrollViewer.VerticalScrollBarVisibility="Visible">
                                <StackPanel my:DockPanel.Dock="Top" Margin="0,4,0,0">
                                    <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                                        <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Sperm Collection in Cryo Bank" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                                    </Border>
                                </StackPanel>

                                <!--<data:DataPager
                         TabIndex="20" x:Name="SpermsDataPager" my:DockPanel.Dock="Bottom"                        
                        DisplayMode="FirstLastPreviousNext" IsEnabled="True" IsTotalItemCountFixed="True"
                        Source="{Binding }" AutoEllipsis="False"    />-->
                                <data:DataPager x:Name="SpermsDataPager" toolkit:DockPanel.Dock="Bottom" TabIndex="21" 
                                                DisplayMode="FirstLastPreviousNext" IsEnabled="True" 
                                                Source="{Binding}" 
                                                AutoEllipsis="False" IsTotalItemCountFixed="True"/>

                                <data:DataGrid Height="Auto" TabIndex="12" Width="Auto" Grid.Row="0" ItemsSource="{Binding }" VerticalAlignment="Stretch" x:Name="SpermsDataGrid" AutoGenerateColumns="False" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                                    <data:DataGrid.Columns>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Sperm No" Binding="{Binding SpremNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Clinic" Binding="{Binding PatientUnitName}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Donor Code" Binding="{Binding DonorCode}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Invoice No." Binding="{Binding InvoiceNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Batch Code" Binding="{Binding BatchCode}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Lab" Binding="{Binding Lab}" />
                                        <data:DataGridTemplateColumn IsReadOnly="True" Header="Name" Width="150" SortMemberPath="FirstName">
                                            <data:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                                        <TextBlock VerticalAlignment="Center" Text="{Binding FirstName}" Margin="4,0,4,0"></TextBlock>
                                                        <TextBlock VerticalAlignment="Center" Text="{Binding MiddleName}" Margin="0,0,4,0"></TextBlock>
                                                        <TextBlock VerticalAlignment="Center" Text="{Binding LastName}"></TextBlock>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding TankId}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding CanID}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Canister No." Binding="{Binding CanisterId}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding StrawId}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShapeId}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding GobletColor}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSizeId}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Volume" Binding="{Binding Volume}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Total Sperm Count" Binding="{Binding SpermCount}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Motality" Binding="{Binding Motility}" />
                                    </data:DataGrid.Columns>
                                </data:DataGrid>


                            </toolkit:DockPanel >



                        </Grid>
                    </Border>
                </controlsToolkit:DockPanel>
            </controlsToolkit:DockPanel>
            <!--</blacklight:DragDockPanel>
            </blacklight:DragDockPanelHost>-->
        </Grid>
    </Grid>
</UserControl>
