<controls:ChildWindow x:Class="PalashDynamics.OperationTheatre.frmProcedureConsent"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           Width="400" Height="300" 
           Title="Procedure Consent">

    <Grid>
        <Border BorderBrush="{StaticResource TabControlDarkerBorder}" Margin="4"   BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
            <!--<toolkit:DockPanel LastChildFill="True">
                <Border  controlsToolkit:DockPanel.Dock="Top" BorderBrush="{StaticResource TabControlDarkerBorder}" BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                    <ContentControl VerticalAlignment="Top" Grid.ColumnSpan="4" FontSize="12" Content="Consent Printing" Margin="-1" Style="{StaticResource Header}" HorizontalAlignment="Stretch"/>
                </Border>

                <controlsToolkit:DockPanel x:Name="docHeader" controlsToolkit:DockPanel.Dock="Top" HorizontalAlignment="Stretch" LastChildFill="True">

                    <Border  BorderBrush="{StaticResource TabControlDarkerBorder}" controlsToolkit:DockPanel.Dock="Top"   Margin="0,-1,0,0" BorderThickness="1" CornerRadius="0,0,3,3" Background="Transparent">
                        <GroupBox:GroupBox x:Name="grpPersonalDetails" IsTabStop="False" Header="Patient Information" Grid.Row="0" Grid.Column="0" Margin="4" >
                            <Grid x:Name="pnlPersonalDetails" >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition  Height="Auto"></RowDefinition>
                                    <RowDefinition  Height="Auto"></RowDefinition>
                                    <RowDefinition  Height="Auto"></RowDefinition>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition  Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition  Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition  Width="Auto"></ColumnDefinition>

                                </Grid.ColumnDefinitions>

                                <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="MR No." Grid.Row="0" Grid.Column="0" Margin="4" ></TextBlock>
                                <TextBox Grid.Row="0" Grid.Column="1" Margin="4" Text="{Binding MRNo, Mode=TwoWay}" x:Name="txtMRNo"  HorizontalAlignment="Stretch"  Width="200" IsReadOnly="True"></TextBox>

                                <Button x:Name="btnSearchCriteria" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Grid.Column="2" ToolTipService.ToolTip="Find Patient" Click="btnSearchCriteria_Click" >
                                    <Button.Content>
                                        <Image Source="/PalashDynamics;component/Icons/Search_b.JPG" Margin="4,0,4,4" Width="20" ></Image>
                                    </Button.Content>
                                </Button>


                                <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="First Name" Grid.Row="1" Grid.Column="0" Margin="4" ></TextBlock>
                                <TextBox Grid.Row="1" Grid.Column="1" IsReadOnly="True" Margin="4" Text="{Binding FirstName, Mode=TwoWay}" x:Name="txtFirstName"  HorizontalAlignment="Stretch"  Width="200" MaxLength="50" TabIndex="0"></TextBox>
                                <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="Middle Name" Grid.Row="1" Grid.Column="2" Margin="4" ></TextBlock>
                                <TextBox Grid.Row="1" Grid.Column="3" IsReadOnly="True" Margin="4" Text="{Binding MiddleName, Mode=TwoWay}" x:Name="txtMiddleName"  MaxLength="50" Width="200"  TabIndex="1" ></TextBox>
                                <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="Last Name" Grid.Row="1" Grid.Column="4" Margin="4" ></TextBlock>
                                <TextBox Grid.Row="1" Grid.Column="5" IsReadOnly="True" Margin="4" Text="{Binding LastName, Mode=TwoWay}" x:Name="txtLastName"  MaxLength="50" Width="200" TabIndex="2"></TextBox>

                                <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="D.O.B." Grid.Row="2" Grid.Column="0" Margin="4" ></TextBlock>
                                <controls:DatePicker x:Name="dtpDOB" IsEnabled="False" Grid.Row="2" Grid.Column="1"  Margin="4" SelectedDate="{Binding DateOfBirth, Mode=TwoWay , NotifyOnValidationError=True, ValidatesOnExceptions=True }" Style="{StaticResource DatePickerStyle}" Width="200"  TabIndex="3"/>

                                <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="Age" Grid.Row="2" Grid.Column="2" Margin="4" ></TextBlock>
                                <Grid  Grid.Row="2" Grid.Column="3">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition />
                                        <ColumnDefinition />
                                        <ColumnDefinition />
                                    </Grid.ColumnDefinitions>
                                    <TextBox x:Name="txtYY" IsReadOnly="True" Margin="4" Grid.Column="0"  HorizontalAlignment="Stretch"   TextAlignment="Right"   MaxLength="3" TabIndex="4"/>
                                    <TextBox x:Name="txtMM" IsReadOnly="True" Margin="4" Grid.Column="1"  HorizontalAlignment="Stretch"  TextAlignment="Right"    MaxLength="2" TabIndex="5"/>
                                    <TextBox x:Name="txtDD" IsReadOnly="True" Margin="4" Grid.Column="2"  HorizontalAlignment="Stretch"  TextAlignment="Right"    MaxLength="2" TabIndex="6"/>
                                </Grid>

                                <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="Gender" Grid.Row="2" Grid.Column="4" Margin="4" ></TextBlock>
                                <inputcombo:AutoCompleteComboBox  x:Name="cmbGender"  IsEnabled="False" Background="Red" Grid.Row="2" Grid.Column="5"   Margin="4" VerticalAlignment="Center" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" TabIndex="7"></inputcombo:AutoCompleteComboBox>




                            </Grid>
                        </GroupBox:GroupBox>


                    </Border>

                    <toolkit:DockPanel toolkit:DockPanel.Dock="Bottom" Margin="4">
                        <StackPanel x:Name="Footer" Orientation="Horizontal" VerticalAlignment="Center"   Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                            <StackPanel Orientation="Horizontal"  Margin="1" HorizontalAlignment="Right"  >

                                <ToggleButton x:Name="cmdPrint" Content="Print"   Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Collapsed" Click="cmdPrint_Click"  ></ToggleButton>

                                <ToggleButton Content="Cancel" x:Name="cmdCancel" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Click="cmdCancel_Click"></ToggleButton>
                            </StackPanel>
                        </StackPanel>
                    </toolkit:DockPanel>

                    <toolkit:DockPanel  Margin="4" LastChildFill="True">
                        <toolkit:DockPanel x:Name="DockTop" toolkit:DockPanel.Dock="Top" HorizontalAlignment="Stretch" LastChildFill="True">
                            <Grp:GroupBox Header="Search Consent" Margin="4">
                                <Grid x:Name="LayoutRoot" Background="White">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock  Text="Department" VerticalAlignment="Center"  Margin="4" HorizontalAlignment="Right" Grid.Column="0" Grid.Row="0" ></TextBlock>
                                    <inputcombo:AutoCompleteComboBox x:Name="cmbDepartment" Grid.Row="0" Grid.Column="1" Margin="4"  SelectedValuePath="ID" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}"></inputcombo:AutoCompleteComboBox >

                                    <TextBlock  Text="Template Name" VerticalAlignment="Center"  Margin="4" HorizontalAlignment="Right" Grid.Column="2" Grid.Row="0" ></TextBlock>
                                    <inputcombo:AutoCompleteComboBox x:Name="cmbTemplate" Grid.Row="0" Grid.Column="3" Margin="4"  SelectedValuePath="ID" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}"></inputcombo:AutoCompleteComboBox >

                                    <Button Grid.Column="4" x:Name="cmdSearch"   ToolTipService.ToolTip="Search Consent"  HorizontalAlignment="Left" Click="cmdSearch_Click">
                                         <Image Source="/PalashDynamics;component/Icons/xmag.png" Margin="2" Width="20" ></Image>
                                    </Button>



                                </Grid>
                            </Grp:GroupBox>
                        </toolkit:DockPanel>

                        <toolkit:DockPanel x:Name="DocBottom" toolkit:DockPanel.Dock="Bottom" HorizontalAlignment="Stretch" LastChildFill="True">
                            <sdk:DataPager x:Name="dataGrid2Pager" toolkit:DockPanel.Dock="Bottom" 
                                                        DisplayMode="FirstLastPreviousNext"  IsEnabled="True"                       
                                                        Source="{Binding}" 
                                                        AutoEllipsis="False" IsTotalItemCountFixed="False"/>
                            <sdk:DataGrid x:Name="dgConsent" ItemsSource="{Binding}" VerticalScrollBarVisibility="Auto" AutoGenerateColumns="False"   Margin="1" >
                                <sdk:DataGrid.Columns>

                                    <sdk:DataGridTextColumn Binding="{Binding Description, Mode=OneWay}" Header="Consent" IsReadOnly="True"/>
                                    <sdk:DataGridTemplateColumn Header="Print">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton Margin="4" x:Name="cmdView" Content="View and print" Click="cmdView_Click" Cursor="Hand"></HyperlinkButton>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>

                    </toolkit:DockPanel>

                </controlsToolkit:DockPanel>

            </toolkit:DockPanel>-->
        </Border>

    </Grid>
</controls:ChildWindow>