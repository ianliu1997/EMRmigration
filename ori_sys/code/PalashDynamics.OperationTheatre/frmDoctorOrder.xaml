<controls:ChildWindow x:Class="PalashDynamics.OperationTheatre.frmDoctorOrder"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
          xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"
           xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk" 
           xmlns:Converter="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"
           xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"
           xmlns:inputcombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           Width="750" Height="550" 
           xmlns:Localization="clr-namespace:PalashDynamic.Localization;assembly=PalashDynamic.Localization"
           Title="Doctor Order">

    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Converter:DateTimeConverter x:Key="DateConverter"></Converter:DateTimeConverter>
            <Localization:Localized x:Key="locResource"></Localization:Localized>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>
    <Grid x:Name="LayoutRoot" Margin="2">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Border   BorderBrush="{StaticResource TabControlDarkerBorder}"  BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
            <controlsToolkit:DockPanel>
                <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">
                    <Border BorderBrush="{StaticResource TabControlDarkerBorder}" controlsToolkit:DockPanel.Dock="Bottom" BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                        <ContentControl VerticalAlignment="Center"  FontSize="12"  Margin="-1" Style="{StaticResource Header}" Content="List Of Doctor Orders" HorizontalAlignment="Stretch" />
                    </Border>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition ></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition ></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Grid.Row="0" x:Name="txtFromDate" Text="{Binding lblFromDate, Source={StaticResource locResource}}" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>
                        <controls:DatePicker x:Name="dtpFromDate" Grid.Column="1" Grid.Row="0" Margin="4"></controls:DatePicker>
                        <TextBlock Grid.Column="2" Grid.Row="0" x:Name="txtToDate" Text="{Binding lblToDate, Source={StaticResource locResource}}" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>
                        <controls:DatePicker x:Name="dtpToDate" Grid.Column="3" Grid.Row="0" Margin="4"></controls:DatePicker>
                        <TextBlock Grid.Column="4" Grid.Row="0" x:Name="Priority" Text="{Binding lblPriority, Source={StaticResource locResource}}" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>
                        <inputcombo:AutoCompleteComboBox x:Name="cmbPriority" HorizontalAlignment="Stretch" Grid.Row="0" Grid.Column="5" Height="23"  SelectedItemBinding="{Binding MasterListItem, Mode=TwoWay}" SelectedValuePath="ID"  Margin="4" />

                        <StackPanel Orientation="Horizontal" Grid.Column="6">
                            <RadioButton x:Name="rbtnOPD" Content="{Binding lblOPD, Source={StaticResource locResource}}" GroupName="a" HorizontalAlignment="Center" Margin="4" VerticalAlignment="Center"></RadioButton>
                            <RadioButton x:Name="rbtnIPD" Content="{Binding lblIPD, Source={StaticResource locResource}}" GroupName="a" HorizontalAlignment="Center" Margin="4" IsChecked="True" VerticalAlignment="Center"></RadioButton>
                            <RadioButton x:Name="rbtnALL" Content="{Binding lblAll, Source={StaticResource locResource}}" GroupName="a" HorizontalAlignment="Center" Margin="4" VerticalAlignment="Center"></RadioButton>
                        </StackPanel>
                        <Button x:Name="btnSearchCriteria" VerticalAlignment="Center" Grid.Row="0" Margin="4" Grid.Column="7"  ToolTipService.ToolTip="Search" Click="btnSearchCriteria_Click">
                            <Button.Content>
                                <Image Source="/PalashDynamics;component/Icons/Search_b.JPG"  Width="18"></Image>
                            </Button.Content>
                        </Button>
                    </Grid>
                </controlsToolkit:DockPanel>
                <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top" VerticalAlignment="Stretch" LastChildFill="True">
                    <data:DataPager x:Name="dgDataPager" DisplayMode="FirstLastPreviousNext"  IsEnabled="True" Source="{Binding}" controlsToolkit:DockPanel.Dock="Bottom"
                                                        AutoEllipsis="False" IsTotalItemCountFixed="False" Margin="2" />

                    <sdk:DataGrid ItemsSource="{Binding}" x:Name="dgDoctorOrderList" AutoGenerateColumns="False" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" CanUserSortColumns="True" Background="White" VerticalAlignment="Stretch">
                        <sdk:DataGrid.Columns>
                            <sdk:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblDate, Source={StaticResource locResource}}" Binding="{Binding Date,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}"></sdk:DataGridTextColumn>
                            <sdk:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblDescription, Source={StaticResource locResource}}" Binding="{Binding PriorityName}" ></sdk:DataGridTextColumn>
                            <sdk:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblTestName, Source={StaticResource locResource}}" Binding="{Binding TestName}" Width="200"></sdk:DataGridTextColumn>
                            <sdk:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblServiceCode, Source={StaticResource locResource} }" Binding="{Binding ServiceCode}"></sdk:DataGridTextColumn>
                            <sdk:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblServiceName, Source={StaticResource locResource}}" Binding="{Binding ServiceName}" Width="Auto"></sdk:DataGridTextColumn>
                            <sdk:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblGroup, Source={StaticResource locResource}}" Binding="{Binding Group}" Width="Auto"></sdk:DataGridTextColumn>
                            <sdk:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblPatientName, Source= {StaticResource locResource}}" Binding="{Binding PatientName}"></sdk:DataGridTextColumn>
                            <sdk:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblPatientType, Source={StaticResource locResource}}" Binding="{Binding PatientType}"></sdk:DataGridTextColumn>
                        </sdk:DataGrid.Columns>
                    </sdk:DataGrid>
                </controlsToolkit:DockPanel>
            </controlsToolkit:DockPanel>
        </Border>
        <Border   BorderBrush="{StaticResource TabControlDarkerBorder}" Grid.Row="1" BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
            <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top" HorizontalAlignment="Right" Margin="5">
                <ToggleButton Style="{StaticResource ToggleButtonStyle}" x:Name="CancelButton" Content="{Binding btnCancel, Source={StaticResource locResource}}" Click="CancelButton_Click" Width="Auto" Margin="4,0,10,0" MinWidth="70"/>
                <ToggleButton Style="{StaticResource ToggleButtonStyle}" x:Name="OKButton" Content="{Binding btnOK, Source={StaticResource locResource}}" Click="OKButton_Click" Width="Auto" Margin="0,0,10,0" MinWidth="50"/>
            </controlsToolkit:DockPanel>
        </Border>
    </Grid>
</controls:ChildWindow>