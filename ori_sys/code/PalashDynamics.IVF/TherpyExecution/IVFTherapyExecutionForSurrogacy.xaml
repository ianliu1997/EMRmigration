<UserControl x:Class="PalashDynamics.IVF.TherpyExecution.IVFTherapyExecutionForSurrogacy"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:grb="clr-namespace:Groupbox;assembly=Groupbox"             
     xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"          
    xmlns:data="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"       
    xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"  
    xmlns:dataInput="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input"
    xmlns:input="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
    xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"               
    xmlns:Converter="clr-namespace:PalashDynamics.IVF;assembly=PalashDynamics.IVF"
    xmlns:inputToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input.Toolkit"
      mc:Ignorable="d" Unloaded="UserControl_Unloaded">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <local:DateTimeConverter x:Key="DateConverter" />
            <local:DateTimeToAgePart x:Key="DateTimeToAgePart"></local:DateTimeToAgePart>
            <local:ToggleBooleanValueConverter x:Key="NegateValueConverter"/>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid x:Name="LayoutRoot" Background="White" >
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <controlsToolkit:DockPanel Grid.Row="0">
            <Grid x:Name="CoupleInfo">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <Border BorderBrush="{StaticResource TabControlDarkerBorder}" BorderThickness="1" CornerRadius="3,3,3,3" Background="Transparent" Grid.Row="0" Grid.Column="0" Margin="4">
                    <controlsToolkit:DockPanel LastChildFill="True">
                        <controlsToolkit:DockPanel LastChildFill="True" controlsToolkit:DockPanel.Dock="Left" VerticalAlignment="Top">
                            <StackPanel Orientation="Vertical">
                                <Image Grid.RowSpan="3" Width="50" Source="../Icons/female.jpg" Margin="4" x:Name="imgP1" Visibility="Collapsed" ></Image>
                                <Image x:Name="imgPhoto13" Height="250" Width="250" MaxHeight="100" MaxWidth="100" Visibility="Collapsed"></Image>
                                <HyperlinkButton x:Name="changeFemalePatient" Content="Change Partner"  Click="changeMalePatient_Click" ToolTipService.ToolTip="Change Partner" Cursor="Hand"></HyperlinkButton>
                            </StackPanel>
                        </controlsToolkit:DockPanel>
                        <controlsToolkit:DockPanel LastChildFill="True">

                            <Grid x:Name="Female" DataContext="{Binding FemalePatient}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Left"   Grid.Row="0" Grid.Column="0" Text="Name : "  Margin="4"></TextBlock>
                                <StackPanel HorizontalAlignment="Left" Orientation="Horizontal" Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="7">
                                    <TextBlock  Text="{Binding PatientName}" Margin="2,4,2,4"></TextBlock>
                                    <TextBlock  Text="(" Margin="0,4,0,4"  ></TextBlock>
                                    <TextBlock  Text="{Binding MRNo}" Margin="2,4,2,4"></TextBlock>
                                    <TextBlock  Text=")" Margin="0,4,0,4"></TextBlock>
                                </StackPanel>

                                <TextBlock  VerticalAlignment="Center" TextAlignment="Left"   Text="DOB : "  Margin="4" Grid.Row="1" Grid.Column="0" FontWeight="Bold" ></TextBlock>
                                <TextBlock  VerticalAlignment="Center" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3"  Margin="4" Text="{Binding DateOfBirth,Converter={StaticResource DateConverter},ConverterParameter='dd/MMM/yyyy'}"></TextBlock>
                                <TextBlock VerticalAlignment="Center" Text="Age(Yrs) : "  Grid.Row="1" Grid.Column="4" FontWeight="Bold"></TextBlock>
                                <TextBlock  VerticalAlignment="Center" Text="{Binding DateOfBirth,Converter={StaticResource DateTimeToAgePart},ConverterParameter='YY'}" Grid.Row="1" Grid.Column="5" Grid.ColumnSpan="2"   Margin="4"></TextBlock>

                                <TextBlock  VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Left"  HorizontalAlignment="Left" Grid.Column="0" Grid.Row="2"  Text="Weight(Kgs) : " Margin="4"></TextBlock>
                                <TextBlock VerticalAlignment="Center" TextAlignment="Left" Grid.Column="1" Grid.Row="2"   Text="{Binding Weight}" Margin="4"></TextBlock>
                                <TextBlock  VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Left"  Grid.Column="2" Grid.Row="2"  Text="Height(cms) : " Margin="4"></TextBlock>
                                <TextBlock VerticalAlignment="Center" TextAlignment="Left" Grid.Column="3" Grid.Row="2"   Text="{Binding Height}" Margin="4"></TextBlock>
                                <TextBlock  VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Left"   Grid.Column="4" Grid.Row="2"  Text="BMI : " Margin="4"></TextBlock>
                                <TextBlock VerticalAlignment="Center" TextAlignment="Left" Grid.Column="5" Grid.Row="2"   Text="{Binding BMI}" Margin="4" x:Name="txtBMI"></TextBlock>

                                <TextBlock VerticalAlignment="Center" Foreground="Red" FontWeight="Bold" TextAlignment="Left"  HorizontalAlignment="Left" Grid.Column="0" Grid.Row="3"  Text="Attention : " Margin="4"></TextBlock>
                                <TextBlock Foreground="Red" Name="FemaleAlert" VerticalAlignment="Center" TextAlignment="Left" Text="{Binding Alerts}" Margin="4" Grid.Column="1" Grid.Row="3" Grid.ColumnSpan="6" Height="14"></TextBlock>
                                <HyperlinkButton VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Column="7" Grid.Row="3" Content="..." Click="HyperlinkButton_Click_Female" ></HyperlinkButton>

                            </Grid>
                        </controlsToolkit:DockPanel>
                    </controlsToolkit:DockPanel>
                </Border>

                <Border BorderBrush="{StaticResource TabControlDarkerBorder}" BorderThickness="1" CornerRadius="3,3,3,3" Background="Transparent" Grid.Row="0" Grid.Column="1"  Margin="4">
                    <controlsToolkit:DockPanel LastChildFill="True">
                        <controlsToolkit:DockPanel LastChildFill="True" controlsToolkit:DockPanel.Dock="Left" VerticalAlignment="Top" >
                            <StackPanel>
                                <Image Grid.RowSpan="3" Width="50" Source="../Icons/male.jpg" Margin="4" x:Name="imgP2" Visibility="Collapsed"></Image>
                                <Image x:Name="imgPhoto12" Height="250" Width="250" MaxHeight="100" MaxWidth="100" Visibility="Collapsed"></Image>
                                <HyperlinkButton x:Name="changeMalePatient" Content="Change Partner" Click="changeMalePatient_Click" ToolTipService.ToolTip="Change Partner" Cursor="Hand"></HyperlinkButton>
                            </StackPanel>

                        </controlsToolkit:DockPanel>
                        <controlsToolkit:DockPanel LastChildFill="True">
                            <Grid x:Name="Male" DataContext="{Binding MalePatient}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Left"  Grid.Row="0" Grid.Column="0" Text="Name : "  Margin="4"></TextBlock>
                                <StackPanel HorizontalAlignment="Left" Orientation="Horizontal" Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="7">
                                    <TextBlock  Text="{Binding PatientName}" Margin="2,4,2,4"></TextBlock>

                                    <TextBlock  Text="(" Margin="0,4,0,4"  ></TextBlock>
                                    <TextBlock  Text="{Binding MRNo}" Margin="2,4,2,4"></TextBlock>
                                    <TextBlock  Text=")" Margin="0,4,0,4"></TextBlock>
                                </StackPanel>


                                <TextBlock VerticalAlignment="Center" TextAlignment="Left"   Text="DOB : " Margin="4" Grid.Row="1" Grid.Column="0" FontWeight="Bold" ></TextBlock>
                                <TextBlock  VerticalAlignment="Center" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3"  Margin="4" Text="{Binding DateOfBirth,Converter={StaticResource DateConverter},ConverterParameter='dd/MMM/yyyy'}"></TextBlock>
                                <TextBlock  VerticalAlignment="Center" Text="Age(Yrs) : " Margin="4" Grid.Row="1" Grid.Column="4" FontWeight="Bold"></TextBlock>
                                <TextBlock  VerticalAlignment="Center" Grid.Row="1" Grid.Column="5"   Margin="4" Text="{Binding DateOfBirth,Converter={StaticResource DateTimeToAgePart},ConverterParameter='YY'}"></TextBlock>


                                <TextBlock  VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Left"  HorizontalAlignment="Left" Grid.Column="0" Grid.Row="2"  Text="Weight(Kgs) : " Margin="4"></TextBlock>
                                <TextBlock VerticalAlignment="Center" TextAlignment="Left" Grid.Column="1" Grid.Row="2"   Text="{Binding Weight}" Margin="4"></TextBlock>
                                <TextBlock  VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Left"  Grid.Column="2" Grid.Row="2"  Text="Height(cms) : " Margin="4"></TextBlock>
                                <TextBlock VerticalAlignment="Center" TextAlignment="Left" Grid.Column="3" Grid.Row="2"   Text="{Binding Height}" Margin="4"></TextBlock>
                                <TextBlock  VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Left"   Grid.Column="4" Grid.Row="2"  Text="BMI : " Margin="4"></TextBlock>
                                <TextBlock VerticalAlignment="Center" TextAlignment="Left" Grid.Column="5" Grid.Row="2"   Text="{Binding BMI}" Margin="4" x:Name="txtMBMI"></TextBlock>
                                <TextBlock VerticalAlignment="Center" Foreground="Red"  FontWeight="Bold" TextAlignment="Left"  HorizontalAlignment="Left" Grid.Column="0" Grid.Row="3"  Text="Attention : " Margin="4"></TextBlock>
                                <TextBlock Foreground="Red" Name="MaleAlert"  VerticalAlignment="Center" TextAlignment="Left" Text="{Binding Alerts}" Margin="4" Grid.Column="1" Grid.Row="3" Grid.ColumnSpan="6" Height="14"></TextBlock>
                                <HyperlinkButton VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Column="7" Grid.Row="3" Content="..." Click="HyperlinkButton_Click_Male" ></HyperlinkButton>
                            </Grid>

                        </controlsToolkit:DockPanel>
                    </controlsToolkit:DockPanel>
                </Border>
            </Grid>
        </controlsToolkit:DockPanel>
        <controlsToolkit:DockPanel LastChildFill="True" Grid.Row="1">
            <Grid>
                <Grid  x:Name="grdFrontPanel" Grid.Row="0">
                    <controls:TabControl Grid.Row="0" Padding="0"  x:Name="tabControl1" Margin="4,-4,4,4" >
                        <controls:TabItem x:Name="TabTherapyList" Visibility="Visible" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="List of Therapy">
                            <controlsToolkit:DockPanel LastChildFill="True">
                                <controlsToolkit:DockPanel  controlsToolkit:DockPanel.Dock="Bottom">
                                    <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"  Margin="4"  BorderThickness="1" CornerRadius="3,3,3,3" Background="Transparent" >
                                        <ToggleButton Grid.Column="5" HorizontalAlignment="Right" x:Name="cmdPlanTherapy" Width="150" Content="New Therapy"  Margin="4"  Background="#000000" Style="{StaticResource ToggleButtonStyle}" Click="cmdPlanTherapy_Click"></ToggleButton>
                                    </Border>
                                </controlsToolkit:DockPanel>
                                <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">

                                    <controlsToolkit:DockPanel LastChildFill="True">
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                                            <data:DataPager x:Name="dataGrid2PagerTherapy" controlsToolkit:DockPanel.Dock="Bottom" DisplayMode="FirstLastPreviousNextNumeric"   Source="{Binding}" NumericButtonCount="10" AutoEllipsis="False" IsTotalItemCountFixed="True" />
                                        </controlsToolkit:DockPanel>

                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">
                                            <data:DataGrid IsReadOnly="True" SelectionMode="Single" x:Name="dgTherpyRptList" ItemsSource="{Binding}"  AutoGenerateColumns="False" SelectionChanged="dgTherpyRptList_SelectionChanged"  SelectedIndex="0">

                                                <data:DataGrid.Columns>
                                                    <data:DataGridTemplateColumn>
                                                        <data:DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <Button x:Name="cmdViewtherapy" Click="cmdViewtherapy_Click" Content="View"></Button>
                                                            </DataTemplate>
                                                        </data:DataGridTemplateColumn.CellTemplate>
                                                    </data:DataGridTemplateColumn>
                                                    <data:DataGridTextColumn Binding="{Binding Physician}" Header="Doctor" />
                                                    <data:DataGridTextColumn Binding="{Binding TherapyStartDate,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}" Header="Start Date" />
                                                    <data:DataGridTextColumn Binding="{Binding PlannedTreatment}" Header="Planned Treatment" />
                                                    <data:DataGridTextColumn  Binding="{Binding SpermCollection}"  Header="Sperm Collection" />
                                                    <data:DataGridTextColumn  Binding="{Binding ProtocolType}"  Header="Protocol Type" />
                                                    <!--<data:DataGridTextColumn Binding="{Binding IsClosed}" Header="IsClosed"/>-->
                                                    <data:DataGridTemplateColumn Header="IsClosed">
                                                        <data:DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <CheckBox IsChecked="{Binding Path=IsClosed,Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" Width="Auto"  IsEnabled="False"></CheckBox>
                                                            </DataTemplate>
                                                        </data:DataGridTemplateColumn.CellTemplate>
                                                    </data:DataGridTemplateColumn>
                                                </data:DataGrid.Columns>
                                            </data:DataGrid>

                                        </controlsToolkit:DockPanel>




                                    </controlsToolkit:DockPanel>


                                </controlsToolkit:DockPanel>
                            </controlsToolkit:DockPanel>
                        </controls:TabItem>
                    </controls:TabControl>
                </Grid>

                <Grid x:Name="grdBackPanel"  Grid.Row="0" Visibility="Collapsed" DataContext="{Binding TherapyDetails}">
                    <controlsToolkit:DockPanel LastChildFill="True">
                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top" >
                            <Grid Grid.Row="0"  >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="70"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>

                                    <ColumnDefinition  />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>

                                </Grid.RowDefinitions>

                                <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Grid.Column="0" Grid.Row="0" Text="Cycle Code" Margin="4"></TextBlock>
                                <TextBox  VerticalAlignment="Center" Text="{Binding CycleCode,Mode=TwoWay}" x:Name="txtCycleCode" Width="50" Grid.Column="1" Grid.Row="0" HorizontalAlignment="Left"></TextBox>
                                <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Grid.Column="2" Grid.Row="0" Text="Therapy Start Date" Margin="4"></TextBlock>
                                <controls:DatePicker  SelectedDate="{Binding TherapyStartDate,Mode=TwoWay}"  VerticalAlignment="Center" Grid.Column="3" Grid.Row="0" Margin="4" SelectedDateChanged="dtthreapystartdate_SelectedDateChanged" x:Name="dtthreapystartdate"></controls:DatePicker>

                                <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Grid.Column="4" Grid.Row="0" Text="Cycle Duration" Margin="4"></TextBlock>
                                <TextBox VerticalAlignment="Center" Text="{Binding CycleDuration,Mode=TwoWay}" x:Name="txtCycleDuraton" Width="50" Grid.Column="5" Grid.Row="0" HorizontalAlignment="Left"></TextBox>

                                <TextBlock Grid.Column="6" Grid.Row="0" VerticalAlignment="Top" HorizontalAlignment="Left" Text="Protocol Type" Margin="4"></TextBlock>
                                <input:AutoCompleteComboBox x:Name="cmbProtocol"   SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}"  SelectedValuePath="ID" Grid.Column="7" Grid.Row="0" VerticalAlignment="Top" Text="" Margin="4"/>
                                <grb:GroupBox Margin="4,0,4,0" Header="Pill Details" Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="8" Grid.RowSpan="2" >
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="80"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <TextBlock VerticalAlignment="Center" Grid.Column="0" Grid.Row="0" HorizontalAlignment="Right" Text="Pill" Margin="4"></TextBlock>
                                        <!--<TextBox VerticalAlignment="Center" Text="{Binding Pill,Mode=TwoWay}"  Grid.Column="1" Margin="4" x:Name="txtPill"  ></TextBox>-->
                                        <CheckBox VerticalAlignment="Center" Grid.Column="1" x:Name="chkPill"  IsChecked="False"></CheckBox>
                                        <TextBlock VerticalAlignment="Center" Grid.Row="0" Grid.Column="2" HorizontalAlignment="Right" Text="Start Date" Margin="4" ></TextBlock>
                                        <controls:DatePicker  SelectedDate="{Binding PillStartDate,Mode=TwoWay}" Grid.Row="0" Grid.ColumnSpan="2" VerticalAlignment="Center" Grid.Column="3" Margin="4" SelectedDateChanged="dtStartDate_SelectedDateChanged" x:Name="dtStartDate" HorizontalAlignment="Left"></controls:DatePicker>

                                        <TextBlock VerticalAlignment="Center" Grid.Column="4" Grid.Row="0" HorizontalAlignment="Right" Text="End Date" Margin="2"></TextBlock>
                                        <controls:DatePicker   SelectedDate="{Binding PillEndDate,Mode=TwoWay}" Grid.Row="0"  VerticalAlignment="Center" Grid.Column="5" Margin="4" SelectedDateChanged="dtEndDate_SelectedDateChanged" x:Name="dtEndDate"   HorizontalAlignment="Left" ></controls:DatePicker>

                                    </Grid>
                                </grb:GroupBox>
                                <!--<TextBlock Grid.Column="0" Grid.Row="1" VerticalAlignment="Top" HorizontalAlignment="Right" Text="Protocol Type" Margin="4,-6,4,0"></TextBlock>
                                <input:AutoCompleteComboBox x:Name="cmbProtocol"   SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}"  SelectedValuePath="ID" Grid.Column="1" Grid.Row="1" VerticalAlignment="Top" Text="" Margin="4,-6,4,0"/>-->
                            </Grid>
                        </controlsToolkit:DockPanel>
                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom" >
                            <controls:TabControl Grid.Row="0" Padding="0"  x:Name="tabControl2" Margin="4,-4,4,4" SelectionChanged="tabControl1_SelectionChanged" >
                                <controls:TabItem  x:Name="GeneralDetail" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="General Detail" Visibility="Collapsed">
                                    <controlsToolkit:DockPanel LastChildFill="True">
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >
                                                <ToggleButton  x:Name="cmdSaveGeneral"  Content="Save" Background="#000000" Margin="4"  Style="{StaticResource ToggleButtonStyle}" Click="cmdGenerate_Click" Visibility="Collapsed"></ToggleButton>
                                                <ToggleButton  x:Name="cmdGenerate" Width="130" Content="Generate Therapy" Background="#000000" Margin="4"  Style="{StaticResource ToggleButtonStyle}" Click="cmdGenerate_Click"></ToggleButton>
                                                <ToggleButton x:Name="cmdGenerateCancel"  Content="Cancel" Background="#000000" Margin="4" HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Click="cmdOutComeCancel_Click"></ToggleButton>
                                            </StackPanel>
                                        </controlsToolkit:DockPanel>
                                        <controlsToolkit:DockPanel>
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition/>
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition />
                                                    </Grid.RowDefinitions>


                                                    <TextBlock Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Planned Treatment" Margin="4"></TextBlock>
                                                    <input:AutoCompleteComboBox x:Name="cmbPlannedTreatment" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="1" Grid.Row="0" VerticalAlignment="Center" Text="" Margin="4"/>

                                                    <TextBlock Grid.Column="2" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Main Indication"  Margin="4"></TextBlock>
                                                    <input:AutoCompleteComboBox x:Name="cmbMainIndication" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="3" Grid.Row="0" VerticalAlignment="Center" Text="" Margin="4"/>

                                                    <TextBlock Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Planned No. Of Embryos"  Margin="4" Visibility="Collapsed"></TextBlock>
                                                    <TextBox Text="{Binding PlannedNoofEmbryos,Mode=TwoWay}" Grid.Column="1"  Grid.Row="1" VerticalAlignment="Center" Margin="4" MaxLength="15" x:Name="txtPlannedNoOfEmbryos" TextAlignment="Right" TextChanged="txtPlannedNoOfEmbryos_TextChanged" KeyDown="txtPlannedNoOfEmbryos_KeyDown" Visibility="Collapsed"></TextBox>

                                                    <TextBlock Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Planned Sperm Collection"  Margin="4"></TextBlock>
                                                    <input:AutoCompleteComboBox Grid.Column="1" x:Name="cmbSpermCollection" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Row="1" VerticalAlignment="Center" Text="" Margin="4"></input:AutoCompleteComboBox>

                                                    <TextBlock Grid.Column="0" Grid.Row="4" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Note"  Margin="4"></TextBlock>
                                                    <TextBox Grid.Column="1" x:Name="txtTherapyNotes" Grid.Row="4" Grid.RowSpan="3" Grid.ColumnSpan="3"  MinHeight="80" AcceptsReturn="True" VerticalScrollBarVisibility="Visible" Text="{Binding TherapyNotes,Mode=TwoWay}" Margin="4"></TextBox>

                                                    <TextBlock Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Physician" Margin="4"></TextBlock>
                                                    <input:AutoCompleteComboBox  Grid.Column="3" Grid.Row="1" VerticalAlignment="Center"
                                                x:Name="cmbPhysician"
                                                IsTextCompletionEnabled="False"
                                                MinimumPrefixLength="0"
                                                MinimumPopulateDelay="200"
                                                Margin="2" 
                                                SelectedValuePath="ID"
                                                />

                                                    <TextBlock Grid.Column="0" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Right" Text="External Simulation"  Margin="4"></TextBlock>
                                                    <input:AutoCompleteComboBox x:Name="cmbSimulation" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="1" Grid.Row="2" VerticalAlignment="Center" Text="" Margin="2"/>


                                                </Grid>

                                            </Grid>
                                        </controlsToolkit:DockPanel>
                                    </controlsToolkit:DockPanel>
                                </controls:TabItem>
                                <controls:TabItem x:Name="ExeCalander" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Execution Calendar" Visibility="Collapsed">
                                    <controlsToolkit:DockPanel LastChildFill="True">
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                                            <Border BorderBrush="{StaticResource TabControlDarkerBorder}" Margin="4" BorderThickness="0" CornerRadius="3,3,3,3" Background="Transparent">
                                                <StackPanel x:Name="Footer" Orientation="Horizontal"  HorizontalAlignment="Right" >
                                                    <ToggleButton x:Name="cmdNewExeDrug" Content="New Drug" Background="#000000" Margin="4" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}"  Click="cmdNewExeDrug_Click"></ToggleButton>
                                                    <!--<ToggleButton x:Name="cmdDrugChart" Width="180" Content="Drug Administration Chart" Background="#000000" Margin="4" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}"  Click="cmdDrugChart_Click"></ToggleButton>-->
                                                    <!--<ToggleButton x:Name="cmdNewEvent" Content="New Event" Background="#000000" Margin="4" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Click="cmdEvent_Click"></ToggleButton>-->
                                                    <ToggleButton x:Name="ExeCancel"  Content="Cancel" Background="#000000" Margin="4" Style="{StaticResource ToggleButtonStyle}" Click="cmdOutComeCancel_Click"></ToggleButton>

                                                </StackPanel>
                                            </Border>
                                        </controlsToolkit:DockPanel>
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <data:DataGrid x:Name="ExeGrid" FrozenColumnCount="1" AutoGenerateColumns="False" CurrentCellChanged="ExeGrid_CurrentCellChanged" CellEditEnded="ExeGrid_CellEditEnded" RowEditEnded="ExeGrid_RowEditEnded" LoadingRow="ExeGrid_LoadingRow">
                                                    <data:DataGrid.Columns>
                                                        <data:DataGridTemplateColumn>
                                                            <data:DataGridTemplateColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <HyperlinkButton x:Name="TherpayExeRowDelete" Margin="4" VerticalAlignment="Center" Foreground="Black" ClickMode="Release"  Content="{Binding Head}" Click="TherpayExeRowDelete_Click" ></HyperlinkButton>
                                                                </DataTemplate>
                                                            </data:DataGridTemplateColumn.CellTemplate>
                                                        </data:DataGridTemplateColumn>
                                                    </data:DataGrid.Columns>
                                                </data:DataGrid>
                                            </Grid>
                                        </controlsToolkit:DockPanel>
                                    </controlsToolkit:DockPanel>
                                </controls:TabItem>
                                <controls:TabItem x:Name="TabFolM" Visibility="Collapsed" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Follicular Monitoring"  >
                                    <controlsToolkit:DockPanel LastChildFill="True">
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                                            <Button Visibility="Collapsed" x:Name="cmdFollicularMonitoring" Content="Follicular Monitoring" Click="cmdFollicularMonitoring_Click" Margin="4"></Button>
                                            <ToggleButton x:Name="cmdFollicularCancel"  Content="Cancel" Background="#000000" Margin="4" HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Click="cmdOutComeCancel_Click"></ToggleButton>

                                        </controlsToolkit:DockPanel>
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <controlsToolkit:DockPanel LastChildFill="True">
                                                    <data:DataPager x:Name="dataGrid2Pager" controlsToolkit:DockPanel.Dock="Bottom" DisplayMode="FirstLastPreviousNextNumeric"   Source="{Binding}" NumericButtonCount="10" AutoEllipsis="False" IsTotalItemCountFixed="True" />
                                                    <data:DataGrid IsReadOnly="True" SelectionMode="Single" x:Name="dgFollicularMonitoring" ItemsSource="{Binding}"  AutoGenerateColumns="False">
                                                        <data:DataGrid.Columns>
                                                            <data:DataGridTemplateColumn>
                                                                <data:DataGridTemplateColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <Button x:Name="FollicularMonitoringView" Click="FollicularMonitoringView_Click" Content="View"></Button>
                                                                    </DataTemplate>
                                                                </data:DataGridTemplateColumn.CellTemplate>
                                                            </data:DataGridTemplateColumn>
                                                            <data:DataGridTextColumn Binding="{Binding Date,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}" Header="Date" />
                                                            <data:DataGridTextColumn Binding="{Binding Physician}" Header="Physician Name" />
                                                            <data:DataGridTemplateColumn  Header="Attachment">
                                                                <data:DataGridTemplateColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <HyperlinkButton x:Name="FollicularMonitoringAttachemntView" Content="{Binding AttachmentPath}" Click="FollicularMonitoringAttachemntView_Click" ></HyperlinkButton>
                                                                    </DataTemplate>
                                                                </data:DataGridTemplateColumn.CellTemplate>
                                                            </data:DataGridTemplateColumn>
                                                        </data:DataGrid.Columns>
                                                    </data:DataGrid>
                                                </controlsToolkit:DockPanel>

                                            </Grid>

                                        </controlsToolkit:DockPanel>
                                    </controlsToolkit:DockPanel>

                                </controls:TabItem>
                                <controls:TabItem x:Name="TabDocuments"  Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Documents" Visibility="Collapsed">
                                    <controlsToolkit:DockPanel LastChildFill="True">
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                                            <Grid >
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition />
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="3*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition />
                                                    <ColumnDefinition Width="Auto"/>

                                                </Grid.ColumnDefinitions>
                                                <TextBlock  VerticalAlignment="Center" HorizontalAlignment="Right" Text="Title"  Margin="4"></TextBlock>
                                                <TextBox x:Name="txtTitle"   Grid.Column="1" Grid.Row="0"  VerticalAlignment="Center" Margin="4"></TextBox>
                                                <TextBlock  VerticalAlignment="Center" Grid.Column="2"  HorizontalAlignment="Right" Text="Description"  Margin="4"></TextBlock>
                                                <TextBox x:Name="txtDescription"   Grid.Column="3" MaxLength="1000"   VerticalAlignment="Center" Margin="4"></TextBox>
                                                <TextBlock Grid.Column="4"   VerticalAlignment="Center" HorizontalAlignment="Right" Text="Attachment"  Margin="4"></TextBlock>
                                                <TextBox x:Name="txtFileName" IsReadOnly="True"  Grid.Column="5" Grid.Row="0"  VerticalAlignment="Center" Margin="4"></TextBox>
                                                <StackPanel Grid.Column="6" Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <ToggleButton x:Name="CmdBrowse"  Content="Browse" Background="#000000" Margin="4"  Style="{StaticResource ToggleButtonStyle}" Click="cmdAttachedDoc_Click"></ToggleButton>
                                                    <ToggleButton x:Name="CmdAddDocument"  Content="Add" Background="#000000" Margin="4"  Style="{StaticResource ToggleButtonStyle}" Click="CmdAddDocument_Click"></ToggleButton>
                                                    <ToggleButton x:Name="cmdDocCancel"  Content="Cancel" Background="#000000" Margin="4" Style="{StaticResource ToggleButtonStyle}" Click="cmdOutComeCancel_Click"></ToggleButton>
                                                </StackPanel>

                                            </Grid>
                                        </controlsToolkit:DockPanel>


                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <controlsToolkit:DockPanel LastChildFill="True">
                                                    <data:DataPager x:Name="DocumentGridPager" controlsToolkit:DockPanel.Dock="Bottom" DisplayMode="FirstLastPreviousNextNumeric"   Source="{Binding}" NumericButtonCount="10" AutoEllipsis="False" IsTotalItemCountFixed="True" />
                                                    <data:DataGrid IsReadOnly="True" SelectionMode="Single" x:Name="dgDocumentGrid" ItemsSource="{Binding}"  AutoGenerateColumns="False">
                                                        <data:DataGrid.Columns>
                                                            <data:DataGridTextColumn Binding="{Binding Date,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}" Header="Date" />
                                                            <data:DataGridTextColumn Width="150" Binding="{Binding Title}" Header="Title" />
                                                            <data:DataGridTextColumn  Width="200" Binding="{Binding Description}" Header="Description" />
                                                            <data:DataGridTemplateColumn Header="Attachment">
                                                                <data:DataGridTemplateColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <Grid>
                                                                            <HyperlinkButton Width="200" x:Name="hpyrlinkFileView" Content="{Binding AttachedFileName}" Click="hpyrlinkFileView_Click" ></HyperlinkButton>
                                                                        </Grid>
                                                                    </DataTemplate>
                                                                </data:DataGridTemplateColumn.CellTemplate>
                                                            </data:DataGridTemplateColumn>


                                                            <data:DataGridTemplateColumn >
                                                                <data:DataGridTemplateColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <Grid>
                                                                            <Button x:Name="cmdDeleteDoc" Content="Delete" Click="cmdDeleteDoc_Click"></Button>
                                                                        </Grid>
                                                                    </DataTemplate>
                                                                </data:DataGridTemplateColumn.CellTemplate>
                                                            </data:DataGridTemplateColumn>
                                                        </data:DataGrid.Columns>
                                                    </data:DataGrid>
                                                </controlsToolkit:DockPanel>

                                            </Grid>
                                        </controlsToolkit:DockPanel>

                                    </controlsToolkit:DockPanel>

                                </controls:TabItem>
                                <controls:TabItem x:Name="TabEmbrology"  Style="{StaticResource TabItemStyle}"   Padding="0" Margin="0" Header="Luteal Comment" Visibility="Collapsed">
                                    <controlsToolkit:DockPanel LastChildFill="True">
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                <ToggleButton x:Name="cmdEmbryologySave"  Content="Save" Background="#000000" Margin="4" HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Click="cmdEmbryologySave_Click"></ToggleButton>
                                                <ToggleButton x:Name="cmdEmbryologyCancel"  Content="Cancel" Background="#000000" Margin="4" HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Click="cmdOutComeCancel_Click"></ToggleButton>
                                            </StackPanel>
                                        </controlsToolkit:DockPanel>


                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>






                                                <TextBlock VerticalAlignment="Center" Grid.Column="0" Grid.Row="0" HorizontalAlignment="Right" Text="Luteal Support" Margin="4"></TextBlock>
                                                <TextBox Height="100"  Text="{Binding LutealSupport,Mode=TwoWay}" x:Name="txtLutealSupport" Grid.Column="1" Grid.Row="0" Margin="4" AcceptsReturn="True" VerticalScrollBarVisibility="Visible"></TextBox>

                                                <TextBlock VerticalAlignment="Center" Grid.Column="0" Grid.Row="1" HorizontalAlignment="Right" Text="Remark" Margin="4"></TextBlock>
                                                <TextBox Height="100"  Text="{Binding LutealRemarks,Mode=TwoWay}"  Grid.Column="1" Grid.Row="1" Margin="4" AcceptsReturn="True" VerticalScrollBarVisibility="Visible"></TextBox>

                                            </Grid>
                                        </controlsToolkit:DockPanel>
                                    </controlsToolkit:DockPanel>


                                </controls:TabItem>
                                <controls:TabItem x:Name="TabOutcome" Style="{StaticResource TabItemStyle}"   Padding="0" Margin="0" Header="Outcome"  Visibility="Collapsed">
                                    <controlsToolkit:DockPanel LastChildFill="True">
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                <ToggleButton x:Name="cmdOutComeSave"  Content="Save" Background="#000000" Margin="4" HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Click="cmdOutComeSave_Click"></ToggleButton>
                                                <ToggleButton x:Name="cmdOutComeCancel"  Content="Cancel" Background="#000000" Margin="4" HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Click="cmdOutComeCancel_Click"></ToggleButton>
                                            </StackPanel>
                                        </controlsToolkit:DockPanel>
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">
                                            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                                                <Grid >
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>
                                                    <grb:GroupBox Grid.Row="0" Header="βhCG Assessment 1" Margin="4">
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                            </Grid.ColumnDefinitions>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="Auto"/>
                                                            </Grid.RowDefinitions>

                                                            <TextBlock Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Date" Margin="4"></TextBlock>
                                                            <controls:DatePicker Width="120" VerticalAlignment="Center" SelectedDate="{Binding BHCGAss1Date,Mode=TwoWay}" Grid.Column="1" Grid.Row="0" Margin="4"/>

                                                            <TextBlock Grid.Column="2" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="βhCG" Margin="4"></TextBlock>
                                                            <Border BorderBrush="{StaticResource TabControlDarkerBorder}" BorderThickness="1" Background="Transparent"  Grid.Column="3" Grid.Row="0" VerticalAlignment="Center" Margin="4">
                                                                <StackPanel Orientation="Horizontal" >
                                                                    <RadioButton Margin="2" Content="Positive" IsChecked="{Binding BHCGAss1IsBSCGPositive,Mode=TwoWay}" x:Name="rdoBSCGAss1Positve"></RadioButton>
                                                                    <RadioButton Margin="2" Content="Negative" IsChecked="{Binding BHCGAss1IsBSCGNagative,Mode=TwoWay}" x:Name="rdoBSCGAss1Negative"></RadioButton>
                                                                </StackPanel>
                                                            </Border>


                                                            <TextBlock Grid.Column="4" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="βhCG Value" Margin="4"></TextBlock>
                                                            <TextBox VerticalAlignment="Center" Width="100" Text="{Binding BHCGAss1BSCGValue,Mode=TwoWay}" x:Name="txtOutβhCGValue" Grid.Column="5" Grid.Row="0" Margin="4" MaxLength="50"></TextBox>

                                                            <TextBlock Grid.Column="6" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Sr. Progest" Margin="4"></TextBlock>
                                                            <TextBox Width="120" VerticalAlignment="Center"  Text="{Binding BHCGAss1SrProgest,Mode=TwoWay}" x:Name="txtSrProgest" Grid.Column="7" Grid.Row="1" Margin="4"></TextBox>
                                                        </Grid>
                                                    </grb:GroupBox>
                                                    <grb:GroupBox Grid.Row="1" Header="βhCG Assessment 2" Margin="4">
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                            </Grid.ColumnDefinitions>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="Auto"/>
                                                            </Grid.RowDefinitions>
                                                            <TextBlock Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Date" Margin="4"></TextBlock>
                                                            <controls:DatePicker Width="120" VerticalAlignment="Center" SelectedDate="{Binding BHCGAss2Date,Mode=TwoWay}" Grid.Column="1" Grid.Row="0" Margin="4"/>

                                                            <TextBlock Grid.Column="2" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="βhCG" Margin="4"></TextBlock>
                                                            <Border BorderBrush="{StaticResource TabControlDarkerBorder}" BorderThickness="1" Background="Transparent" Grid.Column="3" Grid.Row="0" VerticalAlignment="Center" Margin="4">
                                                                <StackPanel Orientation="Horizontal" >
                                                                    <RadioButton Margin="2" Content="Positive" IsChecked="{Binding BHCGAss2IsBSCGPostive,Mode=TwoWay}" x:Name="rdoBSCGAss2Positve"></RadioButton>
                                                                    <RadioButton Margin="2" Content="Negative"  IsChecked="{Binding BHCGAss2IsBSCGNagative,Mode=TwoWay}" x:Name="rdoBSCGAss2Negative"></RadioButton>
                                                                </StackPanel>
                                                            </Border>
                                                            <TextBlock Grid.Column="4" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="βhCG Value" Margin="4"></TextBlock>
                                                            <TextBox VerticalAlignment="Center" Width="100" Text="{Binding BHCGAss2BSCGValue,Mode=TwoWay}" x:Name="txtOutAssment2βhCGValue" Grid.Column="5" Grid.Row="0" Margin="4" MaxLength="50"></TextBox>


                                                        </Grid>
                                                    </grb:GroupBox>
                                                    <grb:GroupBox Grid.Row="2" Header="[βhCG Assessment 2] + 14 Days" Margin="4">
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition/>

                                                            </Grid.ColumnDefinitions>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition/>
                                                            </Grid.RowDefinitions>
                                                            <TextBlock Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right" Text="USG" Margin="4"></TextBlock>
                                                            <TextBox Grid.ColumnSpan="7" Text="{Binding BHCGAss2USG,Mode=TwoWay}"  AcceptsReturn="True" x:Name="txtUSG" VerticalScrollBarVisibility="Visible" Grid.Column="1" Grid.Row="1" Margin="4" Height="50" ></TextBox>

                                                        </Grid>
                                                    </grb:GroupBox>
                                                    <Grid Grid.Row="3">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Pregnancy Achieved" Margin="4"></TextBlock>
                                                        <Border BorderThickness="1" Background="Transparent" Grid.Column="1" Grid.Row="0" VerticalAlignment="Center" Margin="4">
                                                            <StackPanel Orientation="Horizontal" >
                                                                <RadioButton Margin="2" Content="Yes" IsChecked="{Binding IsPregnancyAchievedPostive,Mode=TwoWay}" x:Name="rdoPregnancyAchievedYes" ></RadioButton>
                                                                <RadioButton   Margin="2" Content="No" IsChecked="{Binding IsPregnancyAchievedNegative,Mode=TwoWay}" x:Name="rdoPregnancyAchievedNo"></RadioButton>
                                                            </StackPanel>
                                                        </Border>
                                                        <TextBlock Grid.Column="2" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Pregnancy Confirmed On Date" Margin="4" Name="PregnancyConfirmedOnDate"></TextBlock>
                                                        <controls:DatePicker x:Name="dtpPregnancy" Width="120" VerticalAlignment="Center" SelectedDate="{Binding PregnanacyConfirmDate,Mode=TwoWay}" Grid.Column="3" Grid.Row="0" Margin="4"/>
                                                        <CheckBox IsThreeState="False" Grid.Column="4" IsChecked="{Binding IsClosed,Mode=TwoWay}" Grid.Row="0" Content="Is Closed" VerticalAlignment="Center"></CheckBox>
                                                    </Grid>
                                                    <Grid Grid.Row="4">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition />
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Remark" Margin="4" Height="30"></TextBlock>
                                                        <TextBox  Text="{Binding OutComeRemarks,Mode=TwoWay}" Grid.Column="1" Grid.Row="0" Margin="4" AcceptsReturn="True" Height="50" VerticalScrollBarVisibility="Visible"  ></TextBox>
                                                    </Grid>


                                                </Grid>
                                            </ScrollViewer>
                                        </controlsToolkit:DockPanel>

                                    </controlsToolkit:DockPanel>


                                </controls:TabItem>
                                <controls:TabItem x:Name="TabANCVisits" Style="{StaticResource TabItemStyle}" Padding="0" Margin="0" Header="ANC Visits" Visibility="Visible">
                                    <controlsToolkit:DockPanel LastChildFill="True">
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                                            <StackPanel x:Name="FooterBackPanel" Orientation="Vertical"    Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <ToggleButton x:Name="cmdANCSave"  Content="Save" Background="#000000" Margin="4" HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Click="cmdANCSave_Click"></ToggleButton>
                                                    <ToggleButton x:Name="cmdANCCancel"  Content="Cancel" Background="#000000" Margin="4" HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Click="cmdANCCancel_Click"></ToggleButton>
                                                </StackPanel>
                                            </StackPanel>
                                        </controlsToolkit:DockPanel>
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">
                                            <StackPanel Orientation="Horizontal">
                                                <Grid x:Name="IVF" Visibility="Visible">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>
                                                    <ScrollViewer Margin="2" Grid.Row="1" MinHeight="0"  MaxHeight="600" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Auto">
                                                        <StackPanel>
                                                            <data:DataGrid x:Name="grdANC" HorizontalAlignment="Stretch"  AutoGenerateColumns="false" CanUserSortColumns="False" Width="Auto">
                                                                <data:DataGrid.Columns>
                                                                    <data:DataGridTextColumn Header="Date" Width="150" />
                                                                    <data:DataGridTextColumn Header="POG" Width="200"/>
                                                                    <data:DataGridTextColumn Header="Findings" Width="200"/>
                                                                    <data:DataGridTextColumn Header="USG Reproductive" Width="200"/>
                                                                    <data:DataGridTextColumn Header="Any Investigations" Width="200"/>
                                                                    <data:DataGridTextColumn Header="Remark" Width="200"/>
                                                                    <data:DataGridTextColumn Header="" Width="80"/>

                                                                </data:DataGrid.Columns>
                                                            </data:DataGrid>
                                                            <Grid x:Name="IVFRepeater"  >
                                                                <!--<ListBox x:Name="lstIVFBox" />-->
                                                            </Grid>
                                                        </StackPanel>
                                                    </ScrollViewer>
                                                </Grid>
                                            </StackPanel>
                                        </controlsToolkit:DockPanel>
                                    </controlsToolkit:DockPanel>
                                </controls:TabItem>
                                <controls:TabItem  x:Name="TabDelieveryDetail" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Delievery Detail" Visibility="Visible">
                                    <controlsToolkit:DockPanel LastChildFill="True">
                                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >
                                                <ToggleButton  x:Name="cmdSaveDelievery"  Content="Save" Background="#000000" Margin="4"  Style="{StaticResource ToggleButtonStyle}"  Visibility="Visible" Click="cmdSaveDelievery_Click"></ToggleButton>

                                                <ToggleButton x:Name="cmdCancelDelievery"  Content="Cancel" Background="#000000" Margin="4" HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Click="cmdCancelDelievery_Click"></ToggleButton>
                                            </StackPanel>
                                        </controlsToolkit:DockPanel>
                                        <controlsToolkit:DockPanel>
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition/>
                                                        <ColumnDefinition/>
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>

                                                        <RowDefinition />
                                                    </Grid.RowDefinitions>


                                                    <TextBlock Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Date" Margin="4"></TextBlock>
                                                    <controls:DatePicker  SelectedDate="{Binding Date,Mode=TwoWay}"  VerticalAlignment="Center" Grid.Column="1" Grid.Row="0" Margin="4"  x:Name="dtpdelieverydate"></controls:DatePicker>
                                                    <TextBlock Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Weight"  Margin="4" Visibility="Visible"></TextBlock>
                                                    <TextBox Text="{Binding Weight,Mode=TwoWay}" Grid.Column="1"  Grid.Row="1" VerticalAlignment="Center" Margin="4" MaxLength="15" x:Name="txtWeight" TextAlignment="Right" TextChanged ="txtWeight_TextChanged_1" KeyDown="txtWeight_KeyDown_1"  Visibility="Visible"></TextBox>

                                                    <TextBlock Grid.Column="2" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Time of Birth"  Margin="4"></TextBlock>
                                                    <inputToolkit:TimePicker x:Name="tpBirth"  Grid.Row="0" Grid.Column="3" Margin="4"  HorizontalAlignment="Stretch" TabIndex="4" />

                                                    <TextBlock Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Mode" ></TextBlock>
                                                    <input:AutoCompleteComboBox x:Name="cmbMode" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="3" Grid.Row="1" VerticalAlignment="Center"  Margin="4"/>

                                                    <TextBlock Grid.Column="0" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Baby"></TextBlock>
                                                    <input:AutoCompleteComboBox x:Name="cmbBaby" SelectedItemBinding="{Binding MasterListItem,Mode=OneTime}" SelectedValuePath="ID" Grid.Column="1" Grid.Row="2" VerticalAlignment="Center" Margin="4"/>


                                                </Grid>

                                            </Grid>
                                        </controlsToolkit:DockPanel>
                                    </controlsToolkit:DockPanel>
                                </controls:TabItem>

                            </controls:TabControl>
                        </controlsToolkit:DockPanel>
                    </controlsToolkit:DockPanel>


                </Grid>
            </Grid>
        </controlsToolkit:DockPanel>
    </Grid>

</UserControl>

