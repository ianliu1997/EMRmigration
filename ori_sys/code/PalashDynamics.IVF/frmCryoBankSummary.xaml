<UserControl x:Class="PalashDynamics.IVF.frmCryoBankSummary"
    xmlns:my="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"    
    xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"  xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"               
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"             
    xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"              
    xmlns:CustomCombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"             
    xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit" 
    xmlns:layoutToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Layout.Toolkit"             
    xmlns:liquid="clr-namespace:Liquid;assembly=Liquid"             
    Height="Auto" Width="Auto" Loaded="UserControl_Loaded">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
                <ResourceDictionary Source="Themes/Generic1.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <local:DateTimeConverter x:Key="DateConverter" />
            <local:DateTimeToAgePart x:Key="DateTimeToAgePart"></local:DateTimeToAgePart>
            <ControlTemplate x:Key="FilledContentControlTemplate" TargetType="ContentControl">
                <Grid>
                    <ContentPresenter />
                </Grid>
            </ControlTemplate>
        </ResourceDictionary>
    </UserControl.Resources>
    
    <Grid x:Name="Root">
        <my:DockPanel x:Name="MainDockPanel">
        <!--<Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition />
            <RowDefinition />
        </Grid.RowDefinitions>-->
        <my:DockPanel Grid.Row="0" LastChildFill="True" Margin="4" my:DockPanel.Dock="Top">
            <Grid Width="Auto"  Margin="0" my:DockPanel.Dock="Top" DataContext="{Binding BizActionObject}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition />
                    <ColumnDefinition  Width="Auto"/>
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <!-- <RowDefinition Height="Auto"/>-->
                    <!--<RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>-->
                </Grid.RowDefinitions>
               
                <TextBlock x:Name="chkPatientName"  VerticalAlignment="Center" Grid.Column="0" Grid.Row="0"  Margin="4" Text="First Name" HorizontalAlignment="Right"></TextBlock>
                <TextBox TabIndex="0" x:Name="txtFirstName" Text="{Binding FirstName,Mode=TwoWay}"  Grid.Row="0"  Grid.Column="1" Margin="4" LostFocus="txtFirstName_LostFocus" MaxLength="50" />

                <TextBlock Grid.Column="2" Grid.Row="0"  Margin="4" Text="Middle Name" VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                <TextBox TabIndex="1" x:Name="txtMiddleName" Text="{Binding MiddleName,Mode=TwoWay}"  Grid.Row="0"  Grid.Column="3" Margin="4" LostFocus="txtMiddleName_LostFocus"  MaxLength="50" />

                <TextBlock Grid.Column="4" Grid.Row="0"  Margin="4" Text="Last Name" VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                <TextBox TabIndex="2" x:Name="txtLastName" Text="{Binding LastName,Mode=TwoWay}"  Grid.Row="0"  Grid.Column="5" Margin="4" LostFocus="txtLastName_LostFocus" MaxLength="50" />

                <TextBlock Grid.Column="0" Grid.Row="1"  Margin="4" Text="Family Name" VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                <TextBox TabIndex="3" x:Name="txtFamilyName" Text="{Binding FamilyName,Mode=TwoWay}"  Grid.Row="1"  Grid.Column="1" Margin="4"  LostFocus="txtFamilyName_LostFocus" MaxLength="50" />

                <TextBlock x:Name="chkMrno"  VerticalAlignment="Center" Grid.Column="2" Grid.Row="1"  Margin="4" Text="MR. No." HorizontalAlignment="Right"></TextBlock>
                <TextBox TabIndex="4" x:Name="txtMrno" Text="{Binding MRNo,Mode=TwoWay}"  Grid.Row="1"   Grid.Column="3"   Margin="4"  MaxLength="30"/>

                <TextBlock Grid.Column="2" Grid.Row="3" Text="Contact No"  Margin="4" Visibility="Collapsed"  HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>
                <TextBox Grid.Column="3" TabIndex="8" Grid.Row="3" x:Name="txtContactNo" Visibility="Collapsed"  Margin="4" Text="{Binding ContactNo, Mode=TwoWay}" MaxLength="15"></TextBox>

                <TextBlock Grid.Column="0" Grid.Row="2" Visibility="Collapsed"  Margin="4" Text="Freezing From Date " VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                <controls:DatePicker TabIndex="10" SelectedDate="{Binding FromDate,Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}" Style="{StaticResource DatePickerStyle}" x:Name="dtpFromDate" Margin="4" Grid.Row="2" Grid.Column="1" Visibility="Collapsed" />
                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Text="To Date" Grid.Row="2" Grid.Column="2"  Margin="4" Visibility="Collapsed" />
                <controls:DatePicker TabIndex="11" SelectedDate="{Binding ToDate,Mode=TwoWay}"  x:Name="dtpToDate" Margin="4" Grid.Row="2" Grid.Column="3" Visibility="Collapsed" />
               
                <StackPanel Grid.Row="1" Grid.Column="4" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Grid.ColumnSpan="2" my:DockPanel.Dock="Top" x:Name="SaveCommandPanel" Orientation="Horizontal" Margin="2">
                    <RadioButton TabIndex="12" VerticalAlignment="Center" IsChecked="False"  Margin="4" Content="Embryo Bank"  HorizontalAlignment="Right" x:Name="chkEmbryo" Click="chkRadioButton_Click" />
                    <RadioButton TabIndex="12" VerticalAlignment="Center" IsChecked="False"  Margin="4" Content="Sperm Bank"  HorizontalAlignment="Right" x:Name="chkSperm" Click="chkRadioButton_Click" />
                    <RadioButton TabIndex="12" VerticalAlignment="Center" IsChecked="True" Margin="4" Content="Total Cryo Bank "  HorizontalAlignment="Right" x:Name="chkBoth" Click="chkRadioButton_Click" />                    
                </StackPanel>

                <ToggleButton TabIndex="20" x:Name="SearchButton" Grid.Column="4" Grid.Row="2" HorizontalAlignment="Left"  Content="Search" Background="#000000" Margin="4,4,4,4" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="PatientSearchButton_Click"/>
                <ToggleButton TabIndex="21" x:Name="PrintButton" Grid.Column="5" Grid.Row="2" HorizontalAlignment="Left"  Content="Print" Background="#000000" Margin="4,4,4,4" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="PrintButton_Click"/>
                    <!--<StackPanel Grid.Row="4" Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Stretch">
                        <ToggleButton x:Name="CmdPrintBarcode"   Content="Print Embryo Barcode"  Background="#000000" Margin="4" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdPrintBarcode_Click"/>
                        <ToggleButton x:Name="CmdPrintSpermBarcode"   Content="Print Sperm Barcode"  Background="#000000" Margin="4" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdPrintSpermBarcode_Click"/>
                    </StackPanel>-->
                    <Grid Width="Auto" Height="Auto" Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="6" my:DockPanel.Dock="Bottom">
            
            </Grid>
            </Grid>

        </my:DockPanel>
            <Grid>
            <Grid.RowDefinitions>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
            </Grid.RowDefinitions>
            
            <my:DockPanel Margin="4" Grid.Row="0" x:Name="EmbryoDockPanel" my:DockPanel.Dock="Top">
            
            <StackPanel my:DockPanel.Dock="Top" Margin="0,4,0,0">
                <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                    <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Embryos In Cryo Bank" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                </Border>
            </StackPanel>

            <!--<data:DataPager x:Name="dgDataPager" controlsToolkit:DockPanel.Dock="Bottom"
                                                DisplayMode="FirstLastPreviousNext" IsEnabled="True" 
                                                Source="{Binding}" 
                                                AutoEllipsis="False" IsTotalItemCountFixed="True" />-->
                    
                <ToggleButton x:Name="CmdPrintBarcode"   my:DockPanel.Dock="Bottom"  Content="Print Embryo Barcode"  Background="#000000" Margin="4" Width="143"  HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdPrintBarcode_Click"/>
                    
                <data:DataPager TabIndex="20" x:Name="EmbryoDataPager" my:DockPanel.Dock="Bottom"                        
                        DisplayMode="FirstLastPreviousNext" IsEnabled="True" IsTotalItemCountFixed="True"
                        Source="{Binding }" AutoEllipsis="False"/>

                    <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding EmbryoList}"  x:Name="EmbryoDataGrid"  AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                <data:DataGrid.Columns>
                            <data:DataGridTextColumn IsReadOnly="True" Header="Oocyte No." Binding="{Binding SerialOccyteNo}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Clinic" Binding="{Binding PatientUnitName}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                    <data:DataGridTemplateColumn IsReadOnly="True" Header="Name" Width="150" SortMemberPath="FirstName">
                        <data:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <TextBlock VerticalAlignment="Center" Text="{Binding FirstName}" Margin="4,0,4,0"></TextBlock>
                                    <TextBlock VerticalAlignment="Center" Text="{Binding MiddleName}" Margin="0,0,4,0"></TextBlock>
                                    <TextBlock VerticalAlignment="Center" Text="{Binding LastName}"></TextBlock>
                                </StackPanel>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>
                    <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding TankId}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding CanID}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Canister No." Binding="{Binding ConistorNo}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding StrawId}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShapeId}" />
                    <data:DataGridTemplateColumn Header="Color Code">
                        <data:DataGridTemplateColumn.CellTemplate >
                            <DataTemplate>
                                <Grid >
                                    <liquid:ColorSelector x:Name="ColorSelector" Selected="{Binding SelectesColor,Mode=TwoWay}"   AddColorVisibility="Collapsed" CustomVisibility="Collapsed" IsEnabled="False"></liquid:ColorSelector>
                                </Grid>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>
                    <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSizeId}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Cell Stage" Binding="{Binding CellStange}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Grade" Binding="{Binding Grade}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Transfer Day" Binding="{Binding TransferDay}" />

                </data:DataGrid.Columns>
            </data:DataGrid>
        </my:DockPanel>
            <my:DockPanel Margin="4" Grid.Row="1" x:Name="SpermsDockPanel" my:DockPanel.Dock="Bottom">
            <StackPanel my:DockPanel.Dock="Top" Margin="0,4,0,0">
                <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                    <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Sperm Collection in Cryo Bank" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                </Border>
            </StackPanel>

                    <ToggleButton x:Name="CmdPrintSpermBarcode" my:DockPanel.Dock="Bottom"  Content="Print Sperm Barcode"  Background="#000000" Margin="4" Width="143"  HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdPrintSpermBarcode_Click"/>
                
                    <data:DataPager TabIndex="20" x:Name="SpermsDataPager" my:DockPanel.Dock="Bottom"
                        Grid.Row="1"
                        PageSize="{Binding PageSize}"
                        DisplayMode="FirstLastPreviousNext"
                        IsEnabled="True"
                        IsTotalItemCountFixed="True"
                        Source="{Binding DataList}"  />
                
            <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding DataList}"  x:Name="SpermsDataGrid" AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                <data:DataGrid.Columns>
                    <data:DataGridTextColumn IsReadOnly="True" Header="Freezing No." Binding="{Binding VtirificationNo}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Clinic" Binding="{Binding PatientUnitName}" />
                            <!--<data:DataGridTextColumn IsReadOnly="True" Header="Time" Binding="{Binding VitrificationTime}" />-->
                    <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                    <data:DataGridTemplateColumn IsReadOnly="True" Header="Name" Width="150" SortMemberPath="FirstName">
                        <data:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <TextBlock VerticalAlignment="Center" Text="{Binding FirstName}" Margin="4,0,4,0"></TextBlock>
                                    <TextBlock VerticalAlignment="Center" Text="{Binding MiddleName}" Margin="0,0,4,0"></TextBlock>
                                    <TextBlock VerticalAlignment="Center" Text="{Binding LastName}"></TextBlock>
                                </StackPanel>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>
                    <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding TankId}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding CanID}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Canister No." Binding="{Binding CanisterId}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding StrawId}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShapeId}" />
                    <data:DataGridTemplateColumn Header="Color Code">
                        <data:DataGridTemplateColumn.CellTemplate >
                            <DataTemplate>
                                <Grid >
                                    <liquid:ColorSelector x:Name="ColorSelector" Selected="{Binding SelectesColor,Mode=TwoWay}"   AddColorVisibility="Collapsed" CustomVisibility="Collapsed" IsEnabled="False"></liquid:ColorSelector>
                                </Grid>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>
                    <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSizeId}" />
                    <!--<data:DataGridTextColumn IsReadOnly="True" Header="Collection Method" Binding="{Binding CollectionMethod}" />-->
                    <data:DataGridTextColumn IsReadOnly="True" Header="Volume" Binding="{Binding Volume}" />
                    <!--<data:DataGridTextColumn IsReadOnly="True" Header="Abstinence" Binding="{Binding Abstinence}" />-->
                    <data:DataGridTextColumn IsReadOnly="True" Header="Total Sperm Count" Binding="{Binding SpermCount}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Motality" Binding="{Binding Motility}" />
                </data:DataGrid.Columns>
            </data:DataGrid>
        </my:DockPanel>
            </Grid>
        </my:DockPanel>
    </Grid>
</UserControl>
