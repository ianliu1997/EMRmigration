<UserControl x:Class="PalashDynamics.IVF.DashBoard.frmDocumentforDashTherapy"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"               
     xmlns:data="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"       
     xmlns:controlsToolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"
    xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"  
    xmlns:dataInput="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input"
  Loaded="UserControl_Loaded" >
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <local:DateTimeConverter x:Key="DateConverter" />
            <local:DateTimeToAgePart x:Key="DateTimeToAgePart"></local:DateTimeToAgePart>
            <local:ToggleBooleanValueConverter x:Key="NegateValueConverter"/>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid x:Name="LayoutRoot" Background="White">
        <controlsToolkit:DockPanel LastChildFill="True">
            <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition  />
                        <ColumnDefinition Width="Auto"/>

                    </Grid.ColumnDefinitions>
                    <TextBlock  VerticalAlignment="Center" HorizontalAlignment="Right" Text="Title"  Margin="4"></TextBlock>
                    <TextBox x:Name="txtTitle"   Grid.Column="1" Grid.Row="0"  VerticalAlignment="Center" Margin="4"></TextBox>
                    <TextBlock  VerticalAlignment="Center" Grid.Column="2"  HorizontalAlignment="Right" Text="Description"  Margin="4"></TextBlock>
                    <TextBox x:Name="txtDescription"   Grid.Column="3" MaxLength="1000"   VerticalAlignment="Center" Margin="4"></TextBox>
                    <TextBlock Grid.Column="4"   VerticalAlignment="Center" HorizontalAlignment="Right" Text="Attachment"  Margin="4"></TextBlock>
                    <TextBox x:Name="txtFileName" IsReadOnly="True"  Grid.Column="5" Grid.Row="0"  VerticalAlignment="Center" Margin="4"></TextBox>
                    <StackPanel Grid.Column="6" Orientation="Horizontal" HorizontalAlignment="Right">
                        <ToggleButton x:Name="CmdBrowse"  Content="Browse" Background="#000000" Margin="4"  Style="{StaticResource ToggleButtonStyle}" Click="cmdAttachedDoc_Click"></ToggleButton>
                        <ToggleButton x:Name="CmdAddDocument"  Content="Add" Background="#000000" Margin="4"  Style="{StaticResource ToggleButtonStyle}" Click="CmdAddDocument_Click"></ToggleButton>
                        <!--<ToggleButton x:Name="cmdSave"  Content="Save" Background="#000000" Margin="4" Style="{StaticResource ToggleButtonStyle}" Click="cmdSave_Click"></ToggleButton>-->
                    </StackPanel>

                </Grid>
            </controlsToolkit:DockPanel>
            <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <controlsToolkit:DockPanel LastChildFill="True">
                        <data:DataPager x:Name="DocumentGridPager" controlsToolkit:DockPanel.Dock="Bottom" DisplayMode="FirstLastPreviousNextNumeric"   Source="{Binding}" NumericButtonCount="10" AutoEllipsis="False" IsTotalItemCountFixed="True" />
                        <data:DataGrid IsReadOnly="True" SelectionMode="Single" x:Name="dgDocumentGrid" ItemsSource="{Binding}"  AutoGenerateColumns="False">
                            <data:DataGrid.Columns>
                                <data:DataGridTextColumn Binding="{Binding Date,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}" Header="Date" />
                                <data:DataGridTextColumn Width="150" Binding="{Binding Title}" Header="Title" />
                                <data:DataGridTextColumn  Width="200" Binding="{Binding Description}" Header="Description" />
                                <data:DataGridTemplateColumn Header="Attachment">
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <HyperlinkButton Width="200" x:Name="hpyrlinkFileView" Content="{Binding AttachedFileName}" Click="hpyrlinkFileView_Click" ></HyperlinkButton>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                                <data:DataGridTemplateColumn >
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Button x:Name="cmdDeleteDoc" Content="Delete" Click="cmdDeleteDoc_Click"></Button>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                            </data:DataGrid.Columns>
                        </data:DataGrid>
                    </controlsToolkit:DockPanel>
                </Grid>
            </controlsToolkit:DockPanel>

        </controlsToolkit:DockPanel>
    </Grid>
</UserControl>
