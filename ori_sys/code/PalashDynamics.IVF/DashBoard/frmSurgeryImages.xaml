<controls:ChildWindow x:Class="PalashDynamics.IVF.DashBoard.frmSurgeryImages"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"       
        xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
        xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit" 
        xmlns:blacklight="clr-namespace:Blacklight.Silverlight.Controls;assembly=Blacklight.Silverlight.Controls"
        xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"        
xmlns:data="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk" 
        xmlns:inputToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input.Toolkit"
        xmlns:inputcombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
       xmlns:Grp ="clr-namespace:Groupbox;assembly=Groupbox"
      xmlns:Common="clr-namespace:DataDrivenApplication"     Background="White"
        Loaded="ChildWindow_Loaded" Width="800" Height="475"
           Title="Images ">

    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
                <ResourceDictionary Source="Themes/Generic1.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <local:DateTimeConverter x:Key="DateConverter" />
            <local:DateTimeToAgePart x:Key="DateTimeToAgePart"></local:DateTimeToAgePart>
            <ControlTemplate x:Key="FilledContentControlTemplate" TargetType="ContentControl">
                <Grid>
                    <ContentPresenter />
                </Grid>
            </ControlTemplate>
            <SolidColorBrush x:Key="Heading" Color="#FF0F3C64"/>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>
    
    <Grid x:Name="LayoutRoot" Margin="2">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <controlsToolkit:DockPanel x:Name="doctop" controlsToolkit:DockPanel.Dock="Bottom" Grid.Row="0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <StackPanel Grid.Row="0">
                    <controlsToolkit:DockPanel   controlsToolkit:DockPanel.Dock="Bottom" Grid.Row="0" VerticalAlignment="Stretch">
                        <Border controlsToolkit:DockPanel.Dock="Top"   BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" Margin="3" CornerRadius="3,3,0,0"  Background="Transparent" >
                            <ContentControl VerticalAlignment="Center" FontSize="12" Content="Procedure Images / Video Details" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                        </Border>
                        <controlsToolkit:DockPanel>
                            <data:DataPager x:Name="SpremFreezingGridPager" controlsToolkit:DockPanel.Dock="Bottom" DisplayMode="FirstLastPreviousNextNumeric"   Source="{Binding}" NumericButtonCount="10" AutoEllipsis="False" IsTotalItemCountFixed="True" />
                            <data:DataGrid  SelectionMode="Single" x:Name="dgSpremFreezingDetailsGrid" ItemsSource="{Binding}"  AutoGenerateColumns="False" IsReadOnly="True" VerticalAlignment="Stretch" Height="160" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto">
                                <data:DataGrid.Columns>
                                    <data:DataGridTextColumn Width="Auto" Binding="{Binding SpremNostr}" Header=" Date"/>
                                    <data:DataGridTextColumn Width="100" Binding="{Binding SpremNostr}" Header=" Time "/>
                                    <data:DataGridTextColumn Width="100" Binding="{Binding SpremNostr}" Header=" Procedure Name"/>
                                    <data:DataGridTextColumn Width="100" Binding="{Binding SpremNostr}" Header=" Doctor Name"/>
                                    <data:DataGridTextColumn Width="100" Binding="{Binding SpremNostr}" Header=" Capature By"/>
                                    <data:DataGridTextColumn Width="100" Binding="{Binding SpremNostr}" Header=" Remark"/>
                                   
                                    <data:DataGridTemplateColumn>
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton VerticalAlignment="Center" FontFamily="Webdings" Content="r"  Padding="5,0,5,0" IsTabStop="False" Click ="cmdDelete_Click"  x:Name="cmdDelete" ToolTipService.ToolTip="Delete" IsEnabled="{Binding IsFreezReadOnly}"></HyperlinkButton>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>
                                </data:DataGrid.Columns>
                            </data:DataGrid>
                       
                    </controlsToolkit:DockPanel>
                    </controlsToolkit:DockPanel>
                </StackPanel>
                <StackPanel Grid.Row="1">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height = "Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0" Grid.Column="0" >
                            <Grp:GroupBox Header=" Add New Procedure Images " Margin="2" Grid.Row="0" Grid.Column="0" Width="Auto">
                                <Grid  x:Name="TherapyDetails">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Text="Procedure Date" Margin="4" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"></TextBlock>
                                    <controls:DatePicker x:Name="SurgeryDate" SelectedDate="{Binding TherapyStartDate, Mode=TwoWay}" Margin="4" Grid.Row="0"  Grid.Column="1" HorizontalAlignment="Stretch" VerticalAlignment="Center" IsEnabled="True"/>

                                    <TextBlock Text=" Procedure Time" Margin="4" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center"></TextBlock>
                                    <inputToolkit:TimePicker x:Name="SurgeryTime" Value="{Binding Time, Mode=TwoWay}" Margin="4" Grid.Row="0"  Grid.Column="3" HorizontalAlignment="Stretch" VerticalAlignment="Center" />
                               
                                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Procedure Type" Margin="2" VerticalAlignment="Center"></TextBlock>
                                    <inputcombo:AutoCompleteComboBox  x:Name="cmbProcedureType" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" VerticalAlignment="Center" MinWidth="100" Margin="4"  Grid.Row="1" Grid.Column="1" TabIndex="2" ></inputcombo:AutoCompleteComboBox>
                                   
                                    <TextBlock Grid.Row="1" Grid.Column="2" Text="Doctor"  VerticalAlignment="Center" Margin="4"></TextBlock>
                                    <inputcombo:AutoCompleteComboBox  x:Name="cmbDoctor" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" VerticalAlignment="Center" MinWidth="100" Margin="4"  Grid.Row="1" Grid.Column="3"  TabIndex="3"></inputcombo:AutoCompleteComboBox>

                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Capature By" Margin="4" VerticalAlignment="Center"></TextBlock>
                                    <inputcombo:AutoCompleteComboBox  x:Name="CmbCapatureBy" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" VerticalAlignment="Center" MinWidth="100" Margin="4"  Grid.Row="2" Grid.Column="1"  TabIndex="3"></inputcombo:AutoCompleteComboBox>
                                   
                                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Remarks" Margin="4" VerticalAlignment="Center"></TextBlock>
                                    <TextBox x:Name="txtRemark" Text="{Binding Impression, Mode=TwoWay}" TextWrapping="Wrap" VerticalAlignment="Center" MinWidth="100" Margin="4"  Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="3" Grid.RowSpan="2" TabIndex="20"></TextBox>

                                </Grid>
                            </Grp:GroupBox>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Grid>
        </controlsToolkit:DockPanel>


        <controlsToolkit:DockPanel x:Name="docFooter" controlsToolkit:DockPanel.Dock="Bottom" Grid.Row="1" Height="50">  
            <Border BorderThickness="2">
                <StackPanel x:Name="FooterBackPanel" Orientation="Horizontal" HorizontalAlignment="Right" Background="Transparent">
                    <StackPanel x:Name="SaveCommandPanel" Orientation="Horizontal"  Margin="2"  Height="Auto" HorizontalAlignment="Center" VerticalAlignment="Bottom">
                        <ToggleButton x:Name="CmdBrowse"  HorizontalAlignment="Left" Grid.Column="2" Grid.Row="0" Margin="2" Click="CmdBrowse_Click" Style="{StaticResource ToggleButtonStyle}" ToolTipService.ToolTip="Attach Images / Video" >
                            <StackPanel Orientation="Horizontal" Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" >
                                <Image Source="../Icons/attachment.JPG"  MouseLeftButtonDown="Image_MouseLeftButtonDown" Height="22" Margin="0"></Image>
                                <TextBlock Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Attache"  Margin="2"></TextBlock>
                            </StackPanel>

                        </ToggleButton>

                        <ToggleButton x:Name="CmdClose"  Grid.Row="4" MinWidth="50" Background="#000000" Margin="2" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdClose_Click" TabIndex="14" >
                            <StackPanel Orientation="Horizontal" >
                                <Common:XamlCross Width="10" Height="10" Margin="0,0,5,0"/>
                                <TextBlock Text="Close" TextWrapping="Wrap"/>
                            </StackPanel>
                        </ToggleButton>
                    </StackPanel>
                </StackPanel>
            </Border>
        </controlsToolkit:DockPanel>
    </Grid>
    
    
</controls:ChildWindow>