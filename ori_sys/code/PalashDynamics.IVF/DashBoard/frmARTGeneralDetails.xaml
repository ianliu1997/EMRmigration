<controls:ChildWindow x:Class="PalashDynamics.IVF.DashBoard.frmARTGeneralDetails"
   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:grb="clr-namespace:Groupbox;assembly=Groupbox"             
    xmlns:controlsToolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"
    xmlns:data="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"       
    xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"  
    xmlns:dataInput="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input"
    xmlns:input="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
    xmlns:inputToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input.Toolkit"  
                     
    xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"               
    xmlns:Converter="clr-namespace:PalashDynamics.IVF;assembly=PalashDynamics.IVF"
                      xmlns:Wrap="clr-namespace:Microsoft.Windows;assembly=System.Windows.Controls.Toolkit"
    Title="ART Cycle :" Width="1000" Height="320" Loaded="ChildWindow_Loaded">

    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <local:DateTimeConverter x:Key="DateConverter" />
            <local:DateTimeToAgePart x:Key="DateTimeToAgePart"></local:DateTimeToAgePart>
            <Converter:ToggleBooleanValueConverter x:Key="NegateValueConverter"/>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>
    <Grid x:Name="LayoutRoot" Background="White">
     
            <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom" >
            <ScrollViewer VerticalScrollBarVisibility="Visible">
                <controls:TabControl Grid.Row="0" Padding="0"  x:Name="tabControl2" Margin="4,-4,4,4" SelectionChanged="tabControl1_SelectionChanged" >
                    <controls:TabItem  x:Name="GeneralDetail" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Management">
                        <controlsToolkit:DockPanel LastChildFill="True">
                            <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Bottom">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >
                                    <ToggleButton  x:Name="cmdSaveGeneral"  Content="Save" Background="#000000" Margin="4"  Style="{StaticResource ToggleButtonStyle}" Click="cmdSaveGeneral_Click" ></ToggleButton>
                                    <ToggleButton x:Name="cmdGenerateCancel"  Content="Cancel" Background="#000000" Margin="4" HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Click="cmdGenerateCancel_Click"></ToggleButton>

                                </StackPanel>
                            </controlsToolkit:DockPanel>
                            <controlsToolkit:DockPanel ScrollViewer.HorizontalScrollBarVisibility="Visible" ScrollViewer.VerticalScrollBarVisibility="Auto" >

                                <Grid >
                                    <Grid x:Name="grdBackPanel">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition  Width="1*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Column="0" Grid.Row="0" Text="Cycle Code" Margin="4"></TextBlock>
                                        <TextBox  IsReadOnly="True" VerticalAlignment="Center" Text="{Binding Cyclecode,Mode=TwoWay}" x:Name="txtCycleCode"  Grid.Column="1" Grid.Row="0"  Margin="4"></TextBox>

                                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Column="2" Grid.Row="0" Text="LMP Date" Margin="4"></TextBlock>
                                        <controls:DatePicker x:Name="dtpLMPdate"  SelectedDate="{Binding TherapyStartDate,Mode=TwoWay}"  VerticalAlignment="Center" Grid.Column="3" Grid.Row="0" Margin="4"  ></controls:DatePicker>

                                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Column="0" Grid.Row="1" Text="Cycle Duration" Margin="4" Visibility="Collapsed"></TextBlock>
                                        <TextBox x:Name="txtCycleDuraton" VerticalAlignment="Center" Text="{Binding CycleDuration,Mode=TwoWay}" Grid.Column="1" Grid.Row="1"  Margin="4" Visibility="Collapsed"></TextBox>

                                        <TextBlock Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Planned Treatment" Margin="4"></TextBlock>
                                        <input:AutoCompleteComboBox x:Name="cmbPlannedTreatment" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="1" Grid.Row="1" VerticalAlignment="Center" Text="" Margin="4" SelectionChanged="cmbPlannedTreatment_SelectionChanged" IsEnabled="False"/>

                                        <TextBlock Grid.Column="0" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Right" Text="OPU Date"  Margin="4" Visibility="Collapsed"></TextBlock>
                                        <controls:DatePicker  x:Name="dtOPUDate" SelectedDate="{Binding OPUtDate,Mode=TwoWay}" Grid.Row="2" VerticalAlignment="Center" Grid.Column="1" Margin="4" HorizontalAlignment="Stretch" Visibility="Collapsed" ></controls:DatePicker>

                                        <TextBlock Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Main Indication"  Margin="4"></TextBlock>
                                        <Grid Grid.Column="3" Grid.Row="1">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition />
                                                <ColumnDefinition/>                                                
                                            </Grid.ColumnDefinitions>
                                            <input:AutoCompleteComboBox x:Name="cmbMainIndication" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" Text="" Margin="4" SelectionChanged="cmbMainIndication_SelectionChanged"/>

                                            <input:AutoCompleteComboBox x:Name="cmbSubMainIndication" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="1" Grid.Row="0" VerticalAlignment="Center" Text="" Margin="4" IsEnabled="False"/>


                                        </Grid>
                                        
                                        <!--<input:AutoCompleteComboBox x:Name="cmbMainIndication" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="3" Grid.Row="1" VerticalAlignment="Center" Text="" Margin="4"/>

                                        <input:AutoCompleteComboBox x:Name="cmbSubMainIndication" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="3" Grid.Row="1" VerticalAlignment="Center" Text="" Margin="4"/>-->


                                        <TextBlock Grid.Column="0" Grid.Row="3" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Protocol"  Margin="4"></TextBlock>
                                        <input:AutoCompleteComboBox x:Name="cmbProtocol" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="1" Grid.Row="3" VerticalAlignment="Center" Text="" Margin="4" SelectionChanged="cmbProtocol_SelectionChanged"/>

                                        <TextBlock Grid.Column="2" Grid.Row="3" VerticalAlignment="Center" HorizontalAlignment="Right" Text="External Stimulation"  Margin="4"></TextBlock>
                                        <input:AutoCompleteComboBox x:Name="cmbSimulation" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Column="3" Grid.Row="3" VerticalAlignment="Center" Text="" Margin="2" SelectionChanged="cmbSimulation_SelectionChanged"/>

                                        <TextBlock Grid.Column="0" Grid.Row="5" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Long Term Medication"  Margin="4" Visibility="Collapsed"></TextBlock>
                                        <TextBox Text="{Binding LongtermMedication,Mode=TwoWay}" Grid.Column="1" Grid.Row="5" VerticalAlignment="Center" Margin="4"  x:Name="txtLongtermMedication" TextAlignment="Left" Visibility="Collapsed"></TextBox>

                                        <TextBlock Grid.Column="2" Grid.Row="5" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Planned No. Of Embryos"  Margin="4" Visibility="Collapsed"></TextBlock>
                                        <TextBox Text="{Binding PlannedEmbryos,Mode=TwoWay}" Grid.Column="3" Grid.Row="5" VerticalAlignment="Center" Margin="4"  Visibility="Collapsed" x:Name="txtPlannedNoOfEmbryos" TextAlignment="Left" TextChanged="txtPlannedNoOfEmbryos_TextChanged" KeyDown="txtPlannedNoOfEmbryos_KeyDown" ></TextBox>

                                        <TextBlock Grid.Column="0" Grid.Row="4" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Source Of Sperms"  Margin="4"></TextBlock>
                                        <input:AutoCompleteComboBox Grid.Column="1" x:Name="cmbSpermSource" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Row="4" VerticalAlignment="Center" Margin="4" SelectionChanged="cmbSpermSource_SelectionChanged"></input:AutoCompleteComboBox>

                                        <TextBlock Grid.Column="2" Grid.Row="4" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Planned Sperm Collection Date"  Margin="4"></TextBlock>
                                        <controls:DatePicker  x:Name="dtSpermCollDate" SelectedDate="{Binding SpermColltDate,Mode=TwoWay}" Grid.Row="4" VerticalAlignment="Center" Grid.Column="3" Margin="4" HorizontalAlignment="Stretch" Visibility="Visible" ></controls:DatePicker>

                                        <TextBlock Grid.Column="0" Grid.Row="5" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Planned Sperm Collection"  Margin="4"></TextBlock>
                                        <input:AutoCompleteComboBox Grid.Column="1" x:Name="cmbSpermCollection" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" Grid.Row="5" VerticalAlignment="Center" Margin="4" SelectionChanged="cmbSpermCollection_SelectionChanged"></input:AutoCompleteComboBox>

                                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Column="0" Grid.Row="6" Text="Notes" Margin="4"></TextBlock>
                                        <TextBox x:Name="txtNotes" Margin="4" Text="{Binding Note,Mode=TwoWay}" Grid.Column="1" Grid.ColumnSpan='3' Grid.Row="6" TextWrapping="Wrap"   VerticalScrollBarVisibility="Visible" KeyDown="txtReason_KeyDown" TabIndex="10"></TextBox>

                                        <TextBlock Grid.Column="2" Grid.Row="5" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Physician" Margin="4" Visibility="Visible"></TextBlock>
                                        <input:AutoCompleteComboBox  Grid.Column="3" Grid.Row="5" VerticalAlignment="Center" x:Name="cmbPhysician" IsTextCompletionEnabled="False"  Margin="2" SelectedValuePath="ID" Visibility="Visible" />
                                        <StackPanel x:Name="SurrogateStackPannel" Margin="0" Grid.Row="6" Grid.Column="2" Grid.ColumnSpan="2" Width="Auto" Orientation="Horizontal" >
                                            <CheckBox VerticalAlignment="Center" Margin="4" Grid.Column="1" x:Name="chkSurrogate" Content="Link Surrogate"  IsChecked="{Binding AttachedSurrogate, Mode=TwoWay}" Click="chkSurrogate_Click" Visibility="Collapsed" ></CheckBox>
                                            <Button x:Name="btnSearchSurrogate" Margin="2" Content="Search Surrogate" Click="btnSearchSurrogate_Click" IsEnabled="False" Visibility="Collapsed"></Button>
                                            <TextBox Text="{Binding SurrogateMRNo,Mode=TwoWay}"  x:Name="txtSurrogateCode" MinWidth="150"  Margin="2" HorizontalAlignment="Stretch" VerticalAlignment="Center" IsEnabled="False" Visibility="Collapsed"/>
                                        </StackPanel>

                                        <TextBlock Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Final Plan of Treatment" Margin="4" Visibility="Collapsed"></TextBlock>
                                        <input:AutoCompleteComboBox  Grid.Column="3" Grid.Row="1" VerticalAlignment="Center" x:Name="cmbFinalPlanofTreatment" IsTextCompletionEnabled="False"  Margin="2" SelectedValuePath="ID" Visibility="Collapsed" />

                                        <grb:GroupBox Margin="4,0,4,0" Header="Pill Details" Grid.Column="0" Grid.Row="8" Grid.ColumnSpan="6" Visibility="Collapsed">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>

                                                </Grid.RowDefinitions>
                                                <TextBlock VerticalAlignment="Center" Grid.Column="0" Grid.Row="0" HorizontalAlignment="Right" Text="Pill" Margin="4"></TextBlock>

                                                <CheckBox VerticalAlignment="Center" Margin="4" Grid.Column="1" x:Name="chkPill"  IsChecked="False" Checked="chkPill_Checked" Unchecked="chkPill_Unchecked" ></CheckBox>

                                                <TextBlock VerticalAlignment="Center" Grid.Row="0" Grid.Column="2" HorizontalAlignment="Right" Text="Start Date" Margin="4" ></TextBlock>
                                                <controls:DatePicker  SelectedDate="{Binding PillStartDate,Mode=TwoWay}" Grid.Row="0" VerticalAlignment="Center" Grid.Column="3" Margin="4"  x:Name="dtStartDate" HorizontalAlignment="Stretch" ></controls:DatePicker>

                                                <TextBlock VerticalAlignment="Center" Grid.Column="4" Grid.Row="0" HorizontalAlignment="Right" Text="End Date" Margin="2"></TextBlock>
                                                <controls:DatePicker   SelectedDate="{Binding PillEndDate,Mode=TwoWay}" Grid.Row="0"  VerticalAlignment="Center" Grid.Column="5" Margin="4"  x:Name="dtEndDate"   HorizontalAlignment="Stretch" ></controls:DatePicker>

                                            </Grid>
                                        </grb:GroupBox>

                                        <grb:GroupBox Margin="4,0,4,0" Header="Set Ovarian Suppression" Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="6" Visibility="Collapsed">
                                            <StackPanel Grid.Column="5" Grid.Row="0" Grid.ColumnSpan="6" Visibility="Visible" Orientation="Horizontal"  >
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition/>
                                                        <!--<ColumnDefinition/>-->
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>

                                                    </Grid.RowDefinitions>


                                                    <TextBlock VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" HorizontalAlignment="Right" Text="Start Date" Margin="4" ></TextBlock>
                                                    <controls:DatePicker  SelectedDate="{Binding StartOvarian,Mode=TwoWay}" Grid.Row="0" VerticalAlignment="Center" Grid.Column="1" Margin="4"  x:Name="dtStartDateOVarian" HorizontalAlignment="Stretch" ></controls:DatePicker>

                                                    <TextBlock VerticalAlignment="Center" Grid.Column="2" Grid.Row="0" HorizontalAlignment="Right" Text="End Date" Margin="2"></TextBlock>
                                                    <controls:DatePicker   SelectedDate="{Binding EndOvarian,Mode=TwoWay}" Grid.Row="0"  VerticalAlignment="Center" Grid.Column="3" Margin="4"  x:Name="dtEndDateOvarian"   HorizontalAlignment="Stretch" ></controls:DatePicker>

                                                    <HyperlinkButton HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="4"  x:Name="PrescriptionOvarian"  Click="PresOvarian_Click" Content="Prescription"  Padding="5,0,5,0" IsEnabled="{Binding PreOvarian ,Converter={StaticResource NegateValueConverter}}">
                                                    </HyperlinkButton>


                                                </Grid>
                                            </StackPanel>
                                        </grb:GroupBox>

                                        <grb:GroupBox Margin="4,0,4,0" Header="Set Stimulation" Grid.Column="0" Grid.Row="8" Grid.ColumnSpan="6" Visibility="Collapsed">
                                            <StackPanel Grid.Column="5" Grid.Row="0" Grid.ColumnSpan="6" Visibility="Visible" Orientation="Horizontal"  >
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition />
                                                        <!--<ColumnDefinition/>-->
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>

                                                    </Grid.RowDefinitions>


                                                    <TextBlock VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" HorizontalAlignment="Right" Text="Start Date" Margin="4" ></TextBlock>
                                                    <controls:DatePicker  SelectedDate="{Binding StartStimulation,Mode=TwoWay}" Grid.Row="0" VerticalAlignment="Center" Grid.Column="1" Margin="4"  x:Name="dtStartDateStimulation" HorizontalAlignment="Stretch" ></controls:DatePicker>

                                                    <TextBlock VerticalAlignment="Center" Grid.Column="2" Grid.Row="0" HorizontalAlignment="Right" Text="End Date" Margin="2"></TextBlock>
                                                    <controls:DatePicker   SelectedDate="{Binding EndStimulation,Mode=TwoWay}" Grid.Row="0"  VerticalAlignment="Center" Grid.Column="3" Margin="4"  x:Name="dtEndDateStimulation"   HorizontalAlignment="Stretch" ></controls:DatePicker>

                                                    <HyperlinkButton HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="4"  x:Name="PrescriptionStimulation"  Click="PresStimulation_Click" Content="Prescription" Padding="5,0,5,0" IsEnabled="{Binding PreStimulation,Converter={StaticResource NegateValueConverter}}">
                                                    </HyperlinkButton>

                                                </Grid>
                                            </StackPanel>
                                        </grb:GroupBox>


                                        <grb:GroupBox Margin="4,0,4,0" Header="Set Trigger" Grid.Column="0" Grid.Row="9" Grid.ColumnSpan="6" Visibility="Collapsed">
                                            <StackPanel Grid.Column="5" Grid.Row="0" Grid.ColumnSpan="6" Visibility="Visible" Orientation="Horizontal"  >
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition/>
                                                        <!--<ColumnDefinition/>-->
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>

                                                    </Grid.RowDefinitions>


                                                    <TextBlock VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" HorizontalAlignment="Right" Text="Trigger Date" Margin="4" ></TextBlock>
                                                    <controls:DatePicker  SelectedDate="{Binding StartTrigger,Mode=TwoWay}" Grid.Row="0" VerticalAlignment="Center" Grid.Column="1" Margin="4"  x:Name="dtStartDateTrigger" HorizontalAlignment="Stretch" ></controls:DatePicker>

                                                    <TextBlock VerticalAlignment="Center" Grid.Column="2" Grid.Row="0" HorizontalAlignment="Right" Text="Trigger Time" Margin="2"></TextBlock>
                                                    <inputToolkit:TimePicker x:Name="txtTrigTime" Value="{Binding TriggerTime, Mode=TwoWay}" Margin="2" Grid.Row="0"  Grid.Column="3" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" TabIndex="2" />

                                                    <HyperlinkButton HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="4"  x:Name="PrescriptionTrigger"  Click="PrescTriggeer_Click" Content="Prescription"  Padding="5,0,5,0" IsEnabled="{Binding PreTrigger,Converter={StaticResource NegateValueConverter}}">
                                                    </HyperlinkButton>

                                                </Grid>
                                            </StackPanel>
                                        </grb:GroupBox>

                                        <grb:GroupBox Margin="4,0,4,0" Header="Add Other Drugs" Grid.Column="0" Grid.Row="10" Grid.ColumnSpan="6" Visibility="Collapsed">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition/>
                                                    <!--<ColumnDefinition/>-->
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>

                                                </Grid.RowDefinitions>




                                            </Grid>
                                        </grb:GroupBox>

                                        <grb:GroupBox Margin="4,0,4,0" Header=" " Grid.Column="0" Grid.Row="12" Grid.ColumnSpan="6" Visibility="Collapsed">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto" />
                                                </Grid.RowDefinitions>

                                                <CheckBox x:Name="chkCycleCancellation" Content="Cycle Cancellation" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="4"  Grid.Row="0" Visibility="Visible"  Grid.Column="0"  IsChecked="{Binding IsCancellation,Mode=TwoWay}"  TabIndex="15" Click="chkIsSetCancellation_Click" ></CheckBox>
                                                <!--IsEnabled="False"-->

                                                <Grid Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <TextBlock Text="Reason" Margin="2" Grid.Row="1" Grid.Column="0"  HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>
                                                        <TextBox x:Name="txtReason" Margin="4" Text="{Binding CancellationReason,Mode=TwoWay}" Grid.Column="1" Grid.Row="1" TextWrapping="Wrap"  KeyDown="txtReason_KeyDown"  VerticalScrollBarVisibility="Visible" HorizontalAlignment="Stretch" TabIndex="10"></TextBox>

                                                    </Grid>
                                                </Grid>




                                            </Grid>
                                        </grb:GroupBox>


                                        <StackPanel Grid.Column="0" Grid.Row="11" Grid.ColumnSpan="6" >
                                            <grb:GroupBox  Header="Patient Diagnosis" Height="210" Grid.Column="0" Grid.Row="11" Grid.ColumnSpan="6" Visibility="Collapsed">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition></ColumnDefinition>
                                                        <!--<ColumnDefinition></ColumnDefinition>-->
                                                        <!--commented added by neena-->
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition></RowDefinition>
                                                    </Grid.RowDefinitions>

                                                    <Grid Grid.Row="0" Grid.Column="0" Margin="0,0,5,0">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="auto"></RowDefinition>
                                                            <RowDefinition></RowDefinition>
                                                            <RowDefinition Height="auto"></RowDefinition>
                                                        </Grid.RowDefinitions>
                                                        <Border Grid.Row="0"  HorizontalAlignment="Stretch" BorderThickness="1" controlsToolkit:DockPanel.Dock="Top" BorderBrush="{StaticResource TabControlDarkerBorder}"   CornerRadius="3,3,0,0" Visibility="Collapsed" >
                                                            <!--collapsed added by neena-->
                                                            <ContentControl VerticalAlignment="Center" x:Name="currentDiagnosis" FontSize="12" Content="Current Diagnosis" Margin="-1,-1,-1,-1" Style="{StaticResource Header}" HorizontalAlignment="Stretch" />
                                                        </Border>
                                                        <data:DataGrid Grid.Row="1" HorizontalAlignment="Stretch"   x:Name="dgDiagnosisList" AutoGenerateColumns="False" ItemsSource="{Binding}" VerticalScrollBarVisibility="Visible" IsReadOnly="True" Margin="0"  TabIndex="2"  CanUserSortColumns="True" Visibility="Collapsed" >
                                                            <!--collapsed added by neena-->
                                                            <data:DataGrid.Columns >
                                                                <data:DataGridTextColumn Binding="{Binding Diagnosis}" Header="Diagnosis" ></data:DataGridTextColumn>
                                                                <data:DataGridTemplateColumn Header="Diagnosis Type"   >
                                                                    <data:DataGridTemplateColumn.CellEditingTemplate>
                                                                        <DataTemplate>
                                                                            <input:AutoCompleteComboBox x:Name="cmbDiagnosis"   SelectedValue="{Binding SelectedDiagnosisType.ID}" SelectedItem="{Binding SelectedDiagnosisType,Mode=TwoWay}" ItemsSource="{Binding DiagnosisTypeList}" Margin="4" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" SelectionChanged="cmbDiagnosis_SelectionChanged">
                                                                            </input:AutoCompleteComboBox>
                                                                        </DataTemplate>
                                                                    </data:DataGridTemplateColumn.CellEditingTemplate>
                                                                </data:DataGridTemplateColumn>
                                                                <data:DataGridTemplateColumn>
                                                                    <data:DataGridTemplateColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <HyperlinkButton VerticalAlignment="Center" FontFamily="Webdings" Content="r"  Padding="5,0,5,0" IsTabStop="False" x:Name="cmdDeleteDiagnosis" ToolTipService.ToolTip="Delete" Click="cmdDeleteDiagnosis_Click" IsEnabled="{Binding IsEnabled,Converter={StaticResource NegateValueConverter}}" ></HyperlinkButton>
                                                                        </DataTemplate>
                                                                    </data:DataGridTemplateColumn.CellTemplate>
                                                                </data:DataGridTemplateColumn>
                                                            </data:DataGrid.Columns>
                                                        </data:DataGrid>
                                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Grid.Row="2" >
                                                            <ToggleButton  x:Name="cmdAddDiagnosis"  Content="Diagnosis" Background="#000000" Margin="4"  Style="{StaticResource ToggleButtonStyle}" Click="cmdAddDiagnosis_Click" Visibility="Collapsed"></ToggleButton>
                                                            <!--collapsed added by neena-->
                                                        </StackPanel>
                                                    </Grid>
                                                    <Grid Grid.Row="0" Grid.Column="0">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="auto"></RowDefinition>
                                                            <RowDefinition></RowDefinition>
                                                            <RowDefinition Height="auto"></RowDefinition>
                                                        </Grid.RowDefinitions>
                                                        <Border Grid.Row="0"  HorizontalAlignment="Stretch" BorderThickness="1" controlsToolkit:DockPanel.Dock="Top" BorderBrush="{StaticResource TabControlDarkerBorder}"    CornerRadius="3,3,0,0" >
                                                            <ContentControl VerticalAlignment="Center" x:Name="PreviousDiagnosis" FontSize="12" Content="Diagnosis" Margin="-1,-1,-1,-1" Style="{StaticResource Header}" HorizontalAlignment="Stretch" />
                                                        </Border>
                                                        <data:DataGrid Grid.Row="1" HorizontalAlignment="Stretch"   x:Name="dgPreviousDiagnosisList" AutoGenerateColumns="False" ItemsSource="{Binding}" VerticalScrollBarVisibility="Visible" IsReadOnly="True" Margin="0"  TabIndex="2"  CanUserSortColumns="True" >
                                                            <data:DataGrid.Columns >
                                                                <data:DataGridTextColumn Binding="{Binding Diagnosis}" Header="Diagnosis" ></data:DataGridTextColumn>
                                                                <data:DataGridTemplateColumn Header="Diagnosis Type" IsReadOnly="True"   >
                                                                    <data:DataGridTemplateColumn.CellEditingTemplate>
                                                                        <DataTemplate>
                                                                            <input:AutoCompleteComboBox x:Name="cmbDiagnosis"   SelectedValue="{Binding SelectedDiagnosisType.ID}" SelectedItem="{Binding SelectedDiagnosisType,Mode=TwoWay}" ItemsSource="{Binding DiagnosisTypeList}" Margin="4" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" SelectionChanged="cmbDiagnosis_SelectionChanged">
                                                                            </input:AutoCompleteComboBox>
                                                                        </DataTemplate>
                                                                    </data:DataGridTemplateColumn.CellEditingTemplate>
                                                                </data:DataGridTemplateColumn>
                                                            </data:DataGrid.Columns>
                                                        </data:DataGrid>

                                                        <Border Grid.Row="2"  BorderBrush="{StaticResource TabControlDarkerBorder}"  Margin="4"  BorderThickness="1" CornerRadius="3,3,3,3" Background="Transparent" >
                                                            <data:DataPager x:Name="pgrPatientpreviousDiagnosis"   NumericButtonCount="10" AutoEllipsis="False" PageSize="{Binding PageSize}" DisplayMode="FirstLastPreviousNext"
                                                        IsEnabled="True" IsTotalItemCountFixed="True"  />
                                                        </Border>
                                                    </Grid>
                                                </Grid>
                                            </grb:GroupBox>
                                        </StackPanel>
                                        <StackPanel Grid.Column="0" Grid.Row="10" Grid.ColumnSpan="6" Visibility="Collapsed" >
                                            <grb:GroupBox Header="Additional Measure">
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition ></RowDefinition>
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition ></ColumnDefinition>
                                                        <ColumnDefinition ></ColumnDefinition>
                                                        <ColumnDefinition ></ColumnDefinition>
                                                        <ColumnDefinition ></ColumnDefinition>
                                                    </Grid.ColumnDefinitions>
                                                    <CheckBox Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" Content="Assisted Hatching" IsChecked="{Binding AssistedHatching ,Mode=TwoWay}"></CheckBox>
                                                    <CheckBox Grid.Column="1" Grid.Row="0" VerticalAlignment="Center" Content="CryoPreservation" IsChecked="{Binding CryoPreservation ,Mode=TwoWay}"></CheckBox>
                                                    <CheckBox Grid.Column="2" Grid.Row="0" VerticalAlignment="Center" Content="IMSI" IsChecked="{Binding IMSI ,Mode=TwoWay}"></CheckBox>

                                                </Grid>
                                            </grb:GroupBox>
                                        </StackPanel>

                                        <TextBlock Grid.Column="0" Grid.Row="12" VerticalAlignment="Center" HorizontalAlignment="Right" Text="Note"  Margin="4" Visibility="Collapsed"></TextBlock>
                                        <TextBox Grid.Column="1" x:Name="txtTherapyNotes"  Grid.Row="12"  Grid.ColumnSpan="3" Grid.RowSpan="2" VerticalScrollBarVisibility="Visible" Text="{Binding TherapyNotes,Mode=TwoWay}" Margin="4" Visibility="Collapsed" ></TextBox>





                                    </Grid>
                                </Grid>
                            </controlsToolkit:DockPanel>
                        </controlsToolkit:DockPanel>
                    </controls:TabItem>

                </controls:TabControl>
            </ScrollViewer>
        </controlsToolkit:DockPanel>
    </Grid>
</controls:ChildWindow>
