<controls:ChildWindow x:Class="PalashDynamics.IVF.DashBoard.FrmPatientSpermDiscard"         
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           xmlns:my="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"
          xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"  
                      xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"  
             xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"
             xmlns:CustomCombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
                       xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters" 
             xmlns:layoutToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Layout.Toolkit"
                      xmlns:inputs="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"     
           Width="1000" Height="auto" 
           Title="Sperm Details" Loaded="ChildWindow_Loaded">
    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <local:DateTimeConverter x:Key="DateConverter" />
        </ResourceDictionary>
    </controls:ChildWindow.Resources>

    <Grid x:Name="Root" Background="White">


        <my:DockPanel LastChildFill="True" Margin="4">            

            <Grid Height="Auto" Width="Auto" my:DockPanel.Dock="Top">
                <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition ></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0"  controlsToolkit:DockPanel.Dock="Top" BorderBrush="{StaticResource TabControlDarkerBorder}" BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                            <ContentControl x:Name="ConTitle" VerticalAlignment="Top" Grid.ColumnSpan="4" FontSize="12" Content="Sperm Details" Margin="-1" Style="{StaticResource Header}" HorizontalAlignment="Stretch"/>
                        </Border>                       
                        <Grid Height="Auto" Width="Auto" Grid.Row="3" my:DockPanel.Dock="Bottom">
                            <StackPanel Grid.Row="3" x:Name="FooterOocyte" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                                <StackPanel Grid.Row="2" Grid.ColumnSpan="2" x:Name="LeftFooter" Orientation="Horizontal" Margin="1" HorizontalAlignment="Right">

                                    <TextBox x:Name="lblExpired" Margin="5,0,5,0" Height="10" Width="10"  HorizontalAlignment="Right" VerticalAlignment="Center" ></TextBox>
                                    <TextBlock x:Name="lblAvailable" Margin="5,0,5,0" Width="Auto" MinHeight="20" Text="Expired" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>

                                    <TextBox x:Name="lblNearingExpired" Margin="5,0,5,0" Height="10" Width="10"   ></TextBox>
                                    <TextBlock x:Name="lblBooked" Margin="5,0,5,0" Width="Auto" MinHeight="20" Text="Nearing Expiry" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>
                                </StackPanel>
                                <StackPanel x:Name="SavePAnelOocyte" Orientation="Horizontal"  Margin="0,0,0,0">
                                    <ToggleButton  x:Name="cmdSaveOocyte"  Grid.Row="4" Content="Save" MinWidth="50"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch"  Style="{StaticResource ToggleButtonStyle}" Click="cmdSaveOocyte_Click" TabIndex="8"/>
                                    <ToggleButton x:Name="CmdClose"  Grid.Row="4" Content="Cancel" MinWidth="50" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdClose_Click" TabIndex="9" />
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                        <controlsToolkit:DockPanel x:Name="tp3" controlsToolkit:DockPanel.Dock="Top" Grid.Row="2">
                            <data:DataPager TabIndex="20" x:Name="SpermsDataPager" controlsToolkit:DockPanel.Dock="Bottom"  DisplayMode="FirstLastPreviousNext"
                                 IsEnabled="True" IsTotalItemCountFixed="True" Source="{Binding }" AutoEllipsis="False" />
                            <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding }" LoadingRow="SpermsDataGrid_LoadingRow"  x:Name="SpermsDataGrid" AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                                <data:DataGrid.Columns>
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Sperm No" Binding="{Binding SpremNo}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Expiry Date" Binding="{Binding ExpiryDate}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Clinic" Binding="{Binding PatientUnitName}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Donor Code" Binding="{Binding DonorCode}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Invoice No." Binding="{Binding InvoiceNo}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Batch Code" Binding="{Binding BatchCode}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Lab" Binding="{Binding Lab}" />
                                    <data:DataGridTemplateColumn IsReadOnly="True" Header="Name" Width="150" SortMemberPath="FirstName">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                                    <TextBlock VerticalAlignment="Center" Text="{Binding FirstName}" Margin="4,0,4,0"></TextBlock>
                                                    <TextBlock VerticalAlignment="Center" Text="{Binding MiddleName}" Margin="0,0,4,0"></TextBlock>
                                                    <TextBlock VerticalAlignment="Center" Text="{Binding LastName}"></TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding TankId}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Canister" Binding="{Binding CanisterId}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding CanID}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding GobletColor}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding StrawId}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShapeId}" Visibility="Collapsed"/>
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSizeId}" Visibility="Collapsed"/>
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Volume" Binding="{Binding Volume}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Total Sperm Count" Binding="{Binding SpermCount}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Motality" Binding="{Binding Motility}" />
                                    <data:DataGridTextColumn IsReadOnly="True" Header="Type" Binding="{Binding Type}" />
                                    <data:DataGridTemplateColumn Header="Discard" >
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <CheckBox VerticalAlignment="Center" IsChecked="{Binding IsDiscard,Mode=TwoWay}" Click="CheckBox_Click" Margin="6" ></CheckBox>
                                                </Grid>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>
                                </data:DataGrid.Columns>
                            </data:DataGrid>
                        </controlsToolkit:DockPanel>



                    </Grid>
                </Border>
            </Grid>
        </my:DockPanel>
    </Grid>

</controls:ChildWindow>