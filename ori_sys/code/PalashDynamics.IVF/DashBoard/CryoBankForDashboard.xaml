<controls:ChildWindow x:Class="PalashDynamics.IVF.DashBoard.CryoBankForDashboard"
          xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"       
            xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
            xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit" 
            xmlns:blacklight="clr-namespace:Blacklight.Silverlight.Controls;assembly=Blacklight.Silverlight.Controls"
            xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"        
           Width="1000" Height="600" Loaded="ChildWindow_Loaded"
             xmlns:my="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"   
                       xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data" 
                       xmlns:liquid="clr-namespace:Liquid;assembly=Liquid"             
        Title="Cryo Bank">

    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>
    <Grid x:Name="Root" Background="White">
        <my:DockPanel x:Name="MainDockPanel">
            <!--<Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition />
            <RowDefinition />
        </Grid.RowDefinitions>-->
            <my:DockPanel Grid.Row="0" LastChildFill="True" Margin="4" my:DockPanel.Dock="Top">
                <Grid Width="Auto"  Margin="0" my:DockPanel.Dock="Top" DataContext="{Binding BizActionObject}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                        <ColumnDefinition  Width="Auto"/>
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <!-- <RowDefinition Height="Auto"/>-->
                        <!--<RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>-->
                    </Grid.RowDefinitions>

                    <TextBlock x:Name="chkPatientName"  VerticalAlignment="Center" Grid.Column="0" Grid.Row="0"  Margin="4" Text="First Name" HorizontalAlignment="Right"></TextBlock>
                    <TextBox TabIndex="0" x:Name="txtFirstName" Text="{Binding FirstName,Mode=TwoWay}"  Grid.Row="0"  Grid.Column="1" Margin="4" LostFocus="txtFirstName_LostFocus" MaxLength="50" />

                    <TextBlock Grid.Column="2" Grid.Row="0"  Margin="4" Text="Middle Name" VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                    <TextBox TabIndex="1" x:Name="txtMiddleName" Text="{Binding MiddleName,Mode=TwoWay}"  Grid.Row="0"  Grid.Column="3" Margin="4" LostFocus="txtMiddleName_LostFocus"  MaxLength="50" />

                    <TextBlock Grid.Column="4" Grid.Row="0"  Margin="4" Text="Last Name" VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                    <TextBox TabIndex="2" x:Name="txtLastName" Text="{Binding LastName,Mode=TwoWay}"  Grid.Row="0"  Grid.Column="5" Margin="4" LostFocus="txtLastName_LostFocus" MaxLength="50" />

                    <TextBlock Grid.Column="0" Grid.Row="1"  Margin="4" Text="Family Name" VerticalAlignment="Center" HorizontalAlignment="Right" Visibility="Collapsed"></TextBlock>
                    <TextBox TabIndex="3" x:Name="txtFamilyName" Text="{Binding FamilyName,Mode=TwoWay}"  Grid.Row="1"  Grid.Column="1" Margin="4"  LostFocus="txtFamilyName_LostFocus" Visibility="Collapsed" MaxLength="50" />

                    <TextBlock Grid.Column="2" Grid.Row="1" x:Name="Donor"  Margin="4" Text="Donor Code" VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                    <TextBox TabIndex="3" x:Name="txtDonorCode" Text="{Binding DonorCode,Mode=TwoWay}"  Grid.Row="1"  Grid.Column="3" Margin="4"   MaxLength="50" />


                    <TextBlock x:Name="chkMrno"  VerticalAlignment="Center" Grid.Column="0" Grid.Row="1"  Margin="4" Text="MR. No." HorizontalAlignment="Right"></TextBlock>
                    <TextBox TabIndex="4" x:Name="txtMrno" Text="{Binding MRNo,Mode=TwoWay}"  Grid.Row="1"   Grid.Column="1"   Margin="4"  MaxLength="30"/>

                    <TextBlock Grid.Column="2" Grid.Row="3" Text="Contact No"  Margin="4" Visibility="Collapsed"  HorizontalAlignment="Right" VerticalAlignment="Center"></TextBlock>
                    <TextBox Grid.Column="3" TabIndex="8" Grid.Row="3" x:Name="txtContactNo" Visibility="Collapsed"  Margin="4" Text="{Binding ContactNo, Mode=TwoWay}" MaxLength="15"></TextBox>

                    <TextBlock Grid.Column="0" Grid.Row="2" Visibility="Collapsed"  Margin="4" Text="Freezing From Date " VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                    <controls:DatePicker TabIndex="10" SelectedDate="{Binding FromDate,Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}" Style="{StaticResource DatePickerStyle}" x:Name="dtpFromDate" Margin="4" Grid.Row="2" Grid.Column="1" Visibility="Collapsed" />
                    <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Text="To Date" Grid.Row="2" Grid.Column="2"  Margin="4" Visibility="Collapsed" />
                    <controls:DatePicker TabIndex="11" SelectedDate="{Binding ToDate,Mode=TwoWay}"  x:Name="dtpToDate" Margin="4" Grid.Row="2" Grid.Column="3" Visibility="Collapsed" />

                    <StackPanel Grid.Row="1" Grid.Column="4" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Grid.ColumnSpan="2" my:DockPanel.Dock="Top" x:Name="SaveCommandPanel" Orientation="Horizontal" Margin="2" Visibility="Collapsed">
                        <RadioButton TabIndex="12" VerticalAlignment="Center" IsChecked="False"  Margin="4" Content="Embryo Bank"  HorizontalAlignment="Right" x:Name="chkEmbryo" Click="chkRadioButton_Click" />
                        <RadioButton TabIndex="12" VerticalAlignment="Center" IsChecked="False"  Margin="4" Content="Sperm Bank"  HorizontalAlignment="Right" x:Name="chkSperm" Click="chkRadioButton_Click" />
                        <RadioButton TabIndex="12" VerticalAlignment="Center" IsChecked="True" Margin="4" Content="Total Cryo Bank "  HorizontalAlignment="Right" x:Name="chkBoth" Click="chkRadioButton_Click" />
                    </StackPanel>

                    <ToggleButton TabIndex="20" x:Name="SearchButton" Grid.Column="6"  Grid.Row="2" HorizontalAlignment="Right"  Content="Search" Background="#000000" Margin="4,4,4,4" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="PatientSearchButton_Click"/>

                    <!--<StackPanel Grid.Row="4" Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Stretch">
                        <ToggleButton x:Name="CmdPrintBarcode"   Content="Print Embryo Barcode"  Background="#000000" Margin="4" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdPrintBarcode_Click"/>
                        <ToggleButton x:Name="CmdPrintSpermBarcode"   Content="Print Sperm Barcode"  Background="#000000" Margin="4" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdPrintSpermBarcode_Click"/>
                    </StackPanel>-->
                    <Grid Width="Auto" Height="Auto" Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="6" my:DockPanel.Dock="Bottom">

                    </Grid>
                </Grid>

            </my:DockPanel>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                </Grid.RowDefinitions>

                <controlsToolkit:DockPanel Margin="4" Grid.Row="0" Grid.RowSpan="2" x:Name="OocyteDockPanelMain" controlsToolkit:DockPanel.Dock="Top">
                    <controls:TabControl Padding="0"  BorderBrush="{StaticResource TabControlDarkerBorder}"  x:Name="CryoBankInfo" Margin="4,-4,4,4" SelectionChanged="CryoBankInfo_SelectionChanged">

                        <controls:TabItem x:Name="Oocytetab" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Oocyte Bank" >
                            <!--<StackPanel controlsToolkit:DockPanel.Dock="Top" Margin="0,4,0,0">
                        <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                            <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Oocyte In Cryo Bank" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                        </Border>
                    </StackPanel>-->
                            <!--<ToggleButton x:Name="CmdPrintBarcodeOocyte"   controlsToolkit:DockPanel.Dock="Bottom"  Content="Print Oocyte Barcode"  Background="#000000" Margin="4" Width="143"  HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Visibility="Collapsed" Click="CmdPrintBarcode_Click"/>-->
                            <controlsToolkit:DockPanel x:Name="tp1" controlsToolkit:DockPanel.Dock="Top">

                                <data:DataPager TabIndex="20"   x:Name="OocyteDataPager" controlsToolkit:DockPanel.Dock="Bottom"                        
                          DisplayMode="FirstLastPreviousNext" IsEnabled="True" IsTotalItemCountFixed="True"
                          Source="{Binding }" AutoEllipsis="False"/>
                                <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding EmbryoList}"  x:Name="OocyteDataGrid"  AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" LoadingRow="OocyteDataGrid_LoadingRow" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                                    <data:DataGrid.Columns>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Oocyte No." Binding="{Binding EmbNumber}"  />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Expiry Date" Binding="{Binding ExpiryDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Name" Width="150" Binding="{Binding PatientName}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding Tank}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Canister" Binding="{Binding Conistor}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding Can}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding ColorCode}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding Straw}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShape}" Visibility="Collapsed"/>                                        
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSize}" Visibility="Visible"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cell Stage" Binding="{Binding CellStage}" Visibility="Collapsed"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Grade" Binding="{Binding Grade}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Transfer Day" Binding="{Binding TransferDay}" />
                                        <data:DataGridTemplateColumn  >
                                            <data:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <HyperlinkButton HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="4"  Click="DonateDiscard_Click" Content="Discard"  Padding="5,0,5,0" ></HyperlinkButton>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Donor MR. No." Binding="{Binding DonorMRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Donar Name" Width="150" Binding="{Binding DonorPatientName}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Type" Binding="{Binding Type}" />
                                        <data:DataGridTemplateColumn  >
                                            <data:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <HyperlinkButton HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="4"  Click="hlOocyteRenewal_Click" Content="Renewal" x:Name="hlRenewal" Padding="5,0,5,0" ></HyperlinkButton>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>



                                    </data:DataGrid.Columns>
                                </data:DataGrid>

                            </controlsToolkit:DockPanel>
                        </controls:TabItem>

                        <controls:TabItem x:Name="Embryotab" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Embryo Bank" >
                            <!--<StackPanel x:Name="A2" controlsToolkit:DockPanel.Dock="Bottom" Margin="0,4,0,0">
                        <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                            <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Embryos In Cryo Bank" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                        </Border>
                    </StackPanel>-->
                            <!--<ToggleButton x:Name="CmdPrintBarcode"   controlsToolkit:DockPanel.Dock="Bottom"  Content="Print Embryo Barcode"  Background="#000000" Margin="4" Width="143"  HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Visibility="Collapsed" Click="CmdPrintBarcode_Click"/>-->

                            <controlsToolkit:DockPanel x:Name="tp2" controlsToolkit:DockPanel.Dock="Top">
                                <data:DataPager TabIndex="20" x:Name="EmbryoDataPager" controlsToolkit:DockPanel.Dock="Bottom"  DisplayMode="FirstLastPreviousNext" IsEnabled="True"
                                                IsTotalItemCountFixed="True" Source="{Binding }" AutoEllipsis="False"/>

                                <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding EmbryoList}"  x:Name="EmbryoDataGrid" LoadingRow="EmbryoDataGrid_LoadingRow" AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                                    <data:DataGrid.Columns>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Emb No." Binding="{Binding EmbNumber}" Visibility="Collapsed"/>
                                        <data:DataGridTemplateColumn  IsReadOnly="True" Header="Emb No" >
                                            <data:DataGridTemplateColumn.CellTemplate  >
                                                <DataTemplate >
                                                    <Canvas Height="40" Width="150">
                                                        <TextBlock Width="50" Text="{Binding EmbNumber,Mode=TwoWay}" Margin="8"></TextBlock>
                                                        <TextBlock Canvas.Left="100" Canvas.Top="1"  FontSize="10"  Foreground="Navy" FontFamily="Verdana" Text="{Binding PGDPGS, Mode=TwoWay}"   FontWeight="Bold"/>
                                                    </Canvas>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Expiry Date" Binding="{Binding ExpiryDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Name" Width="150" Binding="{Binding PatientName}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding Tank}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Canister" Binding="{Binding Conistor}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding Can}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding ColorCode}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding Straw}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShape}" Visibility="Collapsed"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSize}" Visibility="Collapsed"/>                                                                         
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cell Stage" Binding="{Binding CellStage}" Visibility="Collapsed"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Grade" Binding="{Binding Grade}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Plan Day" Binding="{Binding TransferDay}" />

                                        <data:DataGridTemplateColumn  >
                                            <data:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <HyperlinkButton HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="4"  Click="DonateDiscardEmbryo_Click" Content="Discard"  Padding="5,0,5,0" ></HyperlinkButton>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Donor MR. No." Binding="{Binding DonorMRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Donar Name" Width="150" Binding="{Binding DonorPatientName}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Type" Binding="{Binding Type}" />
                                        <data:DataGridTemplateColumn  >
                                            <data:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <HyperlinkButton HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="4"  Click="hlEmbryoRenewal_Click" Content="Renewal" x:Name="hlEmbryoRenewal" Padding="5,0,5,0" ></HyperlinkButton>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>



                                    </data:DataGrid.Columns>
                                </data:DataGrid>

                            </controlsToolkit:DockPanel>
                        </controls:TabItem>

                        <controls:TabItem x:Name="Spermstab" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Sperms Bank" >
                            <!--<StackPanel controlsToolkit:DockPanel.Dock="Top" Margin="0,4,0,0">
                        <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                            <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Sperm Collection in Cryo Bank" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                        </Border>
                    </StackPanel>-->
                            <!--<ToggleButton x:Name="CmdPrintSpermBarcode" controlsToolkit:DockPanel.Dock="Bottom"  Content="Print Sperm Barcode"  Background="#000000" Margin="4" Width="143"  HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Visibility="Collapsed" Click="CmdPrintSpermBarcode_Click"/>-->

                            <controlsToolkit:DockPanel x:Name="tp3" controlsToolkit:DockPanel.Dock="Top">
                                <data:DataPager TabIndex="20" x:Name="SpermsDataPager" controlsToolkit:DockPanel.Dock="Bottom"  DisplayMode="FirstLastPreviousNext"
                                 IsEnabled="True" IsTotalItemCountFixed="True" Source="{Binding }" AutoEllipsis="False" />
                                <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding }" LoadingRow="SpermsDataGrid_LoadingRow"  x:Name="SpermsDataGrid" AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                                    <data:DataGrid.Columns>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Collection No" Binding="{Binding SpremNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Expiry Date" Binding="{Binding ExpiryDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Clinic" Binding="{Binding PatientUnitName}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Donor Code" Binding="{Binding DonorCode}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Invoice No." Binding="{Binding InvoiceNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Batch Code" Binding="{Binding BatchCode}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Lab" Binding="{Binding Lab}" />
                                        <data:DataGridTemplateColumn IsReadOnly="True" Header="Name" Width="150" SortMemberPath="FirstName">
                                            <data:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                                        <TextBlock VerticalAlignment="Center" Text="{Binding FirstName}" Margin="4,0,4,0"></TextBlock>
                                                        <TextBlock VerticalAlignment="Center" Text="{Binding MiddleName}" Margin="0,0,4,0"></TextBlock>
                                                        <TextBlock VerticalAlignment="Center" Text="{Binding LastName}"></TextBlock>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding TankId}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Canister" Binding="{Binding CanisterId}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding CanID}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding GobletColor}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding StrawId}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShapeId}" Visibility="Collapsed"/>                                       
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSizeId}" Visibility="Collapsed"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Volume" Binding="{Binding Volume}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Total Sperm Count" Binding="{Binding SpermCount}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Motility" Binding="{Binding Motility}" />
                                        <data:DataGridTemplateColumn  >
                                            <data:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <HyperlinkButton HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="4"  Click="DiscardSperm_Click" Content="Discard"  Padding="5,0,5,0" ></HyperlinkButton>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Type" Binding="{Binding Type}" />
                                        <data:DataGridTemplateColumn  >
                                            <data:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <HyperlinkButton HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="4"  Click="hlSpermRenewal_Click" Content="Renewal" x:Name="hlSpermRenewal" Padding="5,0,5,0" ></HyperlinkButton>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>
                                    </data:DataGrid.Columns>
                                </data:DataGrid>
                            </controlsToolkit:DockPanel>
                        </controls:TabItem>
                    </controls:TabControl>
                </controlsToolkit:DockPanel>

                <!--<my:DockPanel Margin="4" Grid.Row="0" x:Name="EmbryoDockPanel" my:DockPanel.Dock="Top">

                    <StackPanel my:DockPanel.Dock="Top" Margin="0,4,0,0">
                        <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                            <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Embryos In Cryo Bank" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                        </Border>
                    </StackPanel>
                    <ToggleButton x:Name="CmdPrintBarcode"   my:DockPanel.Dock="Bottom"  Content="Print Embryo Barcode"  Background="#000000" Margin="4" Width="143"  HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Visibility="Collapsed" Click="CmdPrintBarcode_Click"/>

                    <data:DataPager TabIndex="20" x:Name="EmbryoDataPager" my:DockPanel.Dock="Bottom"                        
                        DisplayMode="FirstLastPreviousNext" IsEnabled="True" IsTotalItemCountFixed="True"
                        Source="{Binding }" AutoEllipsis="False"/>

                    <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding EmbryoList}"  x:Name="EmbryoDataGrid"  AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                        <data:DataGrid.Columns>
                            <data:DataGridTextColumn IsReadOnly="True" Header="Oocyte No." Binding="{Binding EmbNumber}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Name" Width="150" Binding="{Binding PatientName}"/>
                            <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding Tank}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding Can}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Canister No." Binding="{Binding Conistor}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding Straw}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShape}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding ColorCode}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSize}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Cell Stage" Binding="{Binding CellStage}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Grade" Binding="{Binding Grade}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Transfer Day" Binding="{Binding TransferDay}" />

                        </data:DataGrid.Columns>
                    </data:DataGrid>
                </my:DockPanel>
                <my:DockPanel Margin="4" Grid.Row="1" x:Name="SpermsDockPanel" my:DockPanel.Dock="Bottom">
                    <StackPanel my:DockPanel.Dock="Top" Margin="0,4,0,0">
                        <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                            <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Sperm Collection in Cryo Bank" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                        </Border>
                    </StackPanel>

                    <ToggleButton x:Name="CmdPrintSpermBarcode" my:DockPanel.Dock="Bottom"  Content="Print Sperm Barcode"  Background="#000000" Margin="4" Width="143"  HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Visibility="Collapsed" Click="CmdPrintSpermBarcode_Click"/>

                    <data:DataPager
                         TabIndex="20" x:Name="SpermsDataPager" my:DockPanel.Dock="Bottom"                        
                        DisplayMode="FirstLastPreviousNext" IsEnabled="True" IsTotalItemCountFixed="True"
                        Source="{Binding }" AutoEllipsis="False"
                     />

                    <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding }"  x:Name="SpermsDataGrid" AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                        <data:DataGrid.Columns>
                            <data:DataGridTextColumn IsReadOnly="True" Header="Sperm No" Binding="{Binding SpremNo}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Clinic" Binding="{Binding PatientUnitName}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Donor Code" Binding="{Binding DonorCode}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Invoice No." Binding="{Binding InvoiceNo}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Batch Code" Binding="{Binding BatchCode}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Lab" Binding="{Binding Lab}" />
                            <data:DataGridTemplateColumn IsReadOnly="True" Header="Name" Width="150" SortMemberPath="FirstName">
                                <data:DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                            <TextBlock VerticalAlignment="Center" Text="{Binding FirstName}" Margin="4,0,4,0"></TextBlock>
                                            <TextBlock VerticalAlignment="Center" Text="{Binding MiddleName}" Margin="0,0,4,0"></TextBlock>
                                            <TextBlock VerticalAlignment="Center" Text="{Binding LastName}"></TextBlock>
                                        </StackPanel>
                                    </DataTemplate>
                                </data:DataGridTemplateColumn.CellTemplate>
                            </data:DataGridTemplateColumn>
                            <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding TankId}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding CanID}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Canister No." Binding="{Binding CanisterId}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding StrawId}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShapeId}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding GobletColor}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSizeId}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Volume" Binding="{Binding Volume}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Total Sperm Count" Binding="{Binding SpermCount}" />
                            <data:DataGridTextColumn IsReadOnly="True" Header="Motality" Binding="{Binding Motility}" />
                        </data:DataGrid.Columns>
                    </data:DataGrid>
                </my:DockPanel>-->
                
                
                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="4">
                    <StackPanel Grid.Row="2" Grid.ColumnSpan="2" x:Name="LeftFooter" Orientation="Horizontal" Margin="1" HorizontalAlignment="Right">                       
                     
                        <TextBox x:Name="lblExpired" Margin="5,0,5,0" Height="10" Width="10"  HorizontalAlignment="Right" VerticalAlignment="Center" ></TextBox>
                        <TextBlock x:Name="lblAvailable" Margin="5,0,5,0" Width="Auto" MinHeight="20" Text="Expired" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>                        
                       
                        <TextBox x:Name="lblNearingExpired" Margin="5,0,5,0" Height="10" Width="10"   ></TextBox>
                        <TextBlock x:Name="lblBooked" Margin="5,0,5,0" Width="Auto" MinHeight="20" Text="Nearing Expiry" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>
                    </StackPanel>
                    <!--<ToggleButton  x:Name="PrintButton" HorizontalAlignment="Right"    Content="Print" Background="#000000" Margin="4,4,4,4" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="PrintButton_Click"/>-->
                    <ToggleButton  x:Name="CloseButton" HorizontalAlignment="Right"    Content="Close" Background="#000000" Margin="4,4,4,4" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CancelButton_Click"/>
                </StackPanel>
            </Grid>
        </my:DockPanel>
    </Grid>
</controls:ChildWindow>