<controls:ChildWindow x:Class="PalashDynamics.IVF.DashBoard.frmEmbryoBankNew"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"       
            xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
            xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit" 
            xmlns:blacklight="clr-namespace:Blacklight.Silverlight.Controls;assembly=Blacklight.Silverlight.Controls"
            xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"        
           Width="1000" Height="600" Loaded="ChildWindow_Loaded"
             xmlns:my="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"   
                       xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data" 
                       xmlns:liquid="clr-namespace:Liquid;assembly=Liquid"             
        Title="Cryo Bank">

    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>
    <Grid x:Name="Root" Background="White">
        <my:DockPanel x:Name="MainDockPanel">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                </Grid.RowDefinitions>

                <controlsToolkit:DockPanel Margin="4" Grid.Row="0" Grid.RowSpan="2" x:Name="OocyteDockPanelMain" controlsToolkit:DockPanel.Dock="Top">
                    <controls:TabControl Padding="0"  BorderBrush="{StaticResource TabControlDarkerBorder}"  x:Name="CryoBankInfo" Margin="4,-4,4,4" SelectionChanged="CryoBankInfo_SelectionChanged">

                        <controls:TabItem x:Name="Oocytetab" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Oocyte Bank" >
                            <controlsToolkit:DockPanel x:Name="tp1" controlsToolkit:DockPanel.Dock="Top">

                                <data:DataPager TabIndex="20"   x:Name="OocyteDataPager" controlsToolkit:DockPanel.Dock="Bottom"                        
                          DisplayMode="FirstLastPreviousNext" IsEnabled="True" IsTotalItemCountFixed="True"
                          Source="{Binding }" AutoEllipsis="False"/>
                                <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding EmbryoList}"  LoadingRow="OocyteDataGrid_LoadingRow" x:Name="OocyteDataGrid"  AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                                    <data:DataGrid.Columns>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Oocyte No." Binding="{Binding EmbNumber}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Expiry Date" Binding="{Binding ExpiryDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Name" Width="150" Binding="{Binding PatientName}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding Tank}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Canister No." Binding="{Binding Conistor}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding Can}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding ColorCode}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding Straw}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShape}" Visibility="Collapsed"/>                                        
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSize}" Visibility="Collapsed"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cell Stage" Binding="{Binding CellStage}" Visibility="Collapsed"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Grade" Binding="{Binding Grade}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Transfer Day" Binding="{Binding TransferDay}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Donor MR. No." Binding="{Binding DonorMRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Donar Name" Width="150" Binding="{Binding DonorPatientName}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Type" Binding="{Binding Type}" />
                                    </data:DataGrid.Columns>
                                </data:DataGrid>

                            </controlsToolkit:DockPanel>
                        </controls:TabItem>

                        <controls:TabItem x:Name="Embryotab" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Embryo Bank" >
                            <controlsToolkit:DockPanel x:Name="tp2" controlsToolkit:DockPanel.Dock="Top">
                                <data:DataPager TabIndex="20" x:Name="EmbryoDataPager" controlsToolkit:DockPanel.Dock="Bottom"  DisplayMode="FirstLastPreviousNext" IsEnabled="True"
                                                IsTotalItemCountFixed="True" Source="{Binding }" AutoEllipsis="False"/>

                                <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding EmbryoList}" LoadingRow="EmbryoDataGrid_LoadingRow"  x:Name="EmbryoDataGrid"  AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                                    <data:DataGrid.Columns>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Emb No." Binding="{Binding EmbNumber}" Visibility="Collapsed"/>
                                        <data:DataGridTemplateColumn  IsReadOnly="True" Header="Emb No" >
                                            <data:DataGridTemplateColumn.CellTemplate  >
                                                <DataTemplate >
                                                    <Canvas Height="40" Width="150">
                                                        <TextBlock Width="50" Text="{Binding EmbNumber,Mode=TwoWay}" Margin="8"></TextBlock>
                                                        <TextBlock Canvas.Left="100" Canvas.Top="1"  FontSize="10"  Foreground="Navy" FontFamily="Verdana" Text="{Binding PGDPGS, Mode=TwoWay}"   FontWeight="Bold"/>
                                                    </Canvas>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Expiry Date" Binding="{Binding ExpiryDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Name" Width="150" Binding="{Binding PatientName}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding Tank}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Canister No." Binding="{Binding Conistor}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding Can}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding ColorCode}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding Straw}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShape}" Visibility="Collapsed"/>                                        
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSize}" Visibility="Collapsed"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Cell Stage" Binding="{Binding CellStage}" Visibility="Collapsed"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Grade" Binding="{Binding Grade}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Plan Day" Binding="{Binding TransferDay}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Donor MR. No." Binding="{Binding DonorMRNo}" />
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Donar Name" Width="150" Binding="{Binding DonorPatientName}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Type" Binding="{Binding Type}" />
                                    </data:DataGrid.Columns>
                                </data:DataGrid>

                            </controlsToolkit:DockPanel>
                        </controls:TabItem>

                    </controls:TabControl>
                </controlsToolkit:DockPanel>

                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="4">
                    <StackPanel Grid.Row="2" Grid.ColumnSpan="2" x:Name="LeftFooter" Orientation="Horizontal" Margin="1" HorizontalAlignment="Right">

                        <TextBox x:Name="lblExpired" Margin="5,0,5,0" Height="10" Width="10"  HorizontalAlignment="Right" VerticalAlignment="Center" ></TextBox>
                        <TextBlock x:Name="lblAvailable" Margin="5,0,5,0" Width="Auto" MinHeight="20" Text="Expired" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>

                        <TextBox x:Name="lblNearingExpired" Margin="5,0,5,0" Height="10" Width="10"   ></TextBox>
                        <TextBlock x:Name="lblBooked" Margin="5,0,5,0" Width="Auto" MinHeight="20" Text="Nearing Expiry" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>
                    </StackPanel>
                    <!--<ToggleButton  x:Name="PrintButton" HorizontalAlignment="Right"    Content="Print" Background="#000000" Margin="4,4,4,4" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="PrintButton_Click"/>-->
                    <ToggleButton x:Name="CmdPrintBarcodeOocyte"   my:DockPanel.Dock="Bottom"  Content="Print Oocyte Barcode"  Background="#000000" Margin="4" Width="143"  HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdPrintBarcodeOocyte_Click"/>

                    <ToggleButton x:Name="CmdPrintBarcode"   my:DockPanel.Dock="Bottom"  Content="Print Embryo Barcode"  Background="#000000" Margin="4" Width="143"  HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Visibility="Collapsed" Click="CmdPrintBarcode_Click"/>

                    <ToggleButton  x:Name="CloseButton" HorizontalAlignment="Right"    Content="Close" Background="#000000" Margin="4,4,4,4" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CancelButton_Click"/>
                </StackPanel>
            </Grid>
        </my:DockPanel>
    </Grid>
</controls:ChildWindow>