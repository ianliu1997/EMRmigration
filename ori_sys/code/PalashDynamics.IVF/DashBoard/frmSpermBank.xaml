<controls:ChildWindow x:Class="PalashDynamics.IVF.DashBoard.frmSpermBank"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
          Width="1000" Height="600" 
           Title="Embryo Bank" Loaded="ChildWindow_Loaded"
                      xmlns:my="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"   
                       xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data" >
    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>
    <Grid x:Name="LayoutRoot" Margin="2" Background="White">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <my:DockPanel Margin="4" Grid.Row="0" x:Name="SpermsDockPanel" my:DockPanel.Dock="Bottom">
            <StackPanel my:DockPanel.Dock="Top" Margin="0,4,0,0">
                <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                    <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Sperm Collection in Cryo Bank" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                </Border>
            </StackPanel>

           
            <data:DataPager TabIndex="20" x:Name="SpermsDataPager" my:DockPanel.Dock="Bottom"
                        Grid.Row="1"
                        PageSize="{Binding PageSize}"
                        DisplayMode="FirstLastPreviousNext"
                        IsEnabled="True"
                        IsTotalItemCountFixed="True"
                        Source="{Binding DataList}"  />

            <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding DataList}" LoadingRow="SpermsDataGrid_LoadingRow"  x:Name="SpermsDataGrid" AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
                <data:DataGrid.Columns>
                    <data:DataGridTextColumn IsReadOnly="True" Header="Sperm No" Binding="{Binding SpremNo}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Expiry Date" Binding="{Binding ExpiryDate}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Date" Binding="{Binding VitrificationDate}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Clinic" Binding="{Binding PatientUnitName}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="MR. No." Binding="{Binding MRNo}" />
                    <data:DataGridTemplateColumn IsReadOnly="True" Header="Name" Width="150" SortMemberPath="FirstName">
                        <data:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <TextBlock VerticalAlignment="Center" Text="{Binding FirstName}" Margin="4,0,4,0"></TextBlock>
                                    <TextBlock VerticalAlignment="Center" Text="{Binding MiddleName}" Margin="0,0,4,0"></TextBlock>
                                    <TextBlock VerticalAlignment="Center" Text="{Binding LastName}"></TextBlock>
                                </StackPanel>
                            </DataTemplate>
                        </data:DataGridTemplateColumn.CellTemplate>
                    </data:DataGridTemplateColumn>
                    <data:DataGridTextColumn IsReadOnly="True" Header="Tank" Binding="{Binding TankId}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Canister No." Binding="{Binding CanisterId}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Cane" Binding="{Binding CanID}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Color" Binding="{Binding GobletColor}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Straw" Binding="{Binding StrawId}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Shape" Binding="{Binding GobletShapeId}" Visibility="Collapsed"/>                  
                    <data:DataGridTextColumn IsReadOnly="True" Header="Goblet Size" Binding="{Binding GobletSizeId}" Visibility="Collapsed"/>
                    <data:DataGridTextColumn IsReadOnly="True" Header="Volume" Binding="{Binding Volume}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Total Sperm Count" Binding="{Binding SpermCount}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Motality" Binding="{Binding Motility}" />
                    <data:DataGridTextColumn IsReadOnly="True" Header="Type" Binding="{Binding Type}" />
                </data:DataGrid.Columns>
            </data:DataGrid>
        </my:DockPanel>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="4">
            <StackPanel Grid.Row="2" Grid.ColumnSpan="2" x:Name="LeftFooter" Orientation="Horizontal" Margin="1" HorizontalAlignment="Right">

                <TextBox x:Name="lblExpired" Margin="5,0,5,0" Height="10" Width="10"  HorizontalAlignment="Right" VerticalAlignment="Center" ></TextBox>
                <TextBlock x:Name="lblAvailable" Margin="5,0,5,0" Width="Auto" MinHeight="20" Text="Expired" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>

                <TextBox x:Name="lblNearingExpired" Margin="5,0,5,0" Height="10" Width="10"   ></TextBox>
                <TextBlock x:Name="lblBooked" Margin="5,0,5,0" Width="Auto" MinHeight="20" Text="Nearing Expiry" HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>
            </StackPanel>
            <ToggleButton x:Name="CmdPrintSpermBarcode" my:DockPanel.Dock="Bottom"  Content="Print Sperm Barcode"  Background="#000000" Margin="4" Width="143"  HorizontalAlignment="Right" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdPrintSpermBarcode_Click"/>
            <ToggleButton  x:Name="CloseButton" HorizontalAlignment="Right" Grid.Row="1"   Content="Close" Background="#000000" Margin="4,4,4,4" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CancelButton_Click"/>
        </StackPanel>
         </Grid>
</controls:ChildWindow>