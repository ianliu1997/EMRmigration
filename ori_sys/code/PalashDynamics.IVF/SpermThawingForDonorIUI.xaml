<controls:ChildWindow x:Class="PalashDynamics.IVF.SpermThawingForDonorIUI"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           xmlns:my="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"
    
                      xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"  
             xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"
             xmlns:CustomCombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
                       xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters" 
             xmlns:layoutToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Layout.Toolkit"
                      xmlns:inputs="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"  
                       xmlns:inputToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input.Toolkit"
                       xmlns:input="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
           Width="1000" Height="600" 
           Title="Couple Search" Loaded="ChildWindow_Loaded">
    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <local:DateTimeConverter x:Key="DateConverter" />
        </ResourceDictionary>
    </controls:ChildWindow.Resources>
    <!--xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"-->

    <Grid x:Name="Root" Background="White">


        <my:DockPanel LastChildFill="True" Margin="4">
            <Grid Height="Auto" Width="Auto" my:DockPanel.Dock="top">
                <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition ></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid Height="Auto" Width="Auto" Grid.Row="2">
                            <StackPanel Grid.Row="3" x:Name="Footer" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                                <StackPanel x:Name="SavePAnel" Orientation="Horizontal"  Margin="0,0,0,0">

                                    <ToggleButton  x:Name="cmdOK"  Grid.Row="4" Content="OK" MinWidth="50"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch"  Style="{StaticResource ToggleButtonStyle}" Click="cmdOK_Click" TabIndex="8"/>
                                    <!--<ToggleButton x:Name="CmdClose"  Grid.Row="4" Content="Cancel" MinWidth="50" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdClose_Click" TabIndex="9" />-->
                                </StackPanel>
                            </StackPanel>
                        </Grid>

                        <Grid Width="Auto"  Margin="0" Grid.Row="0" DataContext="{Binding BizActionObject}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition />
                                <ColumnDefinition  Width="Auto"/>
                                <ColumnDefinition />
                                <ColumnDefinition  Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <TextBlock x:Name="chkPatientName"  VerticalAlignment="Center" Grid.Column="0" Grid.Row="1"  Margin="4" Text="First Name" HorizontalAlignment="Right"></TextBlock>
                            <TextBox TabIndex="0" x:Name="txtFirstName" Text="{Binding FirstName,Mode=TwoWay}"  Grid.Row="1"  Grid.Column="1" Margin="4" LostFocus="txtFirstName_LostFocus" MaxLength="50" KeyDown="txtFirstName_KeyDown" />

                            <TextBlock Grid.Column="2" Grid.Row="1"  Margin="4" Text="Middle Name" VerticalAlignment="Center" HorizontalAlignment="Right" Visibility="Collapsed"></TextBlock>
                            <TextBox TabIndex="1" x:Name="txtMiddleName" Text="{Binding MiddleName,Mode=TwoWay}"  Grid.Row="1"  Grid.Column="3" Margin="4" LostFocus="txtMiddleName_LostFocus"  MaxLength="50"  KeyDown="txtFirstName_KeyDown" Visibility="Collapsed"/>

                            <TextBlock Grid.Column="2" Grid.Row="1"  Margin="4" Text="Surname" VerticalAlignment="Center" HorizontalAlignment="Right"></TextBlock>
                            <TextBox TabIndex="2" x:Name="txtLastName" Text="{Binding LastName,Mode=TwoWay}"  Grid.Row="1"  Grid.Column="3" Margin="4" LostFocus="txtLastName_LostFocus" MaxLength="50"  KeyDown="txtFirstName_KeyDown"/>

                            <TextBlock Grid.Column="0" Grid.Row="2"  Margin="4" Text="Family Name" VerticalAlignment="Center" HorizontalAlignment="Right" Visibility="Collapsed"></TextBlock>
                            <TextBox TabIndex="3" x:Name="txtFamilyName" Text="{Binding FamilyName,Mode=TwoWay}"  Grid.Row="2"  Grid.Column="1" Margin="4"  LostFocus="txtFamilyName_LostFocus" MaxLength="50"  KeyDown="txtFirstName_KeyDown" Visibility="Collapsed"/>

                            <TextBlock x:Name="chkMrno"  VerticalAlignment="Center" Grid.Column="4" Grid.Row="1"  Margin="4" Text="MR. No." HorizontalAlignment="Right"></TextBlock>
                            <TextBox TabIndex="4" x:Name="txtMrno" Text="{Binding MRNo,Mode=TwoWay}"  Grid.Row="1"   Grid.Column="5"   Margin="4"  MaxLength="30" KeyDown="txtFirstName_KeyDown" />

                            <TextBlock VerticalAlignment="Center" Grid.Column="4" Grid.Row="2"  Margin="4" Text="OPD No." HorizontalAlignment="Right" Visibility="Collapsed"></TextBlock>
                            <TextBox TabIndex="5" x:Name="txtOPDNo" Text="{Binding OPDNo,Mode=TwoWay}"  Grid.Row="2"   Grid.Column="5"   Margin="4" MaxLength="30"  KeyDown="txtFirstName_KeyDown" Visibility="Collapsed"/>



                            <TextBlock Grid.Column="2" Grid.Row="3" Text="Contact No"  Margin="4" HorizontalAlignment="Right" VerticalAlignment="Center" Visibility="Collapsed"></TextBlock>
                            <TextBox Grid.Column="3" TabIndex="8" Grid.Row="3" x:Name="txtContactNo"  Margin="4" Text="{Binding ContactNo, Mode=TwoWay}" MaxLength="50"  KeyDown="txtFirstName_KeyDown" Visibility="Collapsed"></TextBox>

                            <TextBlock Text="Universal ID"  Grid.Row="3" Grid.Column="4"  Margin="4" HorizontalAlignment="Right" VerticalAlignment="Center" Visibility="Collapsed"></TextBlock>
                            <TextBox Grid.Column="5" TabIndex="9" Grid.Row="3" x:Name="txtCivilID"  Margin="4" Text="{Binding CivilID, Mode=TwoWay}"  MaxLength="50"  KeyDown="txtFirstName_KeyDown" Visibility="Collapsed"></TextBox>


                            <StackPanel Grid.Row="1" Grid.Column="6" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.ColumnSpan="6"  my:DockPanel.Dock="Top" x:Name="SaveCommandPanel" Orientation="Horizontal"  Margin="2"  >
                                <ToggleButton TabIndex="20" x:Name="SearchButton"   Content="Search" MinWidth="45"  Background="#000000" Margin="2,0,0,0" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="PatientSearchButton_Click" Width="70" HorizontalAlignment="Right" />
                            </StackPanel>
                        </Grid >

                        <Grid Height="200" Width="Auto" Grid.Row="1">
                            <my:DockPanel LastChildFill="True">
                                <data:DataPager TabIndex="20" x:Name="DataPager" my:DockPanel.Dock="Bottom" Grid.Row="1" PageSize="{Binding PageSize}" DisplayMode="FirstLastPreviousNext" IsEnabled="True" IsTotalItemCountFixed="True" Source="{Binding DataList}"  />
                                <data:DataGrid Height="Auto" Width="Auto" Grid.Row="0" ItemsSource="{Binding DataList}"  x:Name="dataGrid2"  AutoGenerateColumns="False" SelectionChanged="dataGrid2_SelectionChanged">
                                    <data:DataGrid.Columns>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="MR No." Binding="{Binding MRNo}" />
                                        <data:DataGridTemplateColumn IsReadOnly="True" Header="Patient Name" Width="150" SortMemberPath="FirstName">
                                            <data:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                                        <TextBlock VerticalAlignment="Center" Text="{Binding FirstName}" Margin="4,0,4,0"></TextBlock>
                                                        <TextBlock VerticalAlignment="Center" Text="{Binding MiddleName}" Margin="0,0,4,0"></TextBlock>
                                                        <TextBlock VerticalAlignment="Center" Text="{Binding LastName}"></TextBlock>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </data:DataGridTemplateColumn.CellTemplate>
                                        </data:DataGridTemplateColumn>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="DOB" Width="100"  Binding="{Binding DateOfBirth,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Registration Date" Binding="{Binding RegistrationDate,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}"/>
                                        <!--<data:DataGridTextColumn IsReadOnly="True" Header="Address" Width="170" Binding="{Binding Address}"/>-->
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Mobile No." Width="100" Binding="{Binding ContactNO1}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Gender" Width="100" Binding="{Binding Gender}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Marital Status" Width="100" Binding="{Binding MaritalStatus}"/>
                                        <data:DataGridTextColumn IsReadOnly="True" Header="Universal ID" Width="100" Binding="{Binding UniversalID}"/>


                                    </data:DataGrid.Columns>
                                </data:DataGrid>
                            </my:DockPanel>
                        </Grid>
                    </Grid>
                </Border>
            </Grid>

            <Grid Height="Auto" Width="Auto" my:DockPanel.Dock="Bottom">
                <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition ></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0"  controlsToolkit:DockPanel.Dock="Top" BorderBrush="{StaticResource TabControlDarkerBorder}" BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                            <ContentControl VerticalAlignment="Top" Grid.ColumnSpan="4" FontSize="12" Content="Sperm Details" Margin="-1" Style="{StaticResource Header}" HorizontalAlignment="Stretch"/>
                        </Border>
                        <Grid Width="Auto"  Margin="0" Grid.Row="1" DataContext="{Binding BizActionObject}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto"/>
                            </Grid.RowDefinitions>
                            <TextBlock x:Name="SelectedPatientName"  VerticalAlignment="Center" Grid.Column="0" Grid.Row="0"  Margin="4" Text="Patient Name" HorizontalAlignment="Right"></TextBlock>
                            <TextBox TabIndex="0" x:Name="txtSelectedPatientName" Text="{Binding PatientName,Mode=TwoWay}"  Grid.Row="0"  Grid.Column="1" Margin="4"  MaxLength="50" IsEnabled="False" />
                            <TextBlock x:Name="chkSelectedMrNO"  VerticalAlignment="Center" Grid.Column="2" Grid.Row="0"  Margin="4" Text="MR. No." HorizontalAlignment="Right"></TextBlock>
                            <TextBox TabIndex="4" x:Name="txtSelectedMrNO" Text="{Binding MRNo,Mode=TwoWay}"  Grid.Row="0"   Grid.Column="3"   Margin="4"  MaxLength="30" IsEnabled="False" />


                        </Grid>
                        <Grid Height="Auto" Width="Auto" Grid.Row="3" my:DockPanel.Dock="Bottom">
                            <StackPanel Grid.Row="3" x:Name="FooterOocyte" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                                <StackPanel x:Name="SavePAnelOocyte" Orientation="Horizontal"  Margin="0,0,0,0">
                                    <ToggleButton  x:Name="cmdSaveOocyte"  Grid.Row="4" Content="Save" MinWidth="50"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch"  Style="{StaticResource ToggleButtonStyle}" Click="CmdSave_Click" TabIndex="8"/>
                                    <ToggleButton x:Name="CmdClose"  Grid.Row="4" Content="Cancel" MinWidth="50" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdClose_Click" TabIndex="9" />
                                </StackPanel>
                            </StackPanel>
                        </Grid>


                     
                        <Grid Height="200" Width="Auto" Grid.Row="2" x:Name="EmbGrid" >
                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width=".5*"></ColumnDefinition>
                                <ColumnDefinition Width=".5*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            
                            <my:DockPanel LastChildFill="True" Grid.Row="0" Grid.Column="0">
                                <!--<controlsToolkit:DockPanel   controlsToolkit:DockPanel.Dock="Top">-->
                                    <Border controlsToolkit:DockPanel.Dock="Top"   BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" Margin="0,4,0,0" CornerRadius="3,3,0,0"  Background="Transparent" >
                                        <ContentControl VerticalAlignment="Center" FontSize="12" Content="Sperm Freezing Summary" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                                    </Border>
                                    <controlsToolkit:DockPanel   controlsToolkit:DockPanel.Dock="Bottom">
                                        <data:DataPager x:Name="VitrificationDetilsGridPager" controlsToolkit:DockPanel.Dock="Bottom" DisplayMode="FirstLastPreviousNextNumeric"   Source="{Binding}" NumericButtonCount="10" AutoEllipsis="False" IsTotalItemCountFixed="True" />
                                        <data:DataGrid  SelectionMode="Single" x:Name="dgVitrificationDetilsGrid" Height="150" ItemsSource="{Binding}"  AutoGenerateColumns="False" IsReadOnly="True"  VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible" SelectionChanged="dgVitrificationDetilsGrid_SelectionChanged">
                                            <data:DataGrid.Columns>
                                                <data:DataGridTemplateColumn Header="Select" >
                                                    <data:DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <Grid>
                                                                <CheckBox x:Name="chkSelect" VerticalAlignment="Center" IsChecked="{Binding SelectFreezed,Mode=TwoWay}" IsEnabled="{Binding IsEnabled}"  Click="chkSelect_Click" ></CheckBox>
                                                            </Grid>
                                                        </DataTemplate>
                                                    </data:DataGridTemplateColumn.CellTemplate>
                                                </data:DataGridTemplateColumn>
                                                <data:DataGridTextColumn Width="80" Binding="{Binding SpremNostr}" Header="Collection No"/>
                                                <data:DataGridTextColumn Header="Vitrification Date" Binding="{Binding VitrificationDate,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}"  />
                                                <data:DataGridTextColumn Header="Vitrification Time" Binding="{Binding VitrificationDate,Converter={StaticResource DateConverter},ConverterParameter='hh:mm tt'}"  />
                                                <data:DataGridTextColumn  Width="80" Binding="{Binding Volume, Mode=TwoWay}" Header="Volume (ml)"/>
                                                <data:DataGridTextColumn Width="80" Binding="{Binding SpermCount, Mode=TwoWay}" Header="Count (Million)" />
                                                <data:DataGridTextColumn Width="80" Binding="{Binding Motility, Mode=TwoWay}" Header="Motility (%)" />
                                                <data:DataGridTextColumn Width="80" Binding="{Binding GobletColor, Mode=TwoWay}" Header="Color Code" />
                                                <data:DataGridTextColumn Width="100" Binding="{Binding Straw, Mode=TwoWay}" Header="Straw"/>
                                                <data:DataGridTextColumn  Width="100" Binding="{Binding GolbletShape, Mode=TwoWay}" Header="Goblet Shape"/>
                                                <data:DataGridTextColumn Width="100" Binding="{Binding GobletSize, Mode=TwoWay}" Header="Goblet Size"/>
                                                <data:DataGridTextColumn  Width="100" Binding="{Binding Cane, Mode=TwoWay}" Header="Cane"/>
                                                <data:DataGridTextColumn Width="100" Binding="{Binding Canister, Mode=TwoWay}" Header="Canister"/>
                                                <data:DataGridTextColumn  Width="100" Binding="{Binding Tank, Mode=TwoWay}" Header="Tank"/>
                                                <data:DataGridTextColumn  Width="100" Binding="{Binding Comments, Mode=TwoWay}" Header="Comments"/>                                    
                                            </data:DataGrid.Columns>
                                        </data:DataGrid>

                                    </controlsToolkit:DockPanel>
                                <!--</controlsToolkit:DockPanel>-->
                            </my:DockPanel>

                            <my:DockPanel LastChildFill="True" Grid.Row="0" Grid.Column="1">
                                <Border controlsToolkit:DockPanel.Dock="Top"   BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" Margin="0,4,0,0" CornerRadius="3,3,0,0"  Background="Transparent" >
                                    <ContentControl  VerticalAlignment="Center" FontSize="12" Content="Thawing Details" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                                </Border>

                                <controlsToolkit:DockPanel LastChildFill="True"  controlsToolkit:DockPanel.Dock="Bottom">
                                    <data:DataPager x:Name="ThawingDetilsGridPager" controlsToolkit:DockPanel.Dock="Bottom" DisplayMode="FirstLastPreviousNextNumeric"   Source="{Binding}" NumericButtonCount="10" AutoEllipsis="False" IsTotalItemCountFixed="True" />
                                    <data:DataGrid  SelectionMode="Single" x:Name="dgThawingDetilsGrid" Height="150" ItemsSource="{Binding}" LoadingRow="dgThawingDetilsGrid_LoadingRow" IsReadOnly="False"  AutoGenerateColumns="False" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible" SelectionChanged="dgThawingDetilsGrid_SelectionChanged">
                                        <data:DataGrid.Columns>
                                            <data:DataGridTextColumn Width="80" Binding="{Binding ID ,Mode=TwoWay}" Header="Thawing ID" Visibility="Collapsed" IsReadOnly="True"/>
                                            <data:DataGridTextColumn Width="80" Binding="{Binding SpremNostr,Mode=TwoWay}" Header="Collection No" IsReadOnly="True" Visibility="Collapsed"/>
                                            <data:DataGridTextColumn Width="80" Binding="{Binding CycleCode,Mode=TwoWay}" Header="CycleCode" IsReadOnly="True" Visibility="Collapsed"/>
                                            <data:DataGridTextColumn Width="80" Binding="{Binding SpremNo,Mode=TwoWay}" Header="Collection No." IsReadOnly="True" />
                                            <data:DataGridTextColumn  Width="80" Binding="{Binding Volume,Mode=TwoWay}" Header="Volume (ml)"  IsReadOnly="True" />
                                            <data:DataGridTextColumn Width="80" Binding="{Binding TotalSpearmCount,Mode=TwoWay}" Header="Count (Million)" IsReadOnly="True" />
                                            <data:DataGridTextColumn Width="80" Binding="{Binding Motility,Mode=TwoWay}" Header="Motility (%)" IsReadOnly="True" />

                                            <data:DataGridTemplateColumn Header="Thawing Date" >
                                                <data:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <controls:DatePicker SelectedDate="{Binding ThawingDate,Mode=TwoWay}"  Margin="4"  x:Name="dtDate" IsEnabled="{Binding IsEnabled}" ></controls:DatePicker>
                                                        </Grid>
                                                    </DataTemplate>
                                                </data:DataGridTemplateColumn.CellTemplate>
                                            </data:DataGridTemplateColumn>

                                            <data:DataGridTemplateColumn Header="Thawing Time">
                                                <data:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <inputToolkit:TimePicker Value="{Binding ThawingTime,Mode=TwoWay}"  Margin="4" x:Name="dtTime" IsEnabled="{Binding IsEnabled}"  ></inputToolkit:TimePicker>
                                                        </Grid>
                                                    </DataTemplate>
                                                </data:DataGridTemplateColumn.CellTemplate>
                                            </data:DataGridTemplateColumn>

                                            <data:DataGridTemplateColumn Header="Plan" Visibility="Collapsed">
                                                <data:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <input:AutoCompleteComboBox VerticalAlignment="Center" x:Name="cmbPlanForSperms" ItemsSource="{Binding PlanIdList}" SelectedItem="{Binding SelectedPlanId,Mode=TwoWay}" IsEnabled="{Binding IsEnabled}"   SelectedValue="{Binding SelectedPlanId.ID}"  Text=""  SelectionChanged="cmbPlanForSperms_SelectionChanged"/>
                                                        </Grid>
                                                    </DataTemplate>
                                                </data:DataGridTemplateColumn.CellTemplate>
                                            </data:DataGridTemplateColumn>

                                            <data:DataGridTemplateColumn Header="Lab Incharge">
                                                <data:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <input:AutoCompleteComboBox VerticalAlignment="Center" x:Name="cmbLabIncharge" ItemsSource="{Binding InchargeIdList}" SelectedItem="{Binding SelectedIncharge,Mode=TwoWay}" IsEnabled="{Binding IsEnabled}"  SelectedValue="{Binding SelectedIncharge.ID}"  Text=""  SelectionChanged="cmbLabIncharge1_SelectionChanged"/>
                                                        </Grid>
                                                    </DataTemplate>
                                                </data:DataGridTemplateColumn.CellTemplate>
                                            </data:DataGridTemplateColumn>
                                            <data:DataGridTemplateColumn Header="Comments">
                                                <data:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <TextBox Width="100" TextWrapping="Wrap" ScrollViewer.VerticalScrollBarVisibility="Visible" AcceptsReturn="True" IsEnabled="{Binding IsEnabled}"  VerticalAlignment="Center"  Height="28"  Text="{Binding Comments,Mode=TwoWay}" ></TextBox>
                                                        </Grid>
                                                    </DataTemplate>
                                                </data:DataGridTemplateColumn.CellTemplate>
                                            </data:DataGridTemplateColumn>

                                            <data:DataGridTemplateColumn Header="Freeze">
                                                <data:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <CheckBox VerticalAlignment="Center" IsChecked="{Binding IsFreezed,Mode=TwoWay}" IsEnabled="{Binding IsEnabled}"  Content="Freeze"></CheckBox>
                                                        </Grid>
                                                    </DataTemplate>
                                                </data:DataGridTemplateColumn.CellTemplate>
                                            </data:DataGridTemplateColumn>                                         
                                        </data:DataGrid.Columns>
                                    </data:DataGrid>
                                </controlsToolkit:DockPanel>
                            </my:DockPanel>
                        </Grid>

                    </Grid>
                </Border>
            </Grid>
        </my:DockPanel>
    </Grid>

</controls:ChildWindow>