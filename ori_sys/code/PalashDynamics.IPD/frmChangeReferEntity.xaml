<controls:ChildWindow x:Class="PalashDynamics.IPD.frmChangeReferEntity"
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
                      xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters" 
                    xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"  
                    xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit" 
                    xmlns:dataInput="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input"
                    xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"
                    xmlns:CustomCombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
                    xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
                    xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"                                           
                    xmlns:Grp="clr-namespace:Groupbox;assembly=Groupbox"
                    Width="750" Height="650" 
           Title="Change Refer Entity"
                      >

    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <local:DateTimeConverter x:Key="DateConverter" />

        </ResourceDictionary>
    </controls:ChildWindow.Resources>
    <Grid x:Name="LayoutRoot" Background="White" Margin="2">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition></ColumnDefinition>
            <ColumnDefinition></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Grid.Column="1" Grid.Row="3">
            <ToggleButton x:Name="OKButton" Content="OK" Style="{StaticResource ToggleButtonStyle}" Click="OKButton_Click" Width="75" Height="23" HorizontalAlignment="Right" TabIndex="4"  Margin="4"/>
            <ToggleButton x:Name="CancelButton" Content="Cancel" Style="{StaticResource ToggleButtonStyle}" Click="CancelButton_Click" Width="75" Height="23" TabIndex="3"  HorizontalAlignment="Right" Margin="4" />
        </StackPanel>

        <Grid  Grid.ColumnSpan="2">
            <!--<Border BorderBrush="{StaticResource TabControlDarkerBorder}" Margin="4"   BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">-->
            <toolkit:DockPanel LastChildFill="True" x:Name="ChangeRefEntity">

                <Grp:GroupBox x:Name="grpPatientDetails1" IsTabStop="False" Header="Patient Information" toolkit:DockPanel.Dock="Top"  Margin="4">
                    <toolkit:DockPanel LastChildFill="True" toolkit:DockPanel.Dock="Top">
                        <Grid x:Name="PatientInfo">
                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <!--<RowDefinition></RowDefinition>-->
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <TextBlock x:Name="lblPatientName"  VerticalAlignment="Center" Grid.Column="0" Grid.Row="0"  Margin="4" Text="Patient Name :" HorizontalAlignment="Left"></TextBlock>
                            <TextBlock x:Name="lblPatientName1"  VerticalAlignment="Center" Grid.Column="1" Grid.Row="0"  Margin="4" Text="{Binding PatientName}" HorizontalAlignment="Left"></TextBlock>

                            <TextBlock x:Name="lblPatientGender"  VerticalAlignment="Center" Grid.Column="2" Grid.Row="0"  Margin="4" Text="Gender :" HorizontalAlignment="Left"></TextBlock>
                            <TextBlock x:Name="lblPatientGender1"  VerticalAlignment="Center" Grid.Column="3" Grid.Row="0"  Margin="4" Text="{Binding GenderName}" HorizontalAlignment="Left"></TextBlock>

                            <TextBlock x:Name="lblAdmissionDate"  VerticalAlignment="Center" Grid.Column="4" Grid.Row="0"  Margin="4" Text="Admission Date :" HorizontalAlignment="Left"></TextBlock>
                            <TextBlock x:Name="lblAdmissionDate1"  VerticalAlignment="Center" Grid.Column="5" Grid.Row="0"  Margin="4" Text="{Binding AdmissionDate, StringFormat=dd/MM/yyyy}" HorizontalAlignment="Left"></TextBlock>

                            <TextBlock x:Name="lblAdmissionNo"  VerticalAlignment="Center" Grid.Column="0" Grid.Row="1"  Margin="4" Text="Admission No :" HorizontalAlignment="Left"></TextBlock>
                            <TextBlock x:Name="lblAdmissionNo1"  VerticalAlignment="Center" Grid.Column="1" Grid.Row="1"  Margin="4" Text="{Binding IPDNO}" HorizontalAlignment="Left"></TextBlock>

                            <TextBlock x:Name="lblMrNo"  VerticalAlignment="Center" Grid.Column="2" Grid.Row="1"  Margin="4" Text="Mr No   :" HorizontalAlignment="Left"></TextBlock>
                            <TextBlock x:Name="lblMrNo1"  VerticalAlignment="Center" Grid.Column="3" Grid.Row="1"  Margin="4" Text="{Binding MRNo}" HorizontalAlignment="Left"></TextBlock>

                        </Grid>
                    </toolkit:DockPanel>
                </Grp:GroupBox>

                <toolkit:DockPanel LastChildFill="True" toolkit:DockPanel.Dock="Bottom">
                    <Grid x:Name="gdPatientDetails">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>

                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <TextBlock  VerticalAlignment="Center" x:Name="lblRefEntityType" HorizontalAlignment="Right" Grid.Row="0" Margin="4" Text="Ref Entity Type"  Grid.Column="0" />
                        <CustomCombo:AutoCompleteComboBox  Grid.Row="0" Grid.Column="1" HorizontalAlignment="Stretch"   x:Name="cmbRefEntityType" TabIndex="1"  Margin="4"  VerticalAlignment="Center" SelectedItemBinding="{Binding MasterListItem, Mode=TwoWay}" SelectedValuePath="ID" SelectionChanged="cmbRefEntityType_SelectionChanged" />

                        <TextBlock  VerticalAlignment="Center" x:Name="lblRefEntity" HorizontalAlignment="Right" Text="Ref Entity" Margin="2" Grid.Row="1" Grid.Column="0"></TextBlock>
                        <sdk:AutoCompleteBox  Grid.Row="1" Grid.Column="1" x:Name="cmbRefEntity" HorizontalAlignment="Stretch" TabIndex="2"  Margin="4"  VerticalAlignment="Center"   />

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Grid.Column="1" Grid.Row="3" >
                            <ToggleButton x:Name="btnAdd" Content="Add"  Style="{StaticResource ToggleButtonStyle}" Click="btnAdd_Click"  Width="75" Height="23" HorizontalAlignment="Right" TabIndex="4"  Margin="4"/>
                        </StackPanel>
                    </Grid>
                </toolkit:DockPanel>

                <Grp:GroupBox x:Name="grpPatientDetails" IsTabStop="False" Header="Entity Information" Grid.Row="0" Grid.Column="0" Margin="4">
                    <toolkit:DockPanel LastChildFill="True">
                        <data:DataGrid Grid.Row="2" Grid.ColumnSpan="2" VerticalScrollBarVisibility="Auto" ItemsSource="{Binding}"  x:Name="dgRefEntity" Margin="2" AutoGenerateColumns="False" SelectionChanged="dgRefEntity_SelectionChanged">
                            <data:DataGrid.Columns>
                                <data:DataGridTextColumn IsReadOnly="True" Binding="{Binding RefEntityTypeIDDesc}"  Header="Reference Entity Type" />
                                <data:DataGridTextColumn IsReadOnly="True" Binding="{Binding RefEntityIDDesc}" Header="Reference Entity" />
                                <data:DataGridTemplateColumn Visibility="Collapsed">
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <HyperlinkButton VerticalAlignment="Center" Visibility="Collapsed" FontFamily="Webdings" Content="r"  Padding="5,0,5,0" IsTabStop="False" x:Name="cmdDeleteRefEntity"  ToolTipService.ToolTip="Delete" Click="cmdDeleteRefEntity_Click"></HyperlinkButton>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                                <data:DataGridTemplateColumn Header="Entity Status" Width="Auto">
                                    <data:DataGridTemplateColumn.CellEditingTemplate>
                                        <DataTemplate>
                                            <CheckBox x:Name="chkStatusSelect" Margin="4" VerticalAlignment="Center" Tag="{Binding ID}" HorizontalAlignment="Center" IsChecked="{Binding Status,Mode=TwoWay}" IsEnabled="False"></CheckBox>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellEditingTemplate>
                                </data:DataGridTemplateColumn>
                            </data:DataGrid.Columns>
                        </data:DataGrid>
                    </toolkit:DockPanel>
                </Grp:GroupBox>

            </toolkit:DockPanel>

            <!--</Border>-->
        </Grid>
    </Grid>
</controls:ChildWindow>