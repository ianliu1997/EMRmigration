<controls:ChildWindow x:Class="PalashDynamics.IPD.frmPrintDischargeSummary"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           xmlns:Converter="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"
           xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit" 
           xmlns:c1="http://schemas.componentone.com/winfx/2006/xaml"           
           Width="650" Height="500" 
           Title="Discharge Summary" >

    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Converter:DateTimeConverter x:Key="DateConverter"></Converter:DateTimeConverter>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>

    <Grid x:Name="LayoutRoot" Margin="2">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <controlsToolkit:DockPanel x:Name="dpC1RTB" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="8" Margin ="4">
            <c1:C1TabControl SelectionChanged="OnSelectionChanged" TabStripPlacement="Bottom" Padding="0 0 0 2" c1:C1NagScreen.Nag="True">
                <c1:C1TabItem Header="RichTextBox" Name="richTextBoxTab" c1:C1NagScreen.Nag="True">
                    <Grid>
                        <Grid.Resources>
                            <DataTemplate x:Name="printTemplate">
                                <Grid Height="{Binding ViewManager.PresenterInfo.Height}" Width="{Binding ViewManager.PresenterInfo.Width}">
                                    <c1:C1RichTextPresenter Source="{Binding}" Margin="{Binding ViewManager.PresenterInfo.Padding}" c1:C1NagScreen.Nag="True" />
                                </Grid>
                            </DataTemplate>
                        </Grid.Resources>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <c1:C1RichTextBoxToolbar x:Name="richToolbar" RichTextBox="{Binding ElementName=richTextBox}" Margin="-1,-1,-1,0" c1:C1NagScreen.Nag="True" Visibility="Collapsed" />

                        <c1:C1RichTextBox Html="{Binding Consent}" x:Name="richTextBox" Grid.Row="1" BorderThickness="0" c1:C1NagScreen.Nag="True" >
                            <c1:C1RichTextBox.PrintTemplate >
                                <DataTemplate x:Name="HeaderTemplate">
                                    <Grid Margin="4" x:Name="gp">
                                        <Grid.Resources>
                                            <c1:ZoomToScaleTransformConverter x:Key="zoomConverter" />
                                        </Grid.Resources>

                                        <c1:C1LayoutTransformer LayoutTransform="{Binding ViewManager.PresenterInfo.Zoom}">
                                            <Grid Height="Auto" Width="Auto">
                                                <c1:C1RichTextPresenter Source="{Binding}" Margin="100,350,50,100" c1:C1NagScreen.Nag="True" />
                                            </Grid>
                                        </c1:C1LayoutTransformer>

                                        <TextBlock Text="Header" Visibility="Collapsed" x:Name="header" Margin="10" HorizontalAlignment="Center" >
                                        </TextBlock>

                                        <Grid x:Name="PatientDetails" Visibility="Visible" Margin="50" HorizontalAlignment="Center">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Text="Dr. Bagul Hospital" Grid.Row="0" Grid.ColumnSpan="6" TextAlignment="Center"   Grid.Column="0" Margin="4" HorizontalAlignment="Stretch" FontWeight="Bold" FontSize="14" />
                                            <TextBlock Text="Manik Nagar, Near Prasad Circle, Gangapur Road, Nashik, E-Mail:bagulhospital@gmail.com" TextAlignment="Center" Grid.Row="1" Grid.ColumnSpan="6"   Grid.Column="0" Margin="4" HorizontalAlignment="Stretch"  FontSize="11" />
                                            <Line X1="0" Y1="0" X2="1" Y2="0" Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="6" Stretch="Fill" Stroke="Black" />
                                            <TextBlock Text="Dr. Nalini Bagul" Grid.Row="3" Grid.ColumnSpan="6" TextAlignment="Center"  Grid.Column="0" Margin="4" HorizontalAlignment="Stretch" FontWeight="Bold"  FontSize="13" />
                                            <TextBlock Text="M.D., D.G.O." Grid.Row="4" Grid.ColumnSpan="6" TextAlignment="Center"  Grid.Column="0" Margin="4" HorizontalAlignment="Stretch"   FontSize="12" />
                                            <TextBlock Text="Consultant Obstetrician, Gynaecologist, Infertility Specialist, Laproscopist" Grid.Row="5" TextAlignment="Center"  Grid.ColumnSpan="6"   Grid.Column="0" Margin="4" HorizontalAlignment="Stretch"  FontSize="13" />
                                            <Line X1="0" Y1="0" X2="1" Y2="0" Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="6" Stretch="Fill"  Stroke="Black"/>
                                            <TextBlock Text="DISCHARGE CARD" Grid.Row="7" Grid.ColumnSpan="6" FontWeight="Bold" TextAlignment="Center"   Grid.Column="0" Margin="4" HorizontalAlignment="Stretch"  FontSize="14" />

                                            <TextBlock Text="Patient Details" Grid.Row="8" Width="Auto" Grid.Column="0" Margin="4" HorizontalAlignment="left" FontWeight="Bold" FontSize="12" />
                                            <TextBlock Text=":" Grid.Row="8" Grid.Column="1" Margin="4" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                                            <TextBlock Text="{Binding DisDestination,Mode=OneWay}" Grid.Row="8" Grid.Column="2" Margin="4" HorizontalAlignment="Left"  FontSize="12" />

                                            <TextBlock Text="Age/Sex" Grid.Row="8" Grid.Column="3" Width="Auto" Margin="4" HorizontalAlignment="left" FontWeight="Bold" FontSize="12"/>
                                            <TextBlock Text=":" Grid.Row="8" Grid.Column="4" Margin="4" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                                            <TextBlock Text="{Binding FirstName,Mode=OneWay}" Grid.Row="8" Grid.Column="5" Margin="4" HorizontalAlignment="Left" FontSize="12"/>

                                            <TextBlock Text="Address"  Grid.Row="9" Width="Auto" Grid.Column="0" Margin="4" HorizontalAlignment="left"  FontWeight="Bold" FontSize="12"/>
                                            <TextBlock Text=":" Grid.Row="9" Grid.Column="1" Margin="4" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                                            <TextBlock Text="{Binding Address,Mode=TwoWay}"  Grid.Row="9" Grid.Column="2" Grid.ColumnSpan="4" Margin="4"  FontSize="12" />

                                            <TextBlock Text="Date of Admission" Grid.Row="10" Grid.Column="0" Width="Auto" Margin="4" HorizontalAlignment="left" FontWeight="Bold" FontSize="12"/>
                                            <TextBlock Text=":" Grid.Row="10" Grid.Column="1" Margin="4" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                                            <TextBlock Text="{Binding AdmDate,StringFormat='dd/MM/yyyy',Mode=TwoWay}" Grid.Row="10" Grid.Column="2" Margin="4" HorizontalAlignment="Left" FontSize="12"/>

                                            <TextBlock Text="Date of Discharge" Grid.Row="10" Width="Auto" Grid.Column="3" Margin="4" HorizontalAlignment="left" FontWeight="Bold" FontSize="12"/>
                                            <TextBlock Text=":" Grid.Row="10" Grid.Column="4" Margin="4" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                                            <TextBlock  Text="{Binding DischargeDate,StringFormat='dd/MM/yyyy',Mode=TwoWay}" Grid.Row="10" Grid.Column="5" Margin="4" HorizontalAlignment="Left" FontSize="12"/>

                                            <TextBlock Text="Time of Admission" Grid.Row="11" Width="Auto" Grid.Column="0" Margin="4" HorizontalAlignment="left" FontWeight="Bold" FontSize="12"/>
                                            <TextBlock Text=":" Grid.Row="11" Grid.Column="1" Margin="4" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                                            <TextBlock  Text="{Binding AdmDate,StringFormat=t,Mode=TwoWay}" Grid.Row="11" Grid.Column="2" Margin="4" HorizontalAlignment="Left" FontSize="12"/>

                                            <TextBlock Text="Time of Discharge" Grid.Row="11" Width="Auto" Grid.Column="3" Margin="4" HorizontalAlignment="left" FontWeight="Bold" FontSize="12"/>
                                            <TextBlock Text=":" Grid.Row="11" Grid.Column="4" Margin="4" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                                            <TextBlock  Text="{Binding DischargeTime,StringFormat=t,Mode=TwoWay}" Grid.Row="11" Grid.Column="5" Margin="4" HorizontalAlignment="Left"  FontSize="12"/>

                                            <Line X1="0" Y1="0" X2="1" Y2="0" Grid.Column="0" Grid.Row="12" Grid.ColumnSpan="6" Stretch="Fill" Stroke="Black" />
                                        </Grid>
                                    </Grid>
                                </DataTemplate>
                            </c1:C1RichTextBox.PrintTemplate>
                        </c1:C1RichTextBox>
                    </Grid>
                </c1:C1TabItem>

                <c1:C1TabItem Header="Html" Name="htmlTab" c1:C1NagScreen.Nag="True" Visibility="Collapsed">
                    <c1:C1RichTextBox x:Name="htmlBox" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                </c1:C1TabItem>

                <c1:C1TabItem Header="Rtf" Name="rtfTab" c1:C1NagScreen.Nag="True" Visibility="Collapsed">
                    <c1:C1RichTextBox x:Name="rtfBox" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                </c1:C1TabItem>
            </c1:C1TabControl>


        </controlsToolkit:DockPanel>
        <StackPanel Grid.Row="2" HorizontalAlignment="Right" Orientation="Horizontal">
            <ToggleButton x:Name="cmdPrint" Content="Print" Click="cmdPrint_Click" Width="75" Height="23" MinWidth="50"  Background="#000000" Margin="4"   Style="{StaticResource ToggleButtonStyle}" HorizontalAlignment="Right"  Grid.Row="1" />
            <ToggleButton x:Name="CancelButton" Content="Close" Click="CancelButton_Click" MinWidth="50"  Background="#000000" Margin="4"   Style="{StaticResource ToggleButtonStyle}" HorizontalAlignment="Right"  Grid.Row="1" />
        </StackPanel>
    </Grid>
</controls:ChildWindow>