<controls:ChildWindow x:Class="PalashDynamics.IPD.FrmConsent"
           xmlns:c1="http://schemas.componentone.com/winfx/2006/xaml"       
           xmlns:Grp="clr-namespace:Groupbox;assembly=Groupbox"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"
           xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
           xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
           xmlns:Converter="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"
           xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"
           xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"  
           xmlns:inputcombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
           xmlns:GroupBox="clr-namespace:Groupbox;assembly=Groupbox"   
           Width="800" Height="600" 
           Title="Consent">
    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Converter:DateTimeConverter x:Key="DateConverter"></Converter:DateTimeConverter>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>

    <controlsToolkit:DockPanel LastChildFill="True">
        <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"  Margin="4" controlsToolkit:DockPanel.Dock="Bottom" BorderThickness="1" CornerRadius="3,3,3,3" Background="Transparent" >
            <StackPanel x:Name="Footer" Orientation="Horizontal" VerticalAlignment="Center"   Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                <StackPanel Orientation="Horizontal"  Margin="1" HorizontalAlignment="Right"  >
                    <ToggleButton  Margin="4"  Content="New" Style="{StaticResource ToggleButtonStyle}" x:Name="cmdNew" Click="cmdNew_Click"></ToggleButton>
                    <ToggleButton   Margin="4" Content="Save" Style="{StaticResource ToggleButtonStyle}" x:Name="cmdSave" Click="cmdSave_Click"></ToggleButton>
                    <ToggleButton   Margin="4"  Content="Modify" Style="{StaticResource ToggleButtonStyle}" x:Name="cmdModify" Click="cmdModify_Click" Visibility="Collapsed"></ToggleButton>
                    <ToggleButton  Margin="4" Content="Cancel"  Style="{StaticResource ToggleButtonStyle}" x:Name="cmdCancel" Click="cmdCancel_Click"></ToggleButton>
                </StackPanel>
            </StackPanel>
        </Border>
        <Grid x:Name="PageContainer" >
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition></RowDefinition>
                <!--<RowDefinition></RowDefinition>-->
            </Grid.RowDefinitions>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>
            </Grid>


            <Grid Height="AUTO" Visibility="Visible" Width="auto" x:Name="FrontPanel" Grid.Row="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                </Grid.RowDefinitions>

                <Grp:GroupBox x:Name="grpPatientDetails" IsTabStop="False" Header="Patient Information" Grid.Row="0" Margin="4">
                    <controlsToolkit:DockPanel x:Name="docPatientInfo" Margin="4" LastChildFill="True" AllowDrop="False" Grid.Row="0" Height="Auto">
                        <Grid x:Name="PatientInfo" Height="Auto" Width="Auto">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <!--<RowDefinition></RowDefinition>-->
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <TextBlock x:Name="lblPatientName"  VerticalAlignment="Center" Grid.Column="0" FontWeight="Bold" Grid.Row="0"  Margin="4" Text="Patient Name :" HorizontalAlignment="Left"></TextBlock>
                            <TextBlock x:Name="lblPatientName1"  VerticalAlignment="Center" Grid.Column="1" Grid.Row="0"  Margin="4" Text="{Binding PatientName}" HorizontalAlignment="Left"></TextBlock>

                            <TextBlock x:Name="lblPatientGender"  VerticalAlignment="Center" Grid.Column="2" Grid.Row="0" FontWeight="Bold"   Margin="4" Text="Gender :" HorizontalAlignment="Left"></TextBlock>
                            <TextBlock x:Name="lblPatientGender1"  VerticalAlignment="Center" Grid.Column="3" Grid.Row="0"  Margin="4" Text="{Binding GenderName}" HorizontalAlignment="Left"></TextBlock>

                            <TextBlock x:Name="lblAdmissionDate"  VerticalAlignment="Center" Grid.Column="4" Grid.Row="0" FontWeight="Bold"  Margin="4" Text="Admission Date :" HorizontalAlignment="Left"></TextBlock>
                            <TextBlock x:Name="lblAdmissionDate1"  VerticalAlignment="Center" Grid.Column="5" Grid.Row="0"  Margin="4" Text="{Binding AdmissionDate, StringFormat=dd/MM/yyyy}" HorizontalAlignment="Left"></TextBlock>

                            <TextBlock x:Name="lblAdmissionNo"  VerticalAlignment="Center" Grid.Column="0" Grid.Row="1" FontWeight="Bold"  Margin="4" Text="Admission No :" HorizontalAlignment="Left"></TextBlock>
                            <TextBlock x:Name="lblAdmissionNo1"  VerticalAlignment="Center" Grid.Column="1" Grid.Row="1"  Margin="4" Text="{Binding IPDNO}" HorizontalAlignment="Left"></TextBlock>

                            <TextBlock x:Name="lblMrNo"  VerticalAlignment="Center" Grid.Column="2" Grid.Row="1"  Margin="4" FontWeight="Bold" Text="Mr No   :" HorizontalAlignment="Left"></TextBlock>
                            <TextBlock x:Name="lblMrNo1"  VerticalAlignment="Center" Grid.Column="3" Grid.Row="1"  Margin="4" Text="{Binding MRNo}" HorizontalAlignment="Left"></TextBlock>

                        </Grid>
                    </controlsToolkit:DockPanel>
                </Grp:GroupBox>
                <Grp:GroupBox IsTabStop="False" Header="List Of Consents" Grid.Row="1" Margin="4" Visibility="Visible" Height="Auto">
                    <data:DataGrid  x:Name="dgConsentList" AutoGenerateColumns="False" ItemsSource="{Binding}" VerticalScrollBarVisibility="Visible" IsReadOnly="True" Margin="4" HorizontalAlignment="Stretch" TabIndex="5">
                        <data:DataGrid.Columns>
                            <data:DataGridTextColumn Binding="{Binding Date}" Header="Date" />
                            <data:DataGridTextColumn Binding="{Binding Description}" Header="Consent" />

                            <data:DataGridTemplateColumn>
                                <data:DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <HyperlinkButton Background="White"  VerticalAlignment="Center" Padding="5,0,5,0" IsTabStop="False" Click="btnPrint_Click"   x:Name="btnPrint" >
                                            <Image  Height="16" Stretch="Fill" Source="/PalashDynamics;component/Icons/Print_32.png"    />
                                        </HyperlinkButton>
                                    </DataTemplate>
                                </data:DataGridTemplateColumn.CellTemplate>

                            </data:DataGridTemplateColumn>
                        </data:DataGrid.Columns>
                    </data:DataGrid>
                </Grp:GroupBox>


            </Grid>
            <Grid Height="Auto" Visibility="Collapsed" Width="Auto" x:Name="BackPanel" Grid.Row="1">
                <controlsToolkit:DockPanel x:Name="Content" controlsToolkit:DockPanel.Dock="top" LastChildFill="true"  >
                    <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"    BorderThickness="1" CornerRadius="3,3,0,0" Margin="4,4,4,4"  Background="Transparent">
                        <controlsToolkit:DockPanel controlsToolkit:DockPanel.Dock="Top">
                            <controlsToolkit:DockPanel x:Name="docHeader" controlsToolkit:DockPanel.Dock="Top" HorizontalAlignment="Stretch">
                                <Border  BorderBrush="{StaticResource TabControlDarkerBorder}" controlsToolkit:DockPanel.Dock="Top"   Margin="0,-1,0,0" BorderThickness="1" CornerRadius="0,0,3,3" Background="Transparent">
                                    <GroupBox:GroupBox  Header="{Binding grplblConsentDetails}" Margin="4" Width="Auto" Height="Auto" Grid.Row="0" HorizontalAlignment="Stretch">
                                        <Grid x:Name="grdBackPanel">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition ></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition ></ColumnDefinition>

                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition ></RowDefinition>


                                            </Grid.RowDefinitions>

                                            <TextBlock  VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Row="0" Grid.Column="0" Text="Date" Margin="4"></TextBlock>
                                            <controls:DatePicker x:Name="dtpDate" Margin="4" Grid.Row="0" Grid.Column="1" HorizontalAlignment="Stretch" TabIndex="1"/>

                                            <TextBlock  VerticalAlignment="Center" HorizontalAlignment="Right" Text="Consent Template" Margin="4" x:Name="lblConsent" Grid.Row="2" Grid.Column="0"></TextBlock>
                                            <inputcombo:AutoCompleteComboBox  x:Name="CmbOtTheatre"   Grid.Row="2" Grid.Column="1" Height="25"  Margin="4" VerticalAlignment="Center"  ItemsSource="{Binding Description}" HorizontalAlignment="Stretch" SelectedValuePath="ID" SelectedItemBinding="{Binding Description, Mode=TwoWay}" TabIndex="1"></inputcombo:AutoCompleteComboBox>

                                            <ToggleButton x:Name="lnkAddItems"  Content="Add"    Background="#000000" Margin="2" HorizontalAlignment="Left" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Grid.Row="2" Grid.Column="3" Click="AddConsentTemplate_Click"  />

                                            <TextBlock  VerticalAlignment="Top" HorizontalAlignment="Right" Text="Consent Description" Margin="4" Grid.Row="3" Grid.Column="0"></TextBlock>

                                            <Grid x:Name="grdRichTextBox" Grid.Row="3" Grid.ColumnSpan="3" Grid.Column="1" Visibility="Visible" >

                                                <!--<c1:C1TabControl  TabStripPlacement="Bottom" Padding="0 0 0 2"  c1:C1NagScreen.Nag="True">
                                                    <c1:C1TabItem Header="RichTextBox" Name="richTextBoxTab" c1:C1NagScreen.Nag="True">
                                                        <Grid>
                                                            <Grid.Resources>
                                                                <DataTemplate x:Name="printTemplate">
                                                                    <Grid Height="{Binding ViewManager.PresenterInfo.Height}" Width="{Binding ViewManager.PresenterInfo.Width}">
                                                                        <c1:C1RichTextPresenter Source="{Binding}" Margin="{Binding ViewManager.PresenterInfo.Padding}" c1:C1NagScreen.Nag="True" />
                                                                    </Grid>
                                                                </DataTemplate>
                                                            </Grid.Resources>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="Auto" />
                                                                <RowDefinition />
                                                            </Grid.RowDefinitions>
                                                            <c1:C1RichTextBoxToolbar x:Name="richToolbar" RichTextBox="{Binding ElementName=richTextBox}" Margin="-1,-1,-1,0" c1:C1NagScreen.Nag="True" />
                                                            <c1:C1RichTextBox x:Name="richTextBox" Grid.Row="1" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                        </Grid>
                                                    </c1:C1TabItem>

                                                    <c1:C1TabItem Header="Html" Name="htmlTab" c1:C1NagScreen.Nag="True" Visibility="Collapsed">
                                                        <c1:C1RichTextBox x:Name="htmlBox" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                    </c1:C1TabItem>

                                                    <c1:C1TabItem Header="Rtf" Name="rtfTab" c1:C1NagScreen.Nag="True" Visibility="Collapsed">
                                                        <c1:C1RichTextBox x:Name="rtfBox" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                    </c1:C1TabItem>

                                                </c1:C1TabControl>-->

                                                <controlsToolkit:DockPanel x:Name="dpC1RTB" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="8" Margin ="4">
                                                    <c1:C1TabControl Grid.Row="0" Grid.Column="0"  SelectionChanged="OnSelectionChanged" TabStripPlacement="Bottom" Padding="0 0 0 2" c1:C1NagScreen.Nag="True" >
                                                        <c1:C1TabItem Header="" Name="richTextBoxTab" c1:C1NagScreen.Nag="True" >
                                                            <Grid>
                                                                <Grid.Resources>
                                                                    <DataTemplate x:Name="printTemplate">
                                                                        <Grid Height="{Binding ViewManager.PresenterInfo.Height}" Width="{Binding ViewManager.PresenterInfo.Width}">
                                                                            <c1:C1RichTextPresenter Source="{Binding}" Margin="{Binding ViewManager.PresenterInfo.Padding}" c1:C1NagScreen.Nag="True" />
                                                                        </Grid>
                                                                    </DataTemplate>
                                                                </Grid.Resources>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="Auto" />
                                                                    <RowDefinition />
                                                                </Grid.RowDefinitions>
                                                                <c1:C1RichTextBoxToolbar x:Name="richToolbar" RichTextBox="{Binding ElementName=richTextBox}" Margin="-1,-1,-1,0" c1:C1NagScreen.Nag="True" />
                                                                <c1:C1RichTextBox  x:Name="richTextBox" Grid.Row="1" BorderThickness="0" c1:C1NagScreen.Nag="True" Margin="0" ViewMode="Draft" VerticalContentAlignment="Top" IsTabStop="True">
                                                                    <c1:C1RichTextBox.PrintTemplate >
                                                                        <DataTemplate x:Name="HeaderTemplate">
                                                                            <Grid Margin="4" x:Name="gp">
                                                                                <Grid.Resources>
                                                                                    <c1:ZoomToScaleTransformConverter x:Key="zoomConverter" />
                                                                                </Grid.Resources>
                                                                                <c1:C1LayoutTransformer Margin="30,135,0,0"  LayoutTransform="{Binding ViewManager.PresenterInfo.Zoom, Converter={StaticResource zoomConverter}}" c1:C1NagScreen.Nag="True">
                                                                                    <Grid Height="Auto" Width="Auto">
                                                                                        <c1:C1RichTextPresenter Source="{Binding}" Margin="30,135,20,180" c1:C1NagScreen.Nag="True" />
                                                                                    </Grid>
                                                                                </c1:C1LayoutTransformer>
                                                                                <TextBlock Text="Header" Visibility="Collapsed" x:Name="header" Margin="10" HorizontalAlignment="Center" >
                                                                                </TextBlock>
                                                                                <Grid x:Name="PatientDetails" Visibility="Visible">
                                                                                </Grid>
                                                                            </Grid>
                                                                        </DataTemplate>
                                                                    </c1:C1RichTextBox.PrintTemplate>
                                                                </c1:C1RichTextBox>
                                                            </Grid>
                                                        </c1:C1TabItem>
                                                        <c1:C1TabItem Header="Html" Name="htmlTab" c1:C1NagScreen.Nag="True" Visibility="Collapsed">
                                                            <c1:C1RichTextBox x:Name="htmlBox" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                        </c1:C1TabItem>
                                                        <c1:C1TabItem Header="Rtf" Name="rtfTab" c1:C1NagScreen.Nag="True" Visibility="Collapsed">
                                                            <c1:C1RichTextBox x:Name="rtfBox" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                        </c1:C1TabItem>
                                                    </c1:C1TabControl>


                                                    <!--<c1:C1TabControl Grid.Row="0" Grid.Column="0"  SelectionChanged="OnSelectionChanged" TabStripPlacement="Bottom" Padding="0 0 0 2" c1:C1NagScreen.Nag="True">

                                                                    <c1:C1TabItem Header="RichTextBox" Name="richTextBoxTab" c1:C1NagScreen.Nag="True">
                                                                        <Grid>
                                                                            <Grid.Resources>
                                                                                <DataTemplate x:Name="printTemplate">
                                                                                    <Grid Height="{Binding ViewManager.PresenterInfo.Height}" Width="{Binding ViewManager.PresenterInfo.Width}">
                                                                                        <c1:C1RichTextPresenter Source="{Binding}" Margin="{Binding ViewManager.PresenterInfo.Padding}" c1:C1NagScreen.Nag="True" />
                                                                                    </Grid>
                                                                                </DataTemplate>
                                                                            </Grid.Resources>
                                                                            <Grid.RowDefinitions>
                                                                                <RowDefinition Height="Auto" />
                                                                                <RowDefinition />
                                                                            </Grid.RowDefinitions>
                                                                            <c1:C1RichTextBoxToolbar x:Name="richToolbar" RichTextBox="{Binding ElementName=richTextBox}" Margin="-1,-1,-1,0" c1:C1NagScreen.Nag="True" />
                                                                            <c1:C1RichTextBox x:Name="richTextBox" Grid.Row="1" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                                        </Grid>
                                                                    </c1:C1TabItem>

                                                                    <c1:C1TabItem Header="Html" Name="htmlTab" c1:C1NagScreen.Nag="True" Visibility="Collapsed">
                                                                        <c1:C1RichTextBox x:Name="htmlBox" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                                    </c1:C1TabItem>

                                                                    <c1:C1TabItem Header="Rtf" Name="rtfTab" c1:C1NagScreen.Nag="True" Visibility="Collapsed">
                                                                        <c1:C1RichTextBox x:Name="rtfBox" BorderThickness="0" c1:C1NagScreen.Nag="True" />
                                                                    </c1:C1TabItem>
                                                                </c1:C1TabControl>-->
                                                </controlsToolkit:DockPanel>

                                            </Grid>

                                        </Grid>
                                    </GroupBox:GroupBox>
                                </Border>
                            </controlsToolkit:DockPanel>
                        </controlsToolkit:DockPanel>
                    </Border>
                </controlsToolkit:DockPanel>
            </Grid>
        </Grid>
    </controlsToolkit:DockPanel>
</controls:ChildWindow>
