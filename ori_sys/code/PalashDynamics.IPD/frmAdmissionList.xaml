<UserControl x:Class="PalashDynamics.IPD.Forms.frmAdmissionList"
   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
   
    xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"
  xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"  
    xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"
    xmlns:Grp="clr-namespace:Groupbox;assembly=Groupbox" 
     xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit" 
    xmlns:dataInput="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input"
    xmlns:CustomCombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
   
    xmlns:inputToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input.Toolkit"
    xmlns:my="clr-namespace:PalashDynamics;assembly=PalashDynamics.WaterMarkTextBox"
    xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"
     xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters" 
   >

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>


            <local:DateTimeConverter x:Key="DateConverter" />
            <ControlTemplate x:Key="FilledContentControlTemplate" TargetType="ContentControl">
                <Grid>
                    <ContentPresenter/>
                </Grid>
            </ControlTemplate>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid x:Name="AdmissionWindowLayoutRoot" Margin="2" Background="White" >
        <Border BorderBrush="{StaticResource TabControlDarkerBorder}"  Margin="0,-1,0,0" BorderThickness="1" CornerRadius="0,0,3,3" Background="Transparent">
            <controlsToolkit:DockPanel LastChildFill="true" >
                <controlsToolkit:DockPanel LastChildFill="True" x:Name="docButtons" controlsToolkit:DockPanel.Dock="Bottom" >
                    <Grid x:Name="grdAdmissions" Background="White" Visibility="Visible">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <StackPanel  Grid.Row="0" Grid.ColumnSpan="6"  Orientation="Horizontal" HorizontalAlignment="Right">
                            <TextBlock  HorizontalAlignment="Right" VerticalAlignment="Center" Text="Total Admissions"  Margin="4" />
                            <TextBox x:Name="txtTotalAmissions" Margin="4" TextAlignment="Right" IsReadOnly="True" Width="100"></TextBox>
                        </StackPanel>

                        <StackPanel  Grid.Row="0" Margin="6,0" Grid.ColumnSpan="6" x:Name="ColorPanel" Orientation="Horizontal" HorizontalAlignment="Left">
                            <!--<ToggleButton  x:Name="cmdcolor" Width="25" Background="Purple" Margin="4" HorizontalAlignment="Stretch" />-->
                            <TextBox x:Name="txtcolor" IsReadOnly="True" Width="25" Height="25" Background="Blue"></TextBox>
                            <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Width="135"  Text="Cancelled Admissions" Margin="4" />
                            <TextBox x:Name="txtNonPresenceColor" IsReadOnly="True" Width="25" Height="25" Background="Blue" Visibility="Collapsed"></TextBox>
                            <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Width="135" Text="Non Pres Admission" Margin="4" Visibility="Collapsed"/>
                            <TextBox x:Name="txtDischargeColor" IsReadOnly="True" Width="25" Height="25" Background="Magenta" ></TextBox>
                            <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Width="135" Text="Discharged" Margin="4" />
                            <TextBox x:Name="txtAdmissionClosedColor" IsReadOnly="True" Width="25" Height="25" Background="Red" Visibility="Collapsed" ></TextBox>
                            <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Width="135" Text="Admission Closed" Margin="4" Visibility="Collapsed" />
                            <ToggleButton x:Name="cmdChangeAdmType" Width="150" IsEnabled="False" HorizontalAlignment="Right" Content="ChangeAdmissionType" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4" Visibility="Collapsed" ></ToggleButton>

                        </StackPanel>

                        <!--<TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Text="Total Discharge" Grid.Row="0" Grid.Column="2"  Margin="4" />
                            <TextBox x:Name="txtTotalDischarge" Margin="4" Grid.Row="0" Grid.Column="3"></TextBox>

                            <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Text="Credit Limit" Grid.Row="0" Grid.Column="4"  Margin="4" />
                            <TextBox x:Name="txtCreditLimit" Margin="4" Grid.Row="0" Grid.Column="5"></TextBox>

                            <TextBlock  HorizontalAlignment="Right" VerticalAlignment="Center" Text="Reason Of Cancellation" Grid.Row="1" Grid.Column="0"  Margin="4" />
                            <TextBox x:Name="txtReasonOfCancellation" Margin="4" Grid.Row="1" Grid.Column="1"></TextBox>

                            <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Text="Sanction Amount" Grid.Row="1" Grid.Column="2"  Margin="4" />
                            <TextBox x:Name="txtSanctionAmount" Margin="4" Grid.Row="1" Grid.Column="3"></TextBox>-->

                        <ScrollViewer Grid.Row="3" HorizontalAlignment="Left"  Grid.ColumnSpan="12" VerticalScrollBarVisibility="Disabled" HorizontalScrollBarVisibility="Auto">
                            <StackPanel Orientation="Horizontal" Visibility="Visible">
                                <ToggleButton x:Name="cmdCancelAdmission" HorizontalAlignment="Right" Width="135" Content="Cancel Admission" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4" Click="cmdCancelAdmission_Click"></ToggleButton>
                                <ToggleButton x:Name="cmdDischargeApproval" HorizontalAlignment="Right" Width="250" Content="Request For Discharge Approval" IsEnabled="True"  Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4" Click="cmdDischargeApproval_Click" Visibility="Visible">
                                </ToggleButton>
                                <ToggleButton x:Name="cmdConfirmAdmission" HorizontalAlignment="Right" Width="135" Content="Confirm Admission" IsEnabled="False"  Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4" Visibility="Collapsed"></ToggleButton>
                                <ToggleButton x:Name="cmdAdviseDischarge" Width="160" Visibility="Collapsed" HorizontalAlignment="Right" Content="Advise Discharge" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4"  ></ToggleButton>
                                <ToggleButton x:Name="cmdCompanyApprovedAmount" Width="180"  HorizontalAlignment="Right" Content="Comp Approve Amt" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4" Visibility="Collapsed"></ToggleButton>
                                <ToggleButton x:Name="cmdMedicoLegalCase" Visibility="Collapsed" Width="135"  HorizontalAlignment="Right" Content="Medico Legal Case" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4"  ></ToggleButton>

                                <!--  </StackPanel>
                       <StackPanel Orientation="Horizontal" Grid.Row="3" HorizontalAlignment="Right"  Grid.ColumnSpan="6">-->
                                <ToggleButton x:Name="cmdReferEntity" Visibility="Collapsed" HorizontalAlignment="Right" Width="Auto" IsEnabled="False"  Content="Change Ref Entity" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4"></ToggleButton>
                                <ToggleButton x:Name="cmdViewDetails" HorizontalAlignment="Right" Width="Auto" Content="View Details" Style="{StaticResource ToggleButtonStyle}" IsEnabled="False" Background="#000000" Margin="4"  Visibility="Collapsed"></ToggleButton>
                                <ToggleButton x:Name="cmdConsent" Visibility="Collapsed" HorizontalAlignment="Right" Width="70" Content="Consent" Style="{StaticResource ToggleButtonStyle}" IsEnabled="False" Background="#000000" Margin="4" Click="cmdConsent_Click"></ToggleButton>
                                <ToggleButton x:Name="cmdViewConsent" HorizontalAlignment="Right" Width="90" Content="View Consent" Style="{StaticResource ToggleButtonStyle}" IsEnabled="False" Background="#000000" Margin="4" Visibility="Collapsed"></ToggleButton>
                                <ToggleButton x:Name="cmdPrintBarCode" HorizontalAlignment="Right" Width="140" Content="Print Barcode" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4" Visibility="Collapsed"></ToggleButton>
                                <ToggleButton x:Name="cmdPrintPatientList" HorizontalAlignment="Right" Width="80" Content="Print" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4" Visibility="Collapsed"></ToggleButton>
                                <ToggleButton x:Name="cmdClose" Visibility="Collapsed" HorizontalAlignment="Right" Content="Close" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4" Click="cmdClose_Click"></ToggleButton>
                            </StackPanel>
                        </ScrollViewer>

                            

                    </Grid>
                </controlsToolkit:DockPanel>

                <controlsToolkit:DockPanel LastChildFill="True" x:Name="docSearch" controlsToolkit:DockPanel.Dock="Top" >
                    <Grid>
                        <Grid x:Name="grdSearch" Background="White" Visibility="Visible">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>

                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <TextBlock  HorizontalAlignment="Right" VerticalAlignment="Center" Text="From Date" Grid.Row="0" Grid.Column="0"  Margin="4" />
                            <controls:DatePicker x:Name="dtpFromDate" Margin="4" Grid.Row="0" Grid.Column="1" HorizontalAlignment="Stretch"  TabIndex="0"  />

                            <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Text="To Date" Grid.Row="0" Grid.Column="2"  Margin="4" />
                            <controls:DatePicker x:Name="dtpToDate" Margin="4" Grid.Row="0" Grid.Column="3" HorizontalAlignment="Stretch" TabIndex="1" />

                            <TextBlock   HorizontalAlignment="Right" VerticalAlignment="Center" Text="MR No" Grid.Row="0" Grid.Column="4" Margin="4" ></TextBlock>
                            <TextBox x:Name="txtMRNo" Margin="4" Grid.Row="0" Grid.Column="5" KeyUp="txtMRNumber_KeyUp"></TextBox>


                            <TextBlock   HorizontalAlignment="Right" VerticalAlignment="Center" Text="First Name" Grid.Row="0" Grid.Column="6" Margin="4" ></TextBlock>
                            <TextBox x:Name="txtFirstName" Margin="4" Grid.Row="0" Grid.Column="7" KeyUp="txtMRNumber_KeyUp"></TextBox>

                            <TextBlock   HorizontalAlignment="Right" VerticalAlignment="Center" Text="Last Name" Grid.Row="1" Grid.Column="0" Margin="4" ></TextBlock>
                            <TextBox x:Name="txtlastName" Margin="4" Grid.Row="1" Grid.Column="1" KeyUp="txtMRNumber_KeyUp"></TextBox>

                            <TextBlock   HorizontalAlignment="Right" VerticalAlignment="Center" Text="Old Registration No" Grid.Row="1" Grid.Column="2" Margin="4" ></TextBlock>
                            <TextBox x:Name="txtOldRegistrationNo" Margin="4" Grid.Row="1" Grid.Column="3" KeyUp="txtMRNumber_KeyUp"></TextBox>
                            
                            <Grid Grid.Row="2" Grid.Column="5" Grid.ColumnSpan="3">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <!--<TextBox x:Name="txtMRNo" Margin="4" Grid.Row="0" Grid.Column="0" KeyUp="txtMRNumber_KeyUp"></TextBox>-->
                                <StackPanel  Grid.Row="0" Grid.Column="1"  Orientation="Horizontal">
                                    <Button  HorizontalAlignment="Left"   x:Name="CmddischargePatientListSearch" Margin="4"  Click="cmdFindPatient_Click"  Visibility="Collapsed">
                                        <Button.Content>
                                            <Image Height="18" Source="/PalashDynamics;component/Icons/xmag.png" ></Image>
                                        </Button.Content>
                                    </Button>
                                    <Button VerticalAlignment="Center"  x:Name="CmdPatientSearch" Margin="4"  Visibility="Collapsed" >
                                        <Button.Content>
                                            <Image Height="18" Source="/PalashDynamics;component/Icons/previous_patient_search.jpg"></Image>
                                        </Button.Content>
                                    </Button>

                                    <Button VerticalAlignment="Center"  x:Name="cmdAdmListPastDetails" Margin="4"   Visibility="Collapsed">
                                        <Button.Content>
                                            <Image Height="18" Source="/PalashDynamics;component/Icons/patient_past_details.jpg"></Image>
                                        </Button.Content>
                                    </Button>
                                </StackPanel>
                            </Grid>

                            <TextBlock  VerticalAlignment="Center" HorizontalAlignment="Right" Text="Unit" Grid.Column="4" Grid.Row="1" Margin="4" />
                            <CustomCombo:AutoCompleteComboBox x:Name="cmbListUnit" IsEnabled="False" Grid.Row="1" Grid.Column="5" Margin="4" VerticalAlignment="Center" SelectedValuePath="ID" />

                            <TextBlock  VerticalAlignment="Center" HorizontalAlignment="Right" Text="Class" Grid.Column="6" Grid.Row="1" Margin="4" />
                            <CustomCombo:AutoCompleteComboBox x:Name="cmbAdmListClass" Grid.Row="1" Grid.Column="7" Margin="4" VerticalAlignment="Center" SelectedValuePath="ID" SelectionChanged="cmbAdmListClass_SelectionChanged" />

                            <TextBlock  VerticalAlignment="Center" HorizontalAlignment="Right" Text="Ward" Grid.Column="0" Grid.Row="2" Margin="4" />
                            <CustomCombo:AutoCompleteComboBox x:Name="cmbWard" Grid.Row="2" Grid.Column="1" Margin="4" VerticalAlignment="Center" SelectedValuePath="ID" />

                            <TextBlock  VerticalAlignment="Center" HorizontalAlignment="Right" Text="Doctor" Grid.Column="2" Grid.Row="2" Margin="4" />
                            <CustomCombo:AutoCompleteComboBox x:Name="cmbAdmListDoctor" Grid.Row="2" Grid.Column="3" Margin="4" VerticalAlignment="Center" SelectedValuePath="ID" />

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Grid.Column="5" Grid.Row="2" Grid.ColumnSpan="4" >
                                <CheckBox x:Name="chkAllPatients" Margin="4"  Content="All Patients" Checked="chkAllPatients_Checked"></CheckBox>
                                <CheckBox x:Name="chkCurrentAdmittedList" IsChecked="True" Margin="4"  Content="Current Admitted List" Checked="chkCurrentAdmittedList_Checked"></CheckBox>
                                <CheckBox x:Name="chkCancelledAdmissions" Margin="4"  Content="Cancelled Admissions" Checked="chkCancelledAdmissions_Checked" Visibility="Collapsed"></CheckBox>
                                <CheckBox x:Name="chkNonPresence" Margin="4"  Content="Non Pres Admission" Checked="chkNonPresence_Checked" Visibility="Collapsed"></CheckBox>
                                <CheckBox x:Name="chkMedicoLegalCase" Margin="4"  Content="Medico Legal Case" Checked="chkMedicoLegalCase_Checked" Visibility="Collapsed"></CheckBox>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Grid.Row="2" Grid.ColumnSpan="8" Grid.Column="0">
                                <Button x:Name="cmdSearch"  Margin="4"  HorizontalAlignment="Left" Click="cmdSearch_Click">
                                    <Button.Content>
                                        <Image Height="18" Source="/PalashDynamics;component/Icons/Search_b.JPG"></Image>
                                    </Button.Content>
                                </Button>
                                <!--<ToggleButton x:Name="btnShow" VerticalAlignment="Center" Width="100" Content="Show" Margin="4" Style="{StaticResource ToggleButtonStyle}" ></ToggleButton>-->
                                <Button x:Name="cmdPatientAdmissionReport"  Margin="4"  HorizontalAlignment="Left" Click="cmdPatientAdmissionReport_Click" ToolTipService.ToolTip="Patient Admission Report">
                                    <Button.Content>
                                        <Image Height="18" Source="/PalashDynamics;component/Icons/patient_details.jpg"></Image>
                                    </Button.Content>
                                </Button>
                                
                            </StackPanel>
                            <!--<ToggleButton x:Name="cmdSearch" HorizontalAlignment="Right"   Content="Search" Grid.Row="1" Grid.Column="3" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4"></ToggleButton>-->

                        </Grid>
                        <Grid x:Name="grdSearchforUser" Background="White" Visibility="Collapsed">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <TextBlock  HorizontalAlignment="Right" VerticalAlignment="Center" Text="From Date" Grid.Row="01" Grid.Column="0"  Margin="4" />
                            <controls:DatePicker x:Name="dtpFromDate1" Margin="4" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Stretch"  TabIndex="0"  />

                            <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Text="To Date" Grid.Row="1" Grid.Column="2"  Margin="4" />
                            <controls:DatePicker x:Name="dtpToDate1" Margin="4" Grid.Row="1" Grid.Column="3" HorizontalAlignment="Stretch" TabIndex="1"/>

                            <TextBlock   HorizontalAlignment="Right" VerticalAlignment="Center" Text="MR No" Grid.Row="1" Grid.Column="4" Margin="4" ></TextBlock>
                            <Grid Grid.Row="1" Grid.Column="5" Grid.ColumnSpan="3">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <TextBox x:Name="txtMRNo1" Margin="4" Grid.Row="0" Grid.Column="0" ></TextBox>
                                <StackPanel  Grid.Row="0" Grid.Column="1"  Orientation="Horizontal">
                                    <Button  HorizontalAlignment="Left"   x:Name="CmddischargePatientListSearch1" Margin="4"  Click="cmdFindPatient1_Click" >
                                        <Button.Content>
                                            <Image Height="18" Source="/PalashDynamics;component/Icons/xmag.png" ></Image>
                                        </Button.Content>
                                    </Button>
                                    <Button VerticalAlignment="Center"  x:Name="CmdPatientSearch1" Margin="4"  >
                                        <Button.Content>
                                            <Image Height="18" Source="/PalashDynamics;component/Icons/previous_patient_search.jpg"></Image>
                                        </Button.Content>
                                    </Button>

                                    <Button VerticalAlignment="Center"  x:Name="cmdAdmListPastDetails1" Margin="4"  >
                                        <Button.Content>
                                            <Image Height="18" Source="/PalashDynamics;component/Icons/patient_past_details.jpg"></Image>
                                        </Button.Content>
                                    </Button>
                                </StackPanel>
                            </Grid>




                            <TextBlock  VerticalAlignment="Center" FontSize="12" FontWeight="Bold" HorizontalAlignment="Right" Text="Specialization: " Grid.Column="0" Grid.Row="0" Margin="4" />
                            <TextBlock  VerticalAlignment="Center" FontSize="12" FontWeight="Bold" HorizontalAlignment="Left" Text="{Binding SpecializationDis}" Grid.Column="1" Grid.Row="0" Margin="5" />

                            <TextBlock  VerticalAlignment="Center" FontSize="12" FontWeight="Bold" HorizontalAlignment="Right" Text="Doctor: " Grid.Column="2" Grid.Row="0" Margin="4" />
                            <TextBlock  VerticalAlignment="Center" FontSize="12" FontWeight="Bold" HorizontalAlignment="Left" Text="{Binding DoctorName}" Grid.Column="3" Grid.Row="0" Margin="5" />

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Grid.Column="3" Grid.Row="2" Grid.ColumnSpan="4" >
                                <CheckBox x:Name="chkAllPatients1" Margin="4"  Content="All Patients" Checked="chkAllPatients_Checked"></CheckBox>
                                <CheckBox x:Name="chkCurrentAdmittedList1" Margin="4" IsChecked="True" Content="Current Admitted List" Checked="chkCurrentAdmittedList_Checked"></CheckBox>
                                <CheckBox x:Name="chkCancelledAdmissions1" Margin="4"  Content="Cancelled Admissions" Checked="chkCancelledAdmissions_Checked"></CheckBox>
                                <CheckBox x:Name="chkNonPresence1" Margin="4"  Content="Non Pres Admission" Checked="chkNonPresence_Checked"></CheckBox>
                                <CheckBox x:Name="chkMedicoLegalCase1" Margin="4"  Content="Medico Legal Case" Checked="chkMedicoLegalCase_Checked"></CheckBox>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Grid.Row="2" Grid.ColumnSpan="6" Grid.Column="0">
                                <Button x:Name="cmdSearch1"  Margin="4"  HorizontalAlignment="Left" Click="cmdSearch_Click">
                                    <Button.Content>
                                        <Image Height="18" Source="/PalashDynamics;component/Icons/Search_b.JPG"></Image>
                                    </Button.Content>
                                </Button>
                                <!--<ToggleButton x:Name="btnShow" VerticalAlignment="Center" Width="100" Content="Show" Margin="4" Style="{StaticResource ToggleButtonStyle}" ></ToggleButton>-->
                            </StackPanel>
                            <!--<ToggleButton x:Name="cmdSearch" HorizontalAlignment="Right"   Content="Search" Grid.Row="1" Grid.Column="3" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Margin="4"></ToggleButton>-->

                        </Grid>
                    </Grid>
                </controlsToolkit:DockPanel>

                <controlsToolkit:DockPanel LastChildFill="true">
                    <!--{Binding lblListOfPatients,Source={StaticResource locResource}}-->
                    <Border controlsToolkit:DockPanel.Dock="Top" BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                        <ContentControl VerticalAlignment="Center" Grid.ColumnSpan="4" FontSize="12" Content="List Of Patients" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                    </Border>
                    <Border BorderBrush="{StaticResource TabControlDarkerBorder}"  Margin="0,-1,0,0" BorderThickness="1" CornerRadius="0,0,3,3" Background="Transparent">
                        <controlsToolkit:DockPanel Margin="4" LastChildFill="True">
                            <!-- Loaded="frmAdmissionList_Loaded">-->
                            <data:DataPager x:Name="dgDataPager" controlsToolkit:DockPanel.Dock="Bottom" 
                                                        DisplayMode="FirstLastPreviousNext"  IsEnabled="True"                       
                                                        Source="{Binding}" 
                                                        AutoEllipsis="False" IsTotalItemCountFixed="False" />
                            <data:DataGrid x:Name="dgPatientAdmissionList" SelectionChanged="Admission_SelectionChanged" Height="Auto" Width="Auto" Margin="2" ItemsSource="{Binding}" AutoGenerateColumns="False" CanUserSortColumns="True" LoadingRow="dgPatientAdmissionList_LoadingRow">
                                <data:DataGrid.Columns>
                                    <data:DataGridTemplateColumn Header="EMR" Width="Auto" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton Content="EMR"  VerticalAlignment="Center" x:Name="hlIPDEMR"  Click="hlIPDEMR_Click"></HyperlinkButton> <!--IsEnabled="{Binding IsEnableIPDBill}"-->
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>
                                    <data:DataGridTemplateColumn Header="View IPD Bill" Width="Auto">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton Content="View IPD Bill"  VerticalAlignment="Center" x:Name="hlIPDBill"  Click="hlIPDBill_Click" IsEnabled="{Binding IsEnableIPDBill}"></HyperlinkButton>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>
                                    
                                    <data:DataGridTemplateColumn Header="View Pharmacy Bill" Width="Auto">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton Content="View Pharmacy Bill"  VerticalAlignment="Center" x:Name="hlIPDPharmacyBill"  Click="hlIPDPharmacyBill_Click" ></HyperlinkButton>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn Header="Material Consumption" Width="Auto">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton Content="Consumption" IsEnabled="{Binding IsEnableConsumption}" VerticalAlignment="Center" x:Name="hlMConsumption"  Click="hlMConsumption_Click"></HyperlinkButton>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn Header="Discharge" Width="Auto">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton Content="Discharge" IsEnabled="{Binding IsEnableDischarge}" VerticalAlignment="Center" x:Name="hlDischarge"  Click="hlDischarge_Click"></HyperlinkButton>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn Header="Print" Width="Auto" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton Content="Bill Details" VerticalAlignment="Center" x:Name="hlBillDetails" ></HyperlinkButton>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>
                                    <!--<data:DataGridTemplateColumn Header="M.R.No." CanUserSort="True" SortMemberPath="MRNo">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock  Foreground="{Binding NextapColor, Converter={StaticResource ColorConverter}}"  Margin="4" Text="{Binding MRNo, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>-->
                                    <data:DataGridTemplateColumn Header="MRNo" IsReadOnly="False" Width="Auto" CanUserSort="True" SortMemberPath="MRNo">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBox x:Name="txtMRNo" Foreground="{Binding NextapColor}" Text="{Binding Path=MRNo, Mode=TwoWay}"  IsReadOnly="True"  GotFocus="txtMRNo_GotFocus" ></TextBox>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn Header="IPDNo" Width="Auto" CanUserSort="True" SortMemberPath="IPDNO">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding IPDNO, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn Header="Patient Name"  CanUserSort="True" SortMemberPath="PatientName" Width="Auto">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding PatientName, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn Header="Baby Birth Weight"  CanUserSort="True" SortMemberPath="PatientName" Width="Auto" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding BabyWeight, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>


                                    <data:DataGridTemplateColumn   Header="Admission Date" Width="Auto" CanUserSort="True" SortMemberPath="AdmissionDate">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding AdmissionDate, Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn   Header="Doctor Name" Width="Auto" CanUserSort="True" SortMemberPath="DoctorName">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding DoctorName, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn   Header="Company Name" CanUserSort="True" SortMemberPath="CompanyName" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding CompanyName, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn   Header="Ward" Width="Auto" CanUserSort="True" SortMemberPath="Ward">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding Ward, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn   Header="Bed" Width="Auto" CanUserSort="True" SortMemberPath="Bed">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding Bed, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <!--<data:DataGridTemplateColumn   Header="Advance" Width="Auto" CanUserSort="True" SortMemberPath="Advance">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding Advance, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn   Header="Balance" Width="Auto" CanUserSort="True" SortMemberPath="Balance">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding Balance, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>-->

                                    <data:DataGridTemplateColumn Header="Reference Entity" Width="Auto"  CanUserSort="True">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding RefDoctor, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>


                                    <data:DataGridTemplateColumn Header="Sanctioned Amt" Width="Auto" CanUserSort="True" SortMemberPath="SanctionedAmount" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding SanctionedAmount, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>


                                    <data:DataGridTemplateColumn Header="CompanyApprovedAmount" Width="Auto" CanUserSort="True" SortMemberPath="CompanyApprovedAmount" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding CompanyApprovedAmount, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>



                                    <data:DataGridTemplateColumn Header="CreditLimitAmount" Width="Auto" CanUserSort="True" SortMemberPath="CreditLimitAmount" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding CreditLimitAmount, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>




                                    <data:DataGridTemplateColumn   Header="Bill Amount" Width="Auto" CanUserSort="True" SortMemberPath="BillAmount" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding BillAmount, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn Visibility="Collapsed"  Header="SelfPay" Width="Auto" CanUserSort="True" SortMemberPath="SelfPay">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding SelfPay, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn Visibility="Collapsed"  Header="CompanyPay" Width="Auto" CanUserSort="True" SortMemberPath="CompanyPay">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding CompanyPay, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn   Header="Total Balance" Width="Auto" CanUserSort="True" SortMemberPath="TotalBalance" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding TotalBalance, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn   Header="Un-Billed Charges" Width="Auto" CanUserSort="True" SortMemberPath="UnbilledCharges" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding UnbilledCharges, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn   Header="Effective Advance" Width="Auto" CanUserSort="True" SortMemberPath="EffectiveAdvance" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding EffectiveAdvance, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>


                                    <!--<data:DataGridTemplateColumn   Header="{Binding grdReferEntity,Source={StaticResource locResource}}" Visibility="Collapsed"  CanUserSort="True" SortMemberPath="RefDoctor">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor, Converter={StaticResource ColorConverter}}"  Margin="4" Text="{Binding RefDoctor, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>-->



                                    <data:DataGridTemplateColumn Visibility="Collapsed" Header="EMR" Width="Auto">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <HyperlinkButton Content="EMR" VerticalAlignment="Center" x:Name="hlEMR"  Click="hlEMR_Click" IsEnabled="{Binding IsCancelAdmEnable}"></HyperlinkButton>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn Header="Applied For Approval" Width="Auto" Visibility="Collapsed">
                                        <data:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>                                               
                                               <CheckBox x:Name="chkApproval" IsChecked="{Binding IsAppliedForApproval,Mode=TwoWay}" Visibility="{Binding IsCheckBoxVisible,Mode=OneWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" IsEnabled="False"></CheckBox>
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

                                    <data:DataGridTemplateColumn   Header="Discharge Date" Width="Auto" CanUserSort="True" SortMemberPath="DischargeDate">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Foreground="{Binding NextapColor}"  Margin="4" Text="{Binding DischargeDate, Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>
                                    
                                    <data:DataGridTemplateColumn   Header="Advance Balance" CanUserSort="True" SortMemberPath="AdvanceBalance">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Margin="4" Text="{Binding Balance, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>

<data:DataGridTemplateColumn   Header="Old Registration No" CanUserSort="True" SortMemberPath="AdvanceBalance">
                                        <data:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock Margin="4" Text="{Binding OldRegistrationNo, Mode=TwoWay}"  VerticalAlignment="Center" HorizontalAlignment="Center" ></TextBlock >
                                            </DataTemplate>
                                        </data:DataGridTemplateColumn.CellTemplate>
                                    </data:DataGridTemplateColumn>
                                </data:DataGrid.Columns>
                            </data:DataGrid>
                        </controlsToolkit:DockPanel>
                    </Border>
                </controlsToolkit:DockPanel>

            </controlsToolkit:DockPanel>
        </Border>

        <!--<Button x:Name="CancelButton" Content="Cancel" Click="CancelButton_Click" Width="75" Height="23" HorizontalAlignment="Right" Margin="0,12,0,0" Grid.Row="1" />
        <Button x:Name="OKButton" Content="OK" Click="OKButton_Click" Width="75" Height="23" HorizontalAlignment="Right" Margin="0,12,79,0" Grid.Row="1" />-->
    </Grid>
</UserControl>
