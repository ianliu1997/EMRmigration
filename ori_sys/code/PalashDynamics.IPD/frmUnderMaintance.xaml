<UserControl x:Class="PalashDynamics.IPD.frmUnderMaintance"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
           xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"       
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"
           xmlns:inputToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input.Toolkit"
           xmlns:Controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"
           xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"
           xmlns:Grp="clr-namespace:Groupbox;assembly=Groupbox" 
           xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"
           xmlns:dataInput="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input"
           xmlns:CustomCombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
           xmlns:Converter="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"
           mc:Ignorable="d"
           xmlns:navigation="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Navigation"
           xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk" 
           Width="Auto" Height="Auto" Loaded="frmBedUnderMaintenance_Loaded" >
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>

        </ResourceDictionary>
    </UserControl.Resources>
    <Grid x:Name="LayoutRoot" Background="White" >
        <Border Grid.Row="0" controlsToolkit:DockPanel.Dock="Top" BorderBrush="{StaticResource TabControlDarkerBorder}" Width="Auto"  BorderThickness="2" CornerRadius="3,3,0,0" Background="Transparent">

            <Grid Width="Auto">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition></ColumnDefinition>
                </Grid.ColumnDefinitions>

                <controlsToolkit:DockPanel Margin="4" Grid.Row="0" Width="Auto" controlsToolkit:DockPanel.Dock="Top" LastChildFill="True">
                    <controls:TabControl Padding="0"  BorderBrush="{StaticResource TabControlDarkerBorder}"  x:Name="TabBedUnder" Margin="4,-4,4,4" SelectionChanged="TabBedUnder_SelectionChanged">
                    <!--<controls:TabControl Padding="0"  BorderBrush="{StaticResource TabControlDarkerBorder}"  x:Name="TabBedUnder" Margin="4,-4,4,4">-->
                        <controls:TabItem x:Name="tabVacaentBedList" Style="{StaticResource TabItemStyle}" Width="Auto"  Padding="0" Margin="0" Header="Vacant Bed List" >
                            <ScrollViewer Background="Transparent" VerticalScrollBarVisibility="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" controlsToolkit:ScrollViewerExtensions.IsMouseWheelScrollingEnabled="True">
                                <Grid x:Name="VacantBedListLayoutRoot" Background="White" Width="Auto">
                                    <Grid.RowDefinitions>
                                        <RowDefinition></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                        <ColumnDefinition Width="187"></ColumnDefinition>
                                        <ColumnDefinition Width="44" />
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                        <ColumnDefinition Width="232*"></ColumnDefinition>
                                    </Grid.ColumnDefinitions>

                                    <controlsToolkit:DockPanel Grid.ColumnSpan="5" x:Name="docBedSelection" Width="Auto" LastChildFill="True">

                                        <Border BorderBrush="{StaticResource TabControlDarkerBorder}"   Grid.Row="1" Grid.ColumnSpan="4"  BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                                            <controlsToolkit:DockPanel LastChildFill="True">
                                                <Grid Width="Auto">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"></RowDefinition>
                                                        <RowDefinition Height="Auto"></RowDefinition>
                                                        <RowDefinition Height="Auto"></RowDefinition>
                                                        <RowDefinition Height="*"></RowDefinition>
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition ></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition ></ColumnDefinition>
                                                    </Grid.ColumnDefinitions>
                                                    <Border Grid.Row="0" BorderBrush="{StaticResource TabControlDarkerBorder}"  Grid.ColumnSpan="4"  BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                                                        <ContentControl VerticalAlignment="Center" FontSize="12" Content="Vacant bed Selection" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                                                    </Border>

                                                    <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="Class" Grid.Row="1" Grid.Column="0" Margin="4" ></TextBlock>
                                                    <CustomCombo:AutoCompleteComboBox Grid.Row="1" Grid.Column="1"   Margin="4"    x:Name="cmbClassName" VerticalAlignment="Center" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" SelectionChanged="cmbClassName_SelectionChanged" ></CustomCombo:AutoCompleteComboBox>

                                                    <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="Ward" Grid.Row="1" Grid.Column="2" Margin="4" ></TextBlock>
                                                    <CustomCombo:AutoCompleteComboBox Grid.Row="1" Grid.Column="3"   Margin="4"    x:Name="cmbWard" VerticalAlignment="Center" SelectedItemBinding="{Binding MasterListItem, Mode=OneWay}" SelectedValuePath="ID" SelectionChanged="cmbWard_SelectionChanged" ></CustomCombo:AutoCompleteComboBox>


                                                    <controls:TabControl Grid.Row="3" Grid.ColumnSpan="4" Padding="0" Width="Auto"  BorderBrush="{StaticResource TabControlDarkerBorder}"  x:Name="BedSelectionTabControl" Margin="4,-4,4,4" >
                                                        <!-- Patient Information -->
                                                        <controls:TabItem x:Name="tabCensusBedList" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Census Bed List" >
                                                            <ScrollViewer Background="Transparent" VerticalScrollBarVisibility="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" controlsToolkit:ScrollViewerExtensions.IsMouseWheelScrollingEnabled="True">
                                                                <controlsToolkit:DockPanel x:Name="docVacantBed"  LastChildFill="True">

                                                                    <Border BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                                                                        <Grid Width="Auto">
                                                                            <Grid.RowDefinitions>
                                                                                <RowDefinition Height="*"></RowDefinition>
                                                                                <RowDefinition Height="Auto"></RowDefinition>
                                                                            </Grid.RowDefinitions>

                                                                            <sdk:DataGrid x:Name="dgVacantBed" Width="Auto" ItemsSource="{Binding}" Grid.Row="0" VerticalScrollBarVisibility="Auto" AutoGenerateColumns="False" Margin="1" >
                                                                                <sdk:DataGrid.Columns>
                                                                                    <sdk:DataGridTemplateColumn Header="Select" >
                                                                                        <sdk:DataGridTemplateColumn.CellEditingTemplate>
                                                                                            <DataTemplate>
                                                                                                <CheckBox x:Name="chkStatusCensus" Tag="{Binding ID}" HorizontalAlignment="Center" IsChecked="{Binding Status,Mode=TwoWay}" Click="chkStatusCensus_Click" Margin="4" VerticalAlignment="Center"></CheckBox>
                                                                                            </DataTemplate>
                                                                                        </sdk:DataGridTemplateColumn.CellEditingTemplate>
                                                                                    </sdk:DataGridTemplateColumn>
                                                                                    <sdk:DataGridTextColumn Binding="{Binding Description, Mode=OneWay}" Header="Bed" IsReadOnly="True" Width="150"/>
                                                                                    <sdk:DataGridTextColumn Binding="{Binding BedCategoryName, Mode=OneWay}" Header="Class" IsReadOnly="True" Width="150"/>
                                                                                    <sdk:DataGridTextColumn Binding="{Binding WardName, Mode=OneWay}" Header="Ward" IsReadOnly="True" Width="150"/>
                                                                                    <sdk:DataGridTextColumn Binding="{Binding Facilities, Mode=OneWay}" Header="Facilities" IsReadOnly="True" Width="150"/>
                                                                                </sdk:DataGrid.Columns>
                                                                            </sdk:DataGrid>
                                                                            <data:DataPager  Grid.Row="1" x:Name="dataGridCensusPager" DisplayMode="FirstLastPreviousNext" IsEnabled="True" Source="{Binding}"  AutoEllipsis="False" IsTotalItemCountFixed="False"  />
                                                                        </Grid>
                                                                    </Border>
                                                                </controlsToolkit:DockPanel>
                                                            </ScrollViewer>
                                                        </controls:TabItem>
                                                        <controls:TabItem x:Name="tabNonCensusBedList" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Non Census Bed List" >
                                                            <ScrollViewer Background="Transparent" VerticalScrollBarVisibility="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" controlsToolkit:ScrollViewerExtensions.IsMouseWheelScrollingEnabled="True">
                                                                <controlsToolkit:DockPanel x:Name="docNonCensusBedList" Width="Auto" LastChildFill="True">
                                                                    <Border BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                                                                        <Grid Width="Auto">
                                                                            <Grid.RowDefinitions>
                                                                                <RowDefinition Height="*"></RowDefinition>
                                                                                <RowDefinition Height="Auto"></RowDefinition>
                                                                            </Grid.RowDefinitions>
                                                                            <sdk:DataGrid x:Name="dgNonCensusBed" Width="Auto" ItemsSource="{Binding}" Grid.Row="0" VerticalScrollBarVisibility="Auto" AutoGenerateColumns="False"   Margin="1" >
                                                                                <sdk:DataGrid.Columns>
                                                                                    <sdk:DataGridTemplateColumn Header="Select" >
                                                                                        <sdk:DataGridTemplateColumn.CellEditingTemplate>
                                                                                            <DataTemplate>
                                                                                                <CheckBox x:Name="chkStatusNonCensus" Tag="{Binding ID}" HorizontalAlignment="Center" IsChecked="{Binding Status,Mode=TwoWay}" Click="chkStatusNonCensus_Click" Margin="4"></CheckBox>
                                                                                            </DataTemplate>
                                                                                        </sdk:DataGridTemplateColumn.CellEditingTemplate>
                                                                                    </sdk:DataGridTemplateColumn>
                                                                                    <sdk:DataGridTextColumn Binding="{Binding Description, Mode=OneWay}" Header="Bed" IsReadOnly="True"/>
                                                                                    <sdk:DataGridTextColumn Binding="{Binding BedCategoryName, Mode=OneWay}" Header="Class" IsReadOnly="True"/>
                                                                                    <sdk:DataGridTextColumn Binding="{Binding WardName, Mode=OneWay}" Header="Ward" IsReadOnly="True"/>
                                                                                    <sdk:DataGridTextColumn Binding="{Binding Facilities, Mode=OneWay}" Header="Facilities" IsReadOnly="True"/>
                                                                                </sdk:DataGrid.Columns>
                                                                            </sdk:DataGrid>
                                                                            <data:DataPager x:Name="dataGridNonCensusPager" DisplayMode="FirstLastPreviousNext" Grid.Row="1"  IsEnabled="True"    Source="{Binding}"  AutoEllipsis="False" IsTotalItemCountFixed="False"  />
                                                                        </Grid>
                                                                    </Border>
                                                                </controlsToolkit:DockPanel>
                                                            </ScrollViewer>
                                                        </controls:TabItem>
                                                    </controls:TabControl>
                                                </Grid>
                                            </controlsToolkit:DockPanel>
                                        </Border>
                                    </controlsToolkit:DockPanel>
                                    <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="Date" Grid.Row="1" Grid.Column="0" Margin="4" ></TextBlock>
                                    <controls:DatePicker   x:Name="dtpDate" Margin="4,4,3,4" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Stretch"  TabIndex="0" LostFocus="dtpDate_LostFocus" Grid.ColumnSpan="2" />

                                    <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="Remark" Grid.Row="2" Grid.Column="0" Margin="4" ></TextBlock>
                                    <TextBox x:Name="txtRemark" Margin="4,4,-151,4" Grid.Column="1" Grid.ColumnSpan="4" Grid.Row="2"></TextBox>

                                    <TextBlock VerticalAlignment="Center" HorizontalAlignment="Right" Text="Expected Release Date" Grid.Row="1" Grid.Column="3" Margin="4" ></TextBlock>
                                    <controls:DatePicker   x:Name="dtpExpectedReleaseDate" Margin="4" Grid.Row="1" Grid.Column="4" HorizontalAlignment="Left" Width="250" TabIndex="0" LostFocus="dtpExpectedReleaseDate_LostFocus" />

                                </Grid>
                            </ScrollViewer>
                        </controls:TabItem>
                        <controls:TabItem x:Name="tabReleaseBed" Style="{StaticResource TabItemStyle}"  Padding="0" Margin="0" Header="Release Bed Under Maintenance" >
                            <ScrollViewer Background="Transparent" VerticalScrollBarVisibility="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" controlsToolkit:ScrollViewerExtensions.IsMouseWheelScrollingEnabled="True">
                                <Grid x:Name="ReleaseBedListLayoutRoot" Background="White" Width="Auto">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="*"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <Border Grid.Row="0" Grid.ColumnSpan="4"  BorderBrush="{StaticResource TabControlDarkerBorder}"  BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                                        <ContentControl VerticalAlignment="Center" FontSize="12" Grid.Row="2" Content="Released Bed List" Margin="-1" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                                    </Border>
                                    <Border Grid.Row="1" Grid.ColumnSpan="4"  BorderBrush="{StaticResource TabControlDarkerBorder}"  BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent">
                                        <Grid Width="Auto">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <sdk:DataGrid x:Name="dgDischargedBedList" ItemsSource="{Binding}" Width="Auto" controlsToolkit:DockPanel.Dock="Top"  Grid.Row="0" VerticalScrollBarVisibility="Auto" AutoGenerateColumns="False"   Margin="1" >
                                                <data:DataGrid.Columns>
                                                    <!--<data:DataGridTextColumn Header="Patient Name" Binding="{Binding PatientName, Mode=OneWay}" IsReadOnly="True" />-->
                                                    <data:DataGridTextColumn Header="Bed" Binding="{Binding Bed, Mode=OneWay}"  IsReadOnly="True" />
                                                    <data:DataGridTextColumn Header="Ward" Binding="{Binding Ward, Mode=OneWay}" IsReadOnly="True"/>
                                                    <data:DataGridTextColumn Binding="{Binding BedClass, Mode=OneWay}" Header="Class" IsReadOnly="True"/>
                                                    <data:DataGridTemplateColumn Header="Released" >
                                                        <data:DataGridTemplateColumn.CellEditingTemplate>
                                                            <DataTemplate>
                                                                <CheckBox x:Name="chkBedReleased" Margin="4" VerticalAlignment="Center" Tag="{Binding ID}" HorizontalAlignment="Center" IsChecked="{Binding IsReleased,Mode=TwoWay}" Click="chkBedReleased_Click"></CheckBox>
                                                            </DataTemplate>
                                                        </data:DataGridTemplateColumn.CellEditingTemplate>
                                                    </data:DataGridTemplateColumn>
                                                    <data:DataGridTemplateColumn Header="Remark" >
                                                        <data:DataGridTemplateColumn.CellEditingTemplate>
                                                            <DataTemplate>
                                                                <TextBox x:Name="txtRemark" Margin="4" Width="300" Text="{Binding ReleaseRemark, Mode=TwoWay}" VerticalAlignment="Center" />
                                                            </DataTemplate>
                                                        </data:DataGridTemplateColumn.CellEditingTemplate>
                                                    </data:DataGridTemplateColumn>
                                                </data:DataGrid.Columns>
                                            </sdk:DataGrid>
                                            <data:DataPager x:Name="dataGridDischargedBedListPager" DisplayMode="FirstLastPreviousNext" Grid.Row="1" IsEnabled="True"    Source="{Binding}"  AutoEllipsis="False" IsTotalItemCountFixed="False"  />
                                        </Grid>
                                    </Border>
                                </Grid>
                            </ScrollViewer>
                        </controls:TabItem>
                    </controls:TabControl>
                </controlsToolkit:DockPanel>

                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Width="100" >
                    <ToggleButton x:Name="cmdOk" Content="Save" Margin="4" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Checked="cmdOk_Click"/>
                    <ToggleButton x:Name="cmdCancel" Content="Cancel" Margin="4" Style="{StaticResource ToggleButtonStyle}" Background="#000000" Visibility="Collapsed"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
