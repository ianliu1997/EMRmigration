<UserControl x:Class="PalashDynamics.SearchResultLists.DisplayIPDPatientDetails"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"  
xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"
xmlns:Converter="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"
xmlns:Localization="clr-namespace:PalashDynamic.Localization;assembly=PalashDynamic.Localization"
xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Localization:Localized x:Key="locResource"></Localization:Localized>
            <Converter:DateTimeConverter x:Key="DateConverter"></Converter:DateTimeConverter>

        </ResourceDictionary>
    </UserControl.Resources>

    <Grid x:Name="LayoutRoot" Background="White" HorizontalAlignment="Stretch">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Border Grid.Column="0" x:Name="imgPhoto1" BorderBrush="{StaticResource TabControlDarkerBorder}"    BorderThickness="2" CornerRadius="3,3,0,0" Margin="4" Background="Transparent">
                <StackPanel Margin="0,0,0,0" VerticalAlignment="Center">
                    <Image  Height="250" Width="250" MaxHeight="120" MaxWidth="100" Stretch="Fill" Margin="2" x:Name="imgPhoto"></Image>
                    <!--<ToggleButton Content="Attach Photo" Style="{StaticResource ToggleButtonStyle}" Click="btnPhoto_Click"  HorizontalAlignment="Center" Margin="4,15,4,5" ></ToggleButton>-->
                </StackPanel>
            </Border>
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"></RowDefinition>
                    <RowDefinition  Height="auto"></RowDefinition>
                    <RowDefinition  Height="auto"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid x:Name="Patient" HorizontalAlignment="Stretch">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Right" Grid.Row="0" Grid.Column="0" Text="{Binding lblPatientName,StringFormat='\{0\} : ', Source={StaticResource locResource}}"  Margin="4"></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Row="0" Grid.Column="1" x:Name="txtFirstName" Text="{Binding PatientName, Mode=TwoWay}" Margin="4"></TextBlock>

                    <TextBlock VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Right"   Grid.Row="0" Grid.Column="2" Text="{Binding lblDOB, Source={StaticResource locResource},StringFormat='\{0\} : '}"  Margin="4"></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Row="0" Grid.Column="3" x:Name="txtDOB"  Text="{Binding BirthDate,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}" Margin="4"></TextBlock>

                    <TextBlock  VerticalAlignment="Center" TextAlignment="Right" Text="{Binding lblGender, StringFormat='\{0\} : ', Source={StaticResource locResource}}" Margin="4" Grid.Row="0" Grid.Column="8" FontWeight="Bold" ></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Row="0" Grid.Column="9" x:Name="txtGender" Text="{Binding Gender}" Margin="4"></TextBlock>

                    <TextBlock  VerticalAlignment="Center" TextAlignment="Right" Text="{Binding lblMaritalStatus, StringFormat='\{0\} : ', Source={StaticResource locResource}}" Margin="4"  Grid.Column="6" FontWeight="Bold" ></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Column="7" x:Name="txtMaritalStatus" Text="{Binding MaritalStatus}" Margin="4"></TextBlock>

                    <TextBlock VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Right"   Grid.Row="1" Text="{Binding lblMRNo, StringFormat='\{0\} :', Source={StaticResource locResource}}"  Margin="4"></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Row="1" Grid.Column="1" x:Name="txtMRNo" Text="{Binding MRNo}" Margin="4"></TextBlock>

                    <TextBlock VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Right" Grid.Row="1" Grid.Column="2" Text="{Binding lblEducation, StringFormat='\{0\} : ', Source={StaticResource locResource}}"  Margin="4"></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Row="1" Grid.Column="3" x:Name="txtEducation" Text="{Binding Education}" Margin="4"></TextBlock>

                    <TextBlock VerticalAlignment="Center"  TextAlignment="Right" Text="{Binding lblAge, StringFormat='\{0\} : ', Source={StaticResource locResource}}" Grid.Column="4" FontWeight="Bold" Margin="4"></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Column="5" x:Name="txtAge" Text="{Binding AgeInYearMonthDays}" Margin="4"></TextBlock>

                    <TextBlock  VerticalAlignment="Center" TextAlignment="Right" Text="{Binding lblMobileColon, Source={StaticResource locResource}}" Margin="4" Grid.Row="1" Grid.Column="6" FontWeight="Bold" ></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Row="1" Grid.Column="7" x:Name="txtContactNO1" Text="{Binding MOB}" Margin="4"></TextBlock>

                    <TextBlock VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Right" Grid.Row="1" Grid.Column="4" Text="{Binding lblReligion, StringFormat='\{0\} : ', Source={StaticResource locResource}}"  Margin="4"></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Row="1" Grid.Column="5" x:Name="txtReligion" Text="{Binding Religion}" Margin="4"></TextBlock>

                    <TextBlock VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Right" Grid.Row="2" Grid.Column="0" Text="{Binding lblAllergies,StringFormat='\{0\} : ', Source={StaticResource locResource}}"  Margin="4"></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="9" x:Name="txtAllergies" Text="{Binding Allergies, Mode=TwoWay}" Foreground="Red" Margin="4"></TextBlock>

                    <TextBlock VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Right" Grid.Row="2" Grid.Column="2" Text="Weight"  Margin="4"></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Row="2" Grid.Column="3" x:Name="txtWeight" Text="{Binding Weight, StringFormat=0.00}" Margin="4"></TextBlock>

                    <TextBlock VerticalAlignment="Center" FontWeight="Bold" TextAlignment="Right" Grid.Row="2" Grid.Column="4" Text="BMI"  Margin="4"></TextBlock>
                    <TextBlock  VerticalAlignment="Center" Grid.Row="2" Grid.Column="5" x:Name="txtBMI" Text="{Binding BMI, StringFormat=0.00}" Margin="4"></TextBlock>

                </Grid>

                <Grid Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Name="EncounterGrid">
                    <toolkit:DockPanel  LastChildFill="True" >
                        <Border toolkit:DockPanel.Dock="Top" BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0" Background="Transparent" Width="auto">
                            <ContentControl VerticalAlignment="Center"  FontSize="11" Content="{Binding lblEncounters,Source={StaticResource locResource}}" Margin="-1" Style="{StaticResource Header}" />
                        </Border>
                        <data:DataPager x:Name="pgrEncounter" toolkit:DockPanel.Dock="Bottom"
                                                        DisplayMode="FirstLastPreviousNext"  IsEnabled="True"                       
                                                        Source="{Binding}" 
                                                        AutoEllipsis="False" IsTotalItemCountFixed="False" />
                        <data:DataGrid x:Name="dgEncounterList" VerticalAlignment="Stretch" MinHeight="100" MaxHeight="100" HorizontalContentAlignment="Stretch" HorizontalAlignment="Stretch" ItemsSource="{Binding}" AutoGenerateColumns="False" SelectionChanged="dgEncounterList_SelectionChanged" >
                            <!--SelectionChanged="dgEncounterPagerList_SelectionChanged"-->
                            <data:DataGrid.Columns>
                                <data:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblDate,Source={StaticResource locResource}}" Binding="{Binding Date,Mode=OneWay, Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}" IsReadOnly="True"/>
                                <data:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblOPDIPD,Source={StaticResource locResource}}" Binding="{Binding IPDOPD, Mode=OneWay}"  IsReadOnly="True" />
                                <data:DataGridTextColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblDoctorName,Source={StaticResource locResource}}" Binding="{Binding DoctorName, Mode=OneWay}" IsReadOnly="True" />
                                <data:DataGridTemplateColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblAllergies,Source={StaticResource locResource}}" IsReadOnly="False">
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Image x:Name="imgAl" Source="/EMR;component/Icons/tick.png" Height="20" Width="20" Visibility="{Binding IsAllergy,  Mode=TwoWay}"></Image>
                                                <Image x:Name="imgW" Source="/EMR;component/Icons/error.png" Height="20" Width="20" Visibility="{Binding IsNonAllergy, Mode=TwoWay}"></Image>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>

                                <data:DataGridTemplateColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblDiagnosis,Source={StaticResource locResource}}" IsReadOnly="False" >
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Image x:Name="imgR" Source="/EMR;component/Icons/tick.png" Height="20" Width="20" Visibility="{Binding IsDiagnosisRight}"></Image>
                                                <Image x:Name="imgW" Source="/EMR;component/Icons/error.png" Height="20" Width="20" Visibility="{Binding IsDiagnosisWrong}"></Image>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>

                                <data:DataGridTemplateColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding btnLab,Source={StaticResource locResource}}" IsReadOnly="False" >
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Image x:Name="imgR" Source="/EMR;component/Icons/tick.png" Height="20" Width="20" Visibility="{Binding IsLaboratoryRight}"></Image>
                                                <Image x:Name="imgW" Source="/EMR;component/Icons/error.png" Height="20" Width="20" Visibility="{Binding IsLaboratoryWrong}"></Image>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                                <data:DataGridTemplateColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding btnRadiology,Source={StaticResource locResource}}" IsReadOnly="False" >
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Image x:Name="imgR" Source="/EMR;component/Icons/tick.png" Height="20" Width="20" Visibility="{Binding IsRadiologyRight}"></Image>
                                                <Image x:Name="imgW" Source="/EMR;component/Icons/error.png" Height="20" Width="20" Visibility="{Binding IsRadiologyWrong}"></Image>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                                <!--<data:DataGridTemplateColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding btnDiagnostik,Source={StaticResource locResource}}" IsReadOnly="False" >
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Image x:Name="imgR" Source="/EMR;component/Icons/tick.png" Height="20" Width="20" Visibility="{Binding IsDiagnostickRight}"></Image>
                                                <Image x:Name="imgW" Source="/EMR;component/Icons/error.png" Height="20" Width="20" Visibility="{Binding IsDiagnostickWrong}"></Image>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>-->
                                
                                <data:DataGridTemplateColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblPrescription,Source={StaticResource locResource}}" IsReadOnly="False" >
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Image x:Name="imgR" Source="/EMR;component/Icons/tick.png" Height="20" Width="20" Visibility="{Binding IsPrescriptionRight}"></Image>
                                                <Image x:Name="imgW" Source="/EMR;component/Icons/error.png" Height="20" Width="20" Visibility="{Binding IsPrescriptionwrong}"></Image>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                                <data:DataGridTemplateColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblCompoundPrescription,Source={StaticResource locResource}}" IsReadOnly="False" Visibility="Collapsed" >
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Image x:Name="imgR" Source="/EMR;component/Icons/tick.png" Height="20" Width="20" Visibility="{Binding IsCompdPrescRight}"></Image>
                                                <Image x:Name="imgW" Source="/EMR;component/Icons/error.png" Height="20" Width="20" Visibility="{Binding IsCompdPrescWrong}"></Image>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                                <data:DataGridTemplateColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblProcedure,Source={StaticResource locResource}}" IsReadOnly="False">
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Image x:Name="imgR" Source="/EMR;component/Icons/tick.png" Height="20" Width="20" Visibility="{Binding IsProcedure}"></Image>
                                                <Image x:Name="imgW" Source="/EMR;component/Icons/error.png" Height="20" Width="20" Visibility="{Binding IsNonProcedure}"></Image>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                                <data:DataGridTemplateColumn Localization:DataGridColumnHelper.HeaderBinding="{Binding lblDMS,Source={StaticResource locResource}}" IsReadOnly="False" Visibility="Collapsed" >
                                    <data:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Image x:Name="imgR" Source="/EMR;component/Icons/tick.png" Height="20" Width="20" Visibility="{Binding IsDocumentRight}"></Image>
                                                <Image x:Name="imgW" Source="/EMR;component/Icons/error.png" Height="20" Width="20" Visibility="{Binding IsDocumentwrong}"></Image>
                                            </Grid>
                                        </DataTemplate>
                                    </data:DataGridTemplateColumn.CellTemplate>
                                </data:DataGridTemplateColumn>
                            </data:DataGrid.Columns>
                        </data:DataGrid>
                    </toolkit:DockPanel>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</UserControl>
