<controls:ChildWindow x:Class="CIMS.Forms.PhotoWindow"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
                      xmlns:Grp="clr-namespace:Groupbox;assembly=Groupbox" 
    xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"
           Width="300" Height="450" 
           Title="" HasCloseButton="False" Background="White">
    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>

    <Grid x:Name="LayoutRoot" Margin="0"  Background="White">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition  Height="Auto"  />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

       

        <Border x:Name="borderimage" BorderBrush="{StaticResource TabControlDarkerBorder}" Grid.Row="1"  Margin="2" controlsToolkit:DockPanel.Dock="Top" BorderThickness="1" CornerRadius="0" Background="Transparent" >
            <Image  Margin="4" Source="/PalashDynamics;component/Icons/nopic.jpg" Width="250" Height="250" x:Name="imgPhoto" ></Image>

         
            
        </Border>

        <Border BorderBrush="{StaticResource TabControlDarkerBorder}" Grid.Row="1"  Margin="2" controlsToolkit:DockPanel.Dock="Top" BorderThickness="1" CornerRadius="0" Background="Transparent" x:Name="borderwebcap" Visibility="Collapsed">
            <Border.Effect>
                <DropShadowEffect Color="White" Direction="0" ShadowDepth="0" BlurRadius="25"/>
            </Border.Effect>
            <Rectangle x:Name="WebcamCapture" Width="250" Height="225" Fill="White"/>
        </Border>
        

        <TextBlock Margin="4" HorizontalAlignment="Left" Foreground="Black" Text="Available VIDEO Sources" Grid.Column="0" Grid.Row="2" />
        
        <ListBox x:Name="VideoSources" Grid.Row="3" Grid.Column="0">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding FriendlyName}" />
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <StackPanel Orientation="Horizontal" Grid.Row="4" Margin="4" HorizontalAlignment="Center">
            <Button Content="Start Capture" Margin="4" x:Name="cmdStartCapture" Click="cmdStartCapture_Click"  Grid.Row="3"></Button>
            <Button Content="Take Snap" Margin="2,4" x:Name="cmdCaptureImage" Click="cmdCaptureImage_Click" Grid.Row="3"></Button>
            <Button Content="Stop Capture" Margin="2,4" x:Name="cmdStopCapture" Click="cmdStopCapture_Click"  Grid.Row="3"></Button>
        </StackPanel>
        <Button Content="Browse" Margin="4" x:Name="cmdBrowse" Click="cmdBrowse_Click" Grid.Row="5" ></Button>

        <!--<Button x:Name="CancelButton" Content="Cancel" Click="CancelButton_Click" Width="75" Height="23" HorizontalAlignment="Right" Margin="0,12,0,0" Grid.Row="1" />
        <Button x:Name="OKButton" Content="OK" Click="OKButton_Click" Width="75" Height="23" HorizontalAlignment="Right" Margin="0,12,79,0" Grid.Row="1" />-->
        <StackPanel Grid.Row="6" x:Name="Footer" Orientation="Horizontal" Grid.ColumnSpan="7"  VerticalAlignment="Center"   Margin="5" HorizontalAlignment="Right" Background="Transparent">
            <StackPanel x:Name="SaveCommandPanel" Orientation="Horizontal"  Margin="0,0,0,0">
                <ToggleButton x:Name="CmdOK" Height="25" Grid.Row="4" Content="OK" MinWidth="50"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="OKButton_Click" />
                <ToggleButton x:Name="CmdCancele"  Height="25" Grid.Row="4" Content="Cancel" MinWidth="50" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CancelButton_Click" />
            </StackPanel>
        </StackPanel>
    </Grid>
</controls:ChildWindow>