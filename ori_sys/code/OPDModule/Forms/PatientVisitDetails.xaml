<controls:ChildWindow x:Class="OPDModule.Forms.PatientVisitDetails"
          
     xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"  
                      xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"  
                      xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"   
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
    xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
    xmlns:dataInput="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input"
    xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"
    xmlns:Grp="clr-namespace:Groupbox;assembly=Groupbox" 
    xmlns:inputcombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox" 
                      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
     xmlns:Converter="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"
    Width="500" Height="500" Title="Patient Visit and Appointment Details" Loaded="ChildWindow_Loaded">

    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Converter:DateTimeConverter x:Key="DateConverter"></Converter:DateTimeConverter>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>
    
    <Grid x:Name="LayoutRoot" Margin="2" Background="White">
       

            <controlsToolkit:DockPanel Name="docMain" LastChildFill="True" controlsToolkit:DockPanel.Dock= "Top" >


                <controlsToolkit:DockPanel x:Name="docFooter" controlsToolkit:DockPanel.Dock="Bottom" >
                    <controlsToolkit:DockPanel Margin="2" controlsToolkit:DockPanel.Dock="Top">
                        <StackPanel Grid.Row="3" x:Name="Footer" Orientation="Horizontal" VerticalAlignment="Center"   Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                            <StackPanel x:Name="SaveCommandPanel" Orientation="Horizontal"  Margin="0,0,0,0">
                                <ToggleButton  x:Name="cmdOK"  Grid.Row="4" Content="OK" MinWidth="50" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch"  Visibility="Collapsed" Style="{StaticResource ToggleButtonStyle}" />
                            <ToggleButton  x:Name="cmdClose"  Grid.Row="4" Content="Cancel" MinWidth="50" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch"  Visibility="Visible"  Style="{StaticResource ToggleButtonStyle}" Click="cmdClose_Click"/>
                            </StackPanel>
                        </StackPanel>

                    </controlsToolkit:DockPanel>
                </controlsToolkit:DockPanel>

                <controlsToolkit:DockPanel x:Name="docHeader" controlsToolkit:DockPanel.Dock= "Top" >
                <controls:TabControl Grid.Row="0" Padding="0"  x:Name="tabControl2" Margin="4,-4,4,4" SelectionChanged="tabControl1_SelectionChanged" >
                    <controls:TabItem  x:Name="tabPast" Style="{StaticResource TabItemStyle}" Padding="0" Margin="0" Header="Past Visits">
                    <Border   BorderBrush="#FF788678"   BorderThickness="1" CornerRadius="3,3,3,3" Margin="4">
                        <Grid x:Name="LayOutRoot2" Background="White">
                        <data:DataGrid   x:Name="dgPastVisitList" Margin="2"  AutoGenerateColumns="False"  ItemsSource="{Binding}" IsReadOnly="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                <data:DataGrid.Columns>
                                <data:DataGridTextColumn Binding="{Binding PastVisitDate}"  Header="Visit Date" />
                                <data:DataGridTextColumn Binding="{Binding PastVisitInTime}" Header="Visit Time"/>
                                <data:DataGridTextColumn Binding="{Binding VisitType}" Header="Visit Type"/>
                                <data:DataGridTextColumn Binding="{Binding Doctor}" Header="Doctor Name" />
                                <data:DataGridTextColumn Binding="{Binding Department}" Header="Department"/>
                                <data:DataGridTextColumn Binding="{Binding Unit}" Header="Clinic"/>

                            </data:DataGrid.Columns>
                            </data:DataGrid>

                        </Grid>
                    </Border>
                    </controls:TabItem>
                    <controls:TabItem x:Name="tabPastAppointment" Style="{StaticResource TabItemStyle}" Padding="0" Margin="0" Header="Past Appointments">
                        <Border   BorderBrush="#FF788678"   BorderThickness="1" CornerRadius="3,3,3,3" Margin="4">
                            <Grid x:Name="LayOutRoot3" Background="White">
                                <data:DataGrid   x:Name="dgPastAppointmentList" Margin="2"  AutoGenerateColumns="False"  ItemsSource="{Binding}" IsReadOnly="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                    <data:DataGrid.Columns>
                                        <data:DataGridTextColumn Binding="{Binding PastAppointmentDate,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}"  Header="Appointment Date" />
                                        <data:DataGridTextColumn Binding="{Binding PastAppointmentFromTime}" Header="Appointment Time"/>
                                        <data:DataGridTextColumn Binding="{Binding AppointmentReason}" Header="Reason of Appointment"/>
                                        <data:DataGridTextColumn Binding="{Binding DoctorName}" Header="Doctor Name" />
                                        <data:DataGridTextColumn Binding="{Binding Description}" Header="Department"/>
                                        <data:DataGridTextColumn Binding="{Binding UnitName}" Header="Clinic"/>
                                        <!--<data:DataGridCheckBoxColumn Binding="{Binding Visited}" Header="Visited"/>-->

                                    </data:DataGrid.Columns>
                                </data:DataGrid>

                            </Grid>
                        </Border>
                    </controls:TabItem>
                    <controls:TabItem x:Name="tabFutureAppointment" Style="{StaticResource TabItemStyle}" Padding="0" Margin="0" Header="Future Appointments">
                        <Grid x:Name="LayOutRoot4" Background="White">
                            <data:DataGrid   x:Name="dgFutureAppointmentList" Margin="2"  AutoGenerateColumns="False"  ItemsSource="{Binding}" IsReadOnly="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                <data:DataGrid.Columns>
                                    <data:DataGridTextColumn Binding="{Binding FutureAppointmentDate, Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}"  Header="Appointment Date"/>
                                    <data:DataGridTextColumn Binding="{Binding FutureAppointmentFromTime}" Header=" Appointment Time"/>
                                    <data:DataGridTextColumn Binding="{Binding AppointmentReason}" Header="Reason of Appointment"/>
                                    <data:DataGridTextColumn Binding="{Binding DoctorName}" Header="Doctor Name" />
                                    <data:DataGridTextColumn Binding="{Binding Description}" Header="Department"/>
                                    <data:DataGridTextColumn Binding="{Binding UnitName}" Header="Clinic"/>
                                 

                                </data:DataGrid.Columns>
                            </data:DataGrid>

                        </Grid>
                    </controls:TabItem>
                </controls:TabControl>
                    
                    
                </controlsToolkit:DockPanel>

           

        </controlsToolkit:DockPanel>
     


    </Grid>
</controls:ChildWindow>