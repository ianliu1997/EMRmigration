<controls:ChildWindow x:Class="OPDModule.Forms.frmMultiBatchChildWinForCS"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters" 
           Width="Auto" Height="Auto" Title="Available Batches">

    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <local:DateTimeConverter x:Key="DateConverter" />
        </ResourceDictionary>
    </controls:ChildWindow.Resources>

    <Grid x:Name="LayoutRoot" Background="White" Margin="2">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"></ColumnDefinition>
                <ColumnDefinition Width="100"></ColumnDefinition>
                <ColumnDefinition Width="100"></ColumnDefinition>
                <ColumnDefinition Width="100"></ColumnDefinition>
                <ColumnDefinition Width="100"></ColumnDefinition>
                <ColumnDefinition Width="100"></ColumnDefinition>
                <ColumnDefinition Width="100"></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="Expiry Date" Margin="4"  Grid.Column="0"></TextBlock>
            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="Batch Code" Margin="4"  Grid.Column="1"></TextBlock>
            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="Is Free" Margin="4"  Grid.Column="2"></TextBlock>
            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="Available Qty" Margin="4"  Grid.Column="3"></TextBlock>
            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="UOM" Margin="4"  Grid.Column="4"></TextBlock>
            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="Purchase Rate" Margin="4"  Grid.Column="5"></TextBlock>
            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="MRP" Margin="4"  Grid.Column="6"></TextBlock>
            <!--<TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="VAT Percentage" Margin="4"  Grid.Column="6"></TextBlock>-->


        </Grid>
        <ListBox x:Name="ItemBatches" Grid.Row="1" KeyDown="ItemBatches_KeyDown">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"></ColumnDefinition>
                            <ColumnDefinition Width="100"></ColumnDefinition>
                            <ColumnDefinition Width="100"></ColumnDefinition>
                            <ColumnDefinition Width="100"></ColumnDefinition>
                            <ColumnDefinition Width="100"></ColumnDefinition>
                            <ColumnDefinition Width="100"></ColumnDefinition>
                            <ColumnDefinition Width="100"></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="{Binding Path=ExpiryDate,Converter={StaticResource DateConverter},ConverterParameter={StaticResource ExpiryDateDisplayFormat} ,Mode=OneWay}" Margin="4"  Grid.Column="0"></TextBlock>
                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="{Binding Path=BatchCode,Mode=OneWay}" Margin="4"  Grid.Column="1"></TextBlock>
                        <CheckBox Margin="10,2,10,2"  x:Name="chkItemIsFree" IsTabStop="True" IsChecked="{Binding IsFreeItem,Mode=TwoWay}" VerticalAlignment="Center" HorizontalAlignment="Center" IsEnabled="False" Grid.Column="2" ></CheckBox >
                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="{Binding Path=AvailableStock,StringFormat=0.00,Mode=OneWay}" Margin="4"  Grid.Column="3"></TextBlock>
                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="{Binding Path=StockingUOM,Mode=OneWay}" Margin="4"  Grid.Column="4"></TextBlock>
                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="{Binding Path=PurchaseRate,StringFormat=0.00,Mode=OneWay}" Margin="4"  Grid.Column="5"></TextBlock>
                        <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="{Binding Path=MRP,StringFormat=0.00,Mode=OneWay}" Margin="4"  Grid.Column="6"></TextBlock>
                        <!--<TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="{Binding Path=VATPerc,StringFormat=0.000,Mode=OneWay}" Margin="4"  Grid.Column="3"></TextBlock>-->

                    </Grid>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>

</controls:ChildWindow>