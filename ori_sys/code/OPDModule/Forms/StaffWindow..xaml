<controls:ChildWindow x:Class="OPDModule.Forms.StaffWindow"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           xmlns:dataInput="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input"
           xmlns:input="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Input"
           xmlns:inputcombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox" 
           xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
           xmlns:controlsToolkit="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"
           xmlns:Converter="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"
           xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"  
           Width="600" Height="400" 
           Loaded="StaffWindow_Loaded" >
    <!--Title="Staff Window"-->

    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Converter:DateTimeConverter x:Key="DateConverter"></Converter:DateTimeConverter>
        </ResourceDictionary>
    </controls:ChildWindow.Resources>


    <Grid x:Name="LayoutRoot" Margin="2" Background="White" Width="Auto">
        <controlsToolkit:DockPanel x:Name="docStaff"  LastChildFill="True" Grid.Row="0" controlsToolkit:DockPanel.Dock="Top">
            <controlsToolkit:DockPanel x:Name="docFooter" controlsToolkit:DockPanel.Dock="Bottom" >
                <controlsToolkit:DockPanel Margin="2" controlsToolkit:DockPanel.Dock="Top">
                    <StackPanel Grid.Row="3" x:Name="Footer" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                        <StackPanel x:Name="SaveCommandPanel" Orientation="Horizontal"  Margin="0,0,0,0">

                            <ToggleButton  x:Name="cmdOK"  Grid.Row="4" Content="OK" MinWidth="50"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch"  Style="{StaticResource ToggleButtonStyle}" Click="cmdOK_Click" TabIndex="8"/>
                            <ToggleButton x:Name="CmdClose"  Grid.Row="4" Content="Cancel" MinWidth="50" Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdClose_Click" TabIndex="9" />
                        </StackPanel>
                    </StackPanel>
                </controlsToolkit:DockPanel>

            </controlsToolkit:DockPanel>

            <controlsToolkit:DockPanel x:Name="DockTop" controlsToolkit:DockPanel.Dock="Top" HorizontalAlignment="Stretch">
                <Grid x:Name="LayoutRoot2" Background="White" Margin="4" HorizontalAlignment="Stretch"  >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"></RowDefinition>
                        <RowDefinition Height="Auto"></RowDefinition>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center"  Margin="4" Text="First Name"  Grid.Row="0" Grid.Column="0"/>
                    <TextBox x:Name="txtFirstName1" Grid.Row="0" Grid.Column="1"  Margin="4" HorizontalAlignment="Stretch"  MaxLength="50" Height="25" TabIndex="1" LostFocus="txtFirstName1_LostFocus" KeyDown="TextName_KeyDown" TextChanged="txtName_TextChanged"></TextBox>

                    <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center"  Margin="4" Text="Last Name"  Grid.Row="0" Grid.Column="2"/>
                    <TextBox x:Name="txtLastName2"  Grid.Row="0" Grid.Column="3"  Margin="4" HorizontalAlignment="Stretch"  MaxLength="50" Height="25" TabIndex="2" LostFocus="txtLastName2_LostFocus" KeyDown="TextName_KeyDown" TextChanged="txtName_TextChanged"></TextBox>

                    <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center"  Margin="4" Text="Designation"  Grid.Row="0" Grid.Column="4"/>
                    <inputcombo:AutoCompleteComboBox x:Name="cmbDesignation" SelectedItemBinding="{Binding MasterListItem, Mode=TwoWay}" SelectedValuePath="ID" Grid.Row="0" Grid.Column="5"  Margin="4" HorizontalAlignment="Stretch"   Height="25" TabIndex="3"></inputcombo:AutoCompleteComboBox>

                    <Button x:Name="cmdSearch" Click="cmdSearch_Click" Margin="4" ToolTipService.ToolTip="Search Doctor"  Grid.Row="0" Grid.Column="6" TabIndex="4">
                         <Image Source="/PalashDynamics;component/Icons/xmag.png" Margin="2" Width="20" ></Image>
                    </Button>



                </Grid>
            </controlsToolkit:DockPanel>

            <StackPanel controlsToolkit:DockPanel.Dock="Top">
                <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0"  Background="Transparent">
                    <ContentControl VerticalAlignment="Center" FontSize="12" Content="List Of Staff Details" Margin="-1" Style="{StaticResource Header}" HorizontalAlignment="Stretch" />
                </Border>
            </StackPanel>

            <data:DataGrid  x:Name="dgStaffList" AutoGenerateColumns="False" ItemsSource="{Binding}" VerticalScrollBarVisibility="Visible" IsReadOnly="True" Margin="2" HorizontalAlignment="Stretch" TabIndex="5" SelectionChanged="dgStaffList_SelectionChanged">
                <data:DataGrid.Columns>
                    <data:DataGridTextColumn Binding="{Binding StaffName}" Header="Staff Name" />
                    <data:DataGridTextColumn Binding="{Binding Designation}" Header="Designation" />
                    <data:DataGridTextColumn Binding="{Binding DOB,Converter={StaticResource DateConverter},ConverterParameter={StaticResource GridDateDisplayFormat}}" Header="Date Of Birth" />



                </data:DataGrid.Columns>
            </data:DataGrid>


        </controlsToolkit:DockPanel>
    </Grid>
</controls:ChildWindow>