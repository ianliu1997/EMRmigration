<controls:ChildWindow xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"  xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"  x:Class="PalashDynamics.Pharmacy.ItemSupplier"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
           xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
           Width="500" Height="500"  Loaded="ChildWindow_Loaded"
                      xmlns:Grp="clr-namespace:Groupbox;assembly=Groupbox"
                        xmlns:inputcombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
                    xmlns:local="clr-namespace:PalashDynamics.Converters;assembly=PalashDynamics.Converters"  
           Title="Item Supplier">
    <controls:ChildWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
                
            </ResourceDictionary.MergedDictionaries>
            <local:IDToDescriptionConvertor  x:Key="IDToDescription" ></local:IDToDescriptionConvertor>
        </ResourceDictionary>
        
    </controls:ChildWindow.Resources>

    
    <Grid>
        <toolkit:DockPanel x:Name="MainDock" LastChildFill="True" toolkit:DockPanel.Dock="Top">
            <Border BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0" Margin="4,4,4,4"  Background="Transparent">
                <toolkit:DockPanel toolkit:DockPanel.Dock="Top" LastChildFill="True">
                    <toolkit:DockPanel toolkit:DockPanel.Dock="Bottom" Margin="4">
                        <StackPanel x:Name="FooterBackPanel" Orientation="Horizontal"    Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                            <StackPanel x:Name="SaveCommandPanelBackPanel" Orientation="Horizontal"  Margin="0,0,0,0">
                                <ToggleButton x:Name="OKButton" Click="OKButton_Click"  Content="Save"   Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible"  />
                                <ToggleButton x:Name="CloseButton" Click="CancelButton_Click"  Content="Close"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible"   />
                            </StackPanel>
                        </StackPanel>
                    </toolkit:DockPanel>

                    <toolkit:DockPanel toolkit:DockPanel.Dock="Top" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="4">
                     
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto"></RowDefinition>
                                    <RowDefinition Height="auto"></RowDefinition>
                                    <RowDefinition Height="auto"></RowDefinition>
                                    <RowDefinition Height="auto"></RowDefinition>
                                    <RowDefinition Height="auto"></RowDefinition>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto" ></ColumnDefinition>
                                    <ColumnDefinition ></ColumnDefinition>
                                    <ColumnDefinition ></ColumnDefinition>
                                    <ColumnDefinition ></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Item Name" Grid.Column="0" Grid.Row="0" Margin="4"></TextBlock>


                                <TextBlock x:Name="lblItemName"   VerticalAlignment="Center" HorizontalAlignment="Stretch" Grid.Column="1" Grid.Row="0" Margin="4"></TextBlock>
                               
                               
                                
                            </Grid>
                       
                    </toolkit:DockPanel>
                    <toolkit:DockPanel toolkit:DockPanel.Dock="Top" Margin="4">
                        <Grp:GroupBox Header="Apply Supplier">
                            <sdk:DataGrid ItemsSource="{Binding ItemSupplierList,Mode=TwoWay}" Visibility="Visible"  SelectionChanged="dgItemSupplier_SelectionChanged"      HorizontalAlignment="Stretch"  VerticalAlignment="Stretch" ScrollViewer.VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible"  AutoGenerateColumns="false" x:Name="dgItemSupplier"     >
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTemplateColumn   >
                                        <sdk:DataGridTemplateColumn.CellEditingTemplate >
                                            <DataTemplate>
                                                <CheckBox x:Name="chkStatus" Margin="4" HorizontalAlignment="Center" Click="chkStatus_Click"   Tag="{Binding ID}"  IsChecked="{Binding status,Mode=TwoWay}"></CheckBox>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellEditingTemplate>
                                    </sdk:DataGridTemplateColumn>


                                    <sdk:DataGridTextColumn IsReadOnly="True" Binding="{Binding SupplierName}" Header="Supplier" />

                                    <sdk:DataGridTemplateColumn Header="H.P.Level"  >

                                        <sdk:DataGridTemplateColumn.CellTemplate >
                                            <DataTemplate>
                                                <TextBlock 
                                                                        Text="{Binding SelectedHPLevel.ID, 
                                                                        Converter={StaticResource IDToDescription}}" 
                                                                        Margin="2" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" />
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>

                                        <sdk:DataGridTemplateColumn.CellEditingTemplate >
                                            <DataTemplate >
                                                <!--<ComboBox x:Name="cboHPLevel" DisplayMemberPath="{Binding SelectedHPLevel.Description}"    SelectedItem="{Binding SelectedHPLevel.ID,Mode=TwoWay}" SelectionChanged="cboHPLevel_SelectionChanged_1"   ItemsSource="{Binding HPLevelList}" SelectedValuePath="ID"  ></ComboBox>-->
                                                <inputcombo:AutoCompleteComboBox x:Name="cboHPLevel" SelectionChanged="cboHPLevel_SelectionChanged"  SelectedValue="{Binding SelectedHPLevel.ID}" SelectedItem="{Binding SelectedHPLevel,Mode=TwoWay}"       ItemsSource="{Binding HPLevelList}"     Margin="4" HorizontalAlignment="Stretch"><!--SelectedValuePath="ID" SelectedItem="{Binding SelectedHPLevel.Description,Mode=TwoWay}" -->

                                                </inputcombo:AutoCompleteComboBox>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellEditingTemplate>
                                    </sdk:DataGridTemplateColumn>

                                    <!--<sdk:DataGridTextColumn IsReadOnly="True" Visibility="Collapsed" Binding="{Binding SupplierID}" />-->

                                    <sdk:DataGridTextColumn IsReadOnly="True" Visibility="Collapsed" Binding="{Binding ID}" />
                                    <!--<sdk:DataGridTextColumn IsReadOnly="True" Visibility="Collapsed" Binding="{Binding ItemID}" />-->



                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </Grp:GroupBox>
                    </toolkit:DockPanel>
                </toolkit:DockPanel>
            </Border>
        </toolkit:DockPanel>
    </Grid>

</controls:ChildWindow>