<UserControl xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"  xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"  x:Class="PalashDynamics.Pharmacy.ReturnFromClinic"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:Grp="clr-namespace:Groupbox;assembly=Groupbox" 
    xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"
    xmlns:inputcombo="clr-namespace:PalashDynamics.Controls;assembly=PalashDynamics.Controls.AutoCompleteComboBox"
    xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"             
    mc:Ignorable="d" Width="Auto" Height="Auto" Loaded="UserControl_Loaded" >

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/PalashDynamics;component/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"></RowDefinition>
            <RowDefinition Height="auto"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid  x:Name="FrontPanel" Grid.Row="0">

            <toolkit:DockPanel  LastChildFill="True" x:Name="DockMain" toolkit:DockPanel.Dock="Top">
                <!--<toolkit:DockPanel x:Name="DockHeading" toolkit:DockPanel.Dock="Top">
                    <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0" Margin="4,4,4,4"  Background="Transparent">
                        <ContentControl VerticalAlignment="Center" FontSize="12" Content="Return From Clinic" Margin="2,2,2,2" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                    </Border>
                </toolkit:DockPanel>-->
               
                <toolkit:DockPanel x:Name="DockBottom" toolkit:DockPanel.Dock="Bottom">
                    <StackPanel x:Name="Footer" Orientation="Horizontal"    Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                        <StackPanel x:Name="SaveCommandPanel" Orientation="Horizontal"  Margin="0,0,0,0">
                            <ToggleButton x:Name="CmdNew"  Content="New"   Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="cmdNew_Click"  />
                            <ToggleButton x:Name="CmdPrint"  Content="Print"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible"  />
                            <ToggleButton x:Name="CmdCancel"  Content="Cancel"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible"  />
                        </StackPanel>
                    </StackPanel>
                </toolkit:DockPanel>
                
                <toolkit:DockPanel x:Name="DockContent" toolkit:DockPanel.Dock="Top">
                    <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0" Margin="4,4,4,4"  Background="Transparent">
                        <toolkit:DockPanel LastChildFill="True">
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Top">
                                <Grid HorizontalAlignment="Stretch">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <Grp:GroupBox x:Name="grpDates" Header="Dates" Margin="4"  Grid.Column="0" >

                                        <Grid HorizontalAlignment="Stretch">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="auto"></RowDefinition>
                                                <RowDefinition Height="auto"></RowDefinition>
                                                <RowDefinition Height="auto"></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="auto"></ColumnDefinition>
                                                <ColumnDefinition ></ColumnDefinition>
                                            </Grid.ColumnDefinitions>
                                            <CheckBox  Margin="4" Grid.ColumnSpan="2" VerticalAlignment="Center" x:Name="chkdateselection" Content="Select Date" HorizontalAlignment="Stretch"></CheckBox>
                                            <TextBlock Margin="4" x:Name="FromDate" Grid.Row="1" VerticalAlignment="Center" Grid.Column="0" Text="From Date" HorizontalAlignment="Left"></TextBlock>
                                            <controls:DatePicker  Margin="4"    x:Name="dpFromDt"  Grid.Row="1" Width="auto" Height="auto" Grid.Column="1"  HorizontalAlignment="Stretch" VerticalAlignment="Center" ></controls:DatePicker>
                                            <TextBlock  Margin="4" x:Name="ToDate" Grid.Row="2" VerticalAlignment="Center" Grid.Column="0" Text="To Date"></TextBlock>
                                            <controls:DatePicker x:Name="dpToDt" Margin="4"  Grid.Row="2" Width="auto" Height="auto" Grid.Column="1"  HorizontalAlignment="Stretch" VerticalAlignment="Center" ></controls:DatePicker>
                                        </Grid>
                                    </Grp:GroupBox>

                                    <Grp:GroupBox x:Name="grpReturnNo" Header="Return Number"  Margin="2"  Grid.Column="1" >

                                        <Grid HorizontalAlignment="Stretch">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="auto"></RowDefinition>
                                                <RowDefinition Height="auto"></RowDefinition>
                                                <RowDefinition Height="auto"></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="auto"></ColumnDefinition>
                                                <ColumnDefinition ></ColumnDefinition>
                                            </Grid.ColumnDefinitions>
                                            <CheckBox  Margin="4" VerticalAlignment="Center" x:Name="chkReturnNoelection" Content="Select Return No Range" Grid.ColumnSpan="2" HorizontalAlignment="Stretch"></CheckBox>
                                            <TextBlock Margin="4" x:Name="FromNo" Grid.Row="1" VerticalAlignment="Center" Grid.Column="0" Text="From"></TextBlock>
                                            <TextBox Margin="4" x:Name="txtFromIssueNo" Grid.Column="1" Grid.Row="1"  HorizontalAlignment="Stretch"></TextBox>
                                            <TextBlock  Margin="4" x:Name="ToIssueNo" Grid.Row="2" VerticalAlignment="Center" Grid.Column="0" Text="To"></TextBlock>
                                            <TextBox Margin="4" x:Name="txtToIssueNo" Grid.Column="1" Grid.Row="2" HorizontalAlignment="Stretch"></TextBox>

                                        </Grid>

                                    </Grp:GroupBox>
                                    <Grp:GroupBox x:Name="grpClinic" Header="Clinic"  Margin="2" Grid.Column="2" >

                                        <Grid HorizontalAlignment="Stretch">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="auto"></RowDefinition>
                                                <RowDefinition Height="auto"></RowDefinition>
                                                <RowDefinition Height="auto"></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="auto"></ColumnDefinition>
                                                <ColumnDefinition ></ColumnDefinition>
                                                <ColumnDefinition  Width="auto"></ColumnDefinition>
                                            </Grid.ColumnDefinitions>
                                            <CheckBox  Margin="4" VerticalAlignment="Center" x:Name="chkclinic" Content="Select Clinic" Grid.ColumnSpan="2" HorizontalAlignment="Stretch"></CheckBox>
                                            <TextBlock Margin="4" x:Name="FromClinic" Grid.Row="1" VerticalAlignment="Center" Grid.Column="0" Text="From Clinic"></TextBlock>
                                            <inputcombo:AutoCompleteComboBox x:Name="cboFromClinic"   Grid.Row="1"  Grid.Column="1"  Margin="4" HorizontalAlignment="Stretch"></inputcombo:AutoCompleteComboBox>
                                            <TextBlock  Margin="4" x:Name="ToClinic" Grid.Row="2" VerticalAlignment="Center" Grid.Column="0" Text="To Clinic"></TextBlock>
                                            <inputcombo:AutoCompleteComboBox x:Name="cboToClinic"    Grid.Row="2" Grid.Column="1"  Margin="4" HorizontalAlignment="Stretch"></inputcombo:AutoCompleteComboBox>
                                            <ToggleButton x:Name="cmdShow"  Content="Show" Grid.Row="2" Grid.Column="2"   Background="#000000" Margin="4" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible"   />
                                        </Grid>
                                    </Grp:GroupBox>
                                </Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel toolkit:DockPanel.Dock="top">

                                <data:DataGrid x:Name="grdIssueListMaster"     HorizontalAlignment="Stretch"  Margin="4"  ScrollViewer.HorizontalScrollBarVisibility="Visible" ScrollViewer.VerticalScrollBarVisibility="Visible"  AlternatingRowBackground="Silver"     AutoGenerateColumns="false" VerticalAlignment="Stretch">
                                    <data:DataGrid.Columns>

                                        <data:DataGridTextColumn  Header="Return No"  Binding="{Binding ReturnNo}"></data:DataGridTextColumn>
                                        <data:DataGridTextColumn  Header="Return Date"  Binding="{Binding ReturnDate}"></data:DataGridTextColumn>
                                        <data:DataGridTextColumn  Header="From Clinic" Binding="{Binding FromClinic}"></data:DataGridTextColumn>
                                        <data:DataGridTextColumn  Header="To Clinic"  Binding="{Binding ToClinic}"></data:DataGridTextColumn>
                                        <data:DataGridTextColumn  Header="Total Items"  Binding="{Binding TotalItems}"></data:DataGridTextColumn>
                                        <data:DataGridTextColumn  Header="Total Amount"  Binding="{Binding TotaAmt}"></data:DataGridTextColumn>
                                        <data:DataGridTextColumn  Header="VAT Amount"  Binding="{Binding VatAmt}"></data:DataGridTextColumn>

                                    </data:DataGrid.Columns>
                                    <data:DataGrid.RowDetailsTemplate>
                                        <DataTemplate>
                                            <data:DataGrid x:Name="grdIssueListDetails" 
                                               HorizontalAlignment="Stretch" 
                                               VerticalAlignment="Stretch"
                                               Margin="0"  
                                               ScrollViewer.HorizontalScrollBarVisibility="Visible"
                                               ScrollViewer.VerticalScrollBarVisibility="Visible"  
                                               AlternatingRowBackground="Silver"
                                               AutoGenerateColumns="false"
                                               ItemsSource="{Binding ItemDetails}"
                                               RowDetailsVisibilityMode="VisibleWhenSelected" >

                                                <data:DataGrid.Columns>
                                                    <data:DataGridTextColumn  Header="Item Name"  Binding="{Binding ItemName}"></data:DataGridTextColumn>
                                                    <data:DataGridTextColumn  Header="Batch Code" Binding="{Binding BatchCode}"></data:DataGridTextColumn>
                                                    <data:DataGridTextColumn  Header="Quantity"  Binding="{Binding Quantity}"></data:DataGridTextColumn>
                                                    <data:DataGridTextColumn  Header="MRP"  Binding="{Binding MRP}"></data:DataGridTextColumn>
                                                    <data:DataGridTextColumn  Header="Total Amount"  Binding="{Binding TotaAmt}"></data:DataGridTextColumn>
                                                    <data:DataGridTextColumn  Header="VAT %"  Binding="{Binding VatPer}"></data:DataGridTextColumn>
                                                    <data:DataGridTextColumn  Header="VAT Amount"  Binding="{Binding VatAmt}"></data:DataGridTextColumn>
                                                    <data:DataGridTextColumn  Header="Net Amount"  Binding="{Binding NetAmt}"></data:DataGridTextColumn>
                                                    <data:DataGridTextColumn  Header="Vat I/E"  Binding="{Binding VatIE}"></data:DataGridTextColumn>
                                                </data:DataGrid.Columns>
                                            </data:DataGrid>
                                        </DataTemplate>
                                    </data:DataGrid.RowDetailsTemplate>
                                </data:DataGrid>
                            </toolkit:DockPanel>
                        </toolkit:DockPanel>
                    </Border>
                </toolkit:DockPanel>
            </toolkit:DockPanel>

        </Grid>
        <Grid  x:Name="BackPanel" Visibility="Collapsed" Grid.Row="1">
            <toolkit:DockPanel LastChildFill="True" x:Name="DockMainBackPanel" toolkit:DockPanel.Dock="Top">
                <!--<toolkit:DockPanel x:Name="DockHeadingBackPanel" toolkit:DockPanel.Dock="Top">
                    <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0" Margin="4,4,4,4"  Background="Transparent">
                        <ContentControl VerticalAlignment="Center" FontSize="12" Content="Return From Clinic" Margin="2,2,2,2" Style="{StaticResource Header}"     HorizontalAlignment="Stretch" />
                    </Border>
                </toolkit:DockPanel>-->
                <toolkit:DockPanel x:Name="DockBottomBackPanel" toolkit:DockPanel.Dock="Bottom">
                    <StackPanel x:Name="FooterBackPanel" Orientation="Horizontal"    Margin="0,3,5,3" HorizontalAlignment="Right" Background="Transparent">
                        <StackPanel x:Name="SaveCommandPanelBackPanel" Orientation="Horizontal"  Margin="0,0,0,0">
                            <ToggleButton x:Name="CmdSave"  Content="Save"   Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible"  />

                            <ToggleButton x:Name="CmdCancelBaclPanel"  Content="Cancel"  Background="#000000" Margin="5,0,0,0" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Click="CmdCancelBaclPanel_Click"  />
                        </StackPanel>
                    </StackPanel>
                </toolkit:DockPanel>
                <toolkit:DockPanel x:Name="DockClinic" toolkit:DockPanel.Dock="Top">
                    <Grp:GroupBox x:Name="grpCln"    Header="Clinic"  Margin="4,4,500,4"  Grid.Row="0" HorizontalAlignment="Stretch"  Width="auto" Grid.Column="0" >

                        <Grid Height="auto" Width="auto" >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="auto"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" ></ColumnDefinition>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                              
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Return No." Grid.Column="0" Margin="4"></TextBlock>
                            <TextBox Grid.Column="1" x:Name="txtRetNo" IsReadOnly="True"  HorizontalAlignment="Stretch" Margin="4"></TextBox>
                            <TextBlock Margin="4" x:Name="FromCln" Grid.Row="1" VerticalAlignment="Center" Text="From Clinic" Grid.Column="0"></TextBlock>
                            <inputcombo:AutoCompleteComboBox x:Name="cboFromCln"   Grid.Row="1" Grid.Column="1"  Margin="4" HorizontalAlignment="Stretch"></inputcombo:AutoCompleteComboBox>
                            <TextBlock  Margin="4" x:Name="ToCln" Grid.Row="2" VerticalAlignment="Center" Text="To Clinic" Grid.ColumnSpan="2"></TextBlock>
                            <inputcombo:AutoCompleteComboBox x:Name="cboToCln"   Grid.Row="2" Grid.Column="1"  Margin="4" HorizontalAlignment="Stretch"></inputcombo:AutoCompleteComboBox>
                            <ToggleButton x:Name="cmdGetIssuedItems" Grid.Row="2" Grid.Column="2" Content="Get Issued Items"   Background="#000000" Click="cmdGetIssuedItems_Click_2" Margin="4" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonStyle}" Visibility="Visible" Grid.ColumnSpan="2" />

                        </Grid>
                    </Grp:GroupBox>
                </toolkit:DockPanel>
                
                <toolkit:DockPanel x:Name="DockContentBackPanel" toolkit:DockPanel.Dock="Top">
                    <Border  BorderBrush="{StaticResource TabControlDarkerBorder}"   BorderThickness="1" CornerRadius="3,3,0,0" Margin="4,4,4,4"  Background="Transparent">


                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>

                            </Grid.RowDefinitions>
                            <toolkit:DockPanel toolkit:DockPanel.Dock="Top" Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" LastChildFill="True">

                                    <toolkit:DockPanel toolkit:DockPanel.Dock="Left">
                                        <data:DataGrid  Margin="4"  AutoGenerateColumns="False" VerticalAlignment="Stretch"  HorizontalScrollBarVisibility="Auto" HorizontalAlignment="Stretch"  VerticalScrollBarVisibility="Auto">
                                            <data:DataGrid.Columns>
                                                <data:DataGridTemplateColumn Header="">
                                                    <data:DataGridTemplateColumn.CellTemplate>

                                                        <DataTemplate>
                                                            <CheckBox x:Name="chk1"  VerticalAlignment="Center" HorizontalAlignment="Center" Width="20"></CheckBox>
                                                        </DataTemplate>
                                                    </data:DataGridTemplateColumn.CellTemplate>

                                                </data:DataGridTemplateColumn>
                                                <data:DataGridTextColumn  Header="Issue No"  Binding="{Binding IssueNo}"></data:DataGridTextColumn>
                                                <data:DataGridTextColumn  Header="Issue Date"  Binding="{Binding IssueDate}"></data:DataGridTextColumn>

                                            </data:DataGrid.Columns>
                                        </data:DataGrid>

                                    </toolkit:DockPanel>
                                    <toolkit:DockPanel toolkit:DockPanel.Dock="Right">
                                        <data:DataGrid  Margin="4"    HorizontalAlignment="Stretch"  AutoGenerateColumns="False" Width="auto" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                                            <data:DataGrid.Columns>
                                                <data:DataGridTemplateColumn >
                                                    <data:DataGridTemplateColumn.CellTemplate>

                                                        <DataTemplate>
                                                            <CheckBox x:Name="chk1" VerticalAlignment="Center" HorizontalAlignment="Center" Width="20"></CheckBox>
                                                        </DataTemplate>
                                                    </data:DataGridTemplateColumn.CellTemplate>

                                                </data:DataGridTemplateColumn>
                                                <data:DataGridTextColumn  Header="Item Code"  Binding="{Binding ItemCode}"></data:DataGridTextColumn>
                                                <data:DataGridTextColumn  Header="Item Name"  Binding="{Binding ItemName}"></data:DataGridTextColumn>
                                                <data:DataGridTextColumn  Header="Issued Quantity" Binding="{Binding IssuedQnt}"></data:DataGridTextColumn>
                                                <data:DataGridTextColumn  Header="Balance Quantity"  Binding="{Binding BalQnt}"></data:DataGridTextColumn>
                                                <data:DataGridTextColumn  Header="Issue No"  Binding="{Binding IssueNo}"></data:DataGridTextColumn>

                                            </data:DataGrid.Columns>
                                        </data:DataGrid>
                                    </toolkit:DockPanel>
                                </toolkit:DockPanel>
                                <toolkit:DockPanel toolkit:DockPanel.Dock="Bottom" Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                    <data:DataGrid  Margin="4" Height="auto" Width="auto"    HorizontalAlignment="Left" AutoGenerateColumns="False"  HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                                        <data:DataGrid.Columns>
                                            <data:DataGridTemplateColumn >
                                                <data:DataGridTemplateColumn.CellTemplate>

                                                    <DataTemplate>
                                                        <CheckBox x:Name="chk1" VerticalAlignment="Center" HorizontalAlignment="Center" Width="20"></CheckBox>
                                                    </DataTemplate>
                                                </data:DataGridTemplateColumn.CellTemplate>

                                            </data:DataGridTemplateColumn>
                                            <data:DataGridTextColumn  Header="Item Code"  Binding="{Binding ItemCode}"></data:DataGridTextColumn>
                                            <data:DataGridTextColumn  Header="Item Name"  Binding="{Binding ItemName}"></data:DataGridTextColumn>
                                            <data:DataGridTextColumn  Header="Batch Code" Binding="{Binding IssuedQnt}"></data:DataGridTextColumn>
                                            <data:DataGridTextColumn  Header="Exp Date"  Binding="{Binding BalQnt}"></data:DataGridTextColumn>
                                            <data:DataGridTextColumn  Header="Issue Quantity"  Binding="{Binding IssueNo}"></data:DataGridTextColumn>
                                            <data:DataGridTextColumn  Header="Balance Quantity"  Binding="{Binding IssueNo}"></data:DataGridTextColumn>
                                            <data:DataGridTextColumn  Header="MRP"  Binding="{Binding IssueNo}"></data:DataGridTextColumn>
                                            <data:DataGridTextColumn  Header="Ret.Qnt"  Binding="{Binding IssueNo}"></data:DataGridTextColumn>
                                            <data:DataGridTextColumn  Header="Net.Amt"  Binding="{Binding IssueNo}"></data:DataGridTextColumn>
                                            <data:DataGridTextColumn  Header="Net pay Before VAT.Amt"  Binding="{Binding IssueNo}"></data:DataGridTextColumn>
                                            <data:DataGridTextColumn  Header="Total For VAT"  Binding="{Binding IssueNo}"></data:DataGridTextColumn>

                                        </data:DataGrid.Columns>
                                    </data:DataGrid>
                                </toolkit:DockPanel>
                         
        </Grid>




        </Border>
                </toolkit:DockPanel>
            </toolkit:DockPanel>
        </Grid>
    </Grid>
   
</UserControl>
