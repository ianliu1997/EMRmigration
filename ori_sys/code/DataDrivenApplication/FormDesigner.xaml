<UserControl xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"  x:Class="DataDrivenApplication.FormDesigner"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
             xmlns:Common="clr-namespace:DataDrivenApplication"
             xmlns:Data="clr-namespace:System.Windows;assembly=System.Windows.Controls"
    >
    <UserControl.Resources>

        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Themes/Generic1.xaml"/>
            </ResourceDictionary.MergedDictionaries>

        </ResourceDictionary>

        <Data:HierarchicalDataTemplate x:Key="FieldItemTemplate" ItemsSource="{Binding Path=DependentFieldDetail}">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="Field : " />
                <TextBlock Text="{Binding Path=Title}" />
            </StackPanel>
        </Data:HierarchicalDataTemplate>
        <Data:HierarchicalDataTemplate x:Key="SectionItemTemplate" ItemsSource="{Binding Path=FieldList}" ItemTemplate="{StaticResource FieldItemTemplate}">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="Section : " />
                <TextBlock Text="{Binding Path=Title}" />
            </StackPanel>
        </Data:HierarchicalDataTemplate>
        <Data:HierarchicalDataTemplate x:Key="FormItemTemplate" ItemsSource="{Binding Path=SectionList}" ItemTemplate="{StaticResource SectionItemTemplate}">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="Form : " />
                <TextBlock Text="{Binding Path=Title}" />
            </StackPanel>
        </Data:HierarchicalDataTemplate>
    </UserControl.Resources>
    <Grid x:Name="LayoutRoot" Background="White"  Margin="10">

        <Border x:Name="Container" BorderBrush="{StaticResource BorderDefault}" BorderThickness="1,1,1,1" CornerRadius="5,5,5,5" Padding="5,5,5,5" Margin="0,8,0,0" >
            <Grid>
                <Grid Margin="5,15,5,5">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="200" MaxWidth="200" MinWidth="200"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid Grid.RowSpan="2" Background="White"  Margin="0">
                        <Border  BorderBrush="{StaticResource BorderDefault}" BorderThickness="1,1,1,1" CornerRadius="5,5,5,5" Padding="5,5,5,5" Margin="0,8,0,0" >
                            <Grid Margin="0">
                                <ScrollViewer Style="{StaticResource ScrollViewerStyle1}" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Auto">
                                    <controls:TreeView x:Name="trvFormStructure" ItemTemplate="{StaticResource FormItemTemplate}" BorderBrush="Transparent" SelectedItemChanged="trvFormStructure_SelectedItemChanged" ></controls:TreeView>
                                </ScrollViewer>
                            </Grid>
                        </Border>
                        <Border HorizontalAlignment="Left" Margin="8,0,0,0"  VerticalAlignment="Top" Background="{StaticResource BackgroundDefault}" BorderBrush="{StaticResource BorderDefault}" BorderThickness="1,1,1,1" CornerRadius="5,5,5,5" RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform ScaleY="0.994"/>
                                    <SkewTransform AngleX="-20"/>
                                    <RotateTransform/>
                                    <TranslateTransform X="3.627" Y="0.063"/>
                                </TransformGroup>
                            </Border.RenderTransform>
                            <TextBlock  Text="Form Structure" FontFamily="Portable User Interface" Margin="10,1,10,1" Foreground="{StaticResource Heading}" FontWeight="Bold"/>
                        </Border>
                    </Grid>



                    <Grid Grid.Column="1" Grid.Row="2" Background="White"  Margin="10,0,0,0">
                        <Border  BorderBrush="{StaticResource BorderDefault}" BorderThickness="1,1,1,1" CornerRadius="5,5,5,5" Padding="5,5,5,5" Margin="0,8,0,0" >
                            <Grid Margin="5,15,5,5">
                                <ScrollViewer Style="{StaticResource ScrollViewerStyle1}" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Auto">
                                    <Grid x:Name="Form">
                                    </Grid>
                                </ScrollViewer>
                            </Grid>
                        </Border>
                        <Border HorizontalAlignment="Right" Margin="0,0,18,0"  VerticalAlignment="Top" Background="{StaticResource BackgroundDefault}" BorderBrush="{StaticResource BorderDefault}" BorderThickness="1,1,1,1" CornerRadius="5,5,5,5" RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform ScaleY="0.994"/>
                                    <SkewTransform AngleX="-20"/>
                                    <RotateTransform/>
                                    <TranslateTransform X="3.627" Y="0.063"/>
                                </TransformGroup>
                            </Border.RenderTransform>
                            <TextBlock  Text="Form Preview" FontFamily="Portable User Interface" Margin="10,1,10,1" Foreground="{StaticResource Heading}" FontWeight="Bold"/>
                        </Border>
                    </Grid>
                </Grid>
                <StackPanel  Orientation="Horizontal" x:Name="ItemListToolbar" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="215,-2,0,0">
                    <Button x:Name="AddItemButton" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontFamily="Portable User Interface" FontWeight="Bold" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="1" Click="AddItemButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <Common:XamlCross Width="9" Height="9" Margin="0,0,5,0" RenderTransformOrigin="0.5,0.5">
                                <Common:XamlCross.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform/>
                                        <SkewTransform/>
                                        <RotateTransform Angle="45"/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Common:XamlCross.RenderTransform>
                            </Common:XamlCross>
                            <TextBlock x:Name="cmdAdd" Text="Add" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="EditItemButton" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontWeight="Bold" FontFamily="Portable User Interface" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="2" Click="EditItemButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <Common:XamlPencil Width="10" Height="10" RenderTransformOrigin="0.5,0.5" Margin="0,0,5,0">
                                <Common:XamlPencil.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform/>
                                        <SkewTransform/>
                                        <RotateTransform Angle="-45"/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Common:XamlPencil.RenderTransform>
                            </Common:XamlPencil>
                            <TextBlock x:Name="cmdEdit" Text="Edit" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="DeleteItemButton" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontFamily="Portable User Interface" FontWeight="Bold" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="3" Click="DeleteItemButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <Common:XamlCross Width="10" Height="10" Margin="0,0,5,0"/>
                            <TextBlock x:Name="cmdDelete" Text="Delete" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="SerilizeItemButton" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontFamily="Portable User Interface" FontWeight="Bold" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="3" Click="SaveTemplateItemButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock  Text="Save" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>

                    <Button Visibility="Collapsed" x:Name="SaveItemButton" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontFamily="Portable User Interface" FontWeight="Bold" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="3" Click="SerilizeTemplateItemButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <Common:XamlCheckmark Width="13" Height="13" Margin="0,0,5,0" RenderTransformOrigin="0.5,0.5">
                            </Common:XamlCheckmark>
                            <TextBlock x:Name="cmdSerilize" Text="Save As" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>

                    <Button  x:Name="ManagePCR" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontFamily="Portable User Interface" FontWeight="Bold" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="3" Click="ManagePCR_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="PCR" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>

                    <Button  x:Name="ManageReferral" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontFamily="Portable User Interface" FontWeight="Bold" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="3" Click="ManageReferral_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Referral" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="RelationMgmtButton" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontFamily="Portable User Interface" FontWeight="Bold" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="3" Click="RelationManageButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock  Text="Relations" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="PositionMgmtButton" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontFamily="Portable User Interface" FontWeight="Bold" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="3" Click="PositionMgmtButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock  Text="Positions" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>

                    <Button Visibility="Collapsed" x:Name="PrintButton" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontFamily="Portable User Interface" FontWeight="Bold" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="3" Click="PrintButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock  Text="Print" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="CloseItemButton" x:FieldModifier="public" Style="{StaticResource ButtonDefault}" Foreground="{StaticResource Heading}" FontFamily="Portable User Interface" FontWeight="Bold" Margin="0,0,5,0" Padding="10,3,10,3" TabIndex="3" Click="CloseItemButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <Common:XamlCheckmark Width="13" Height="13" Margin="0,0,5,0" RenderTransformOrigin="0.5,0.5">
                            </Common:XamlCheckmark>
                            <TextBlock Text="Close" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>

        </Border>
        <Border HorizontalAlignment="Left" Margin="8,0,0,0" x:Name="ContainerTitle" VerticalAlignment="Top" Background="{StaticResource BackgroundDefault}" BorderBrush="{StaticResource BorderDefault}" BorderThickness="1,1,1,1" CornerRadius="5,5,5,5" RenderTransformOrigin="0.5,0.5">
            <Border.RenderTransform>
                <TransformGroup>
                    <ScaleTransform ScaleY="0.994"/>
                    <SkewTransform AngleX="-20"/>
                    <RotateTransform/>
                    <TranslateTransform X="3.627" Y="0.063"/>
                </TransformGroup>
            </Border.RenderTransform>
            <TextBlock x:Name="FormTitle" Text="Form Designer" FontFamily="Portable User Interface" Margin="10,1,10,1" Foreground="{StaticResource Heading}" FontWeight="Bold"/>
        </Border>
    </Grid>
</UserControl>
